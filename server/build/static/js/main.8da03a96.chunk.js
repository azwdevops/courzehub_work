(this["webpackJsonpmern-auth"]=this["webpackJsonpmern-auth"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"OPEN_SIGNUP",(function(){return N})),n.d(a,"CLOSE_SIGNUP",(function(){return C})),n.d(a,"OPEN_LOGIN",(function(){return S})),n.d(a,"CLOSE_LOGIN",(function(){return A})),n.d(a,"AUTH_SUCCESS",(function(){return I})),n.d(a,"LOGOUT",(function(){return T})),n.d(a,"OPEN_FORGOT_PASSWORD",(function(){return F})),n.d(a,"CLOSE_FORGOT_PASSWORD",(function(){return E})),n.d(a,"OPEN_RESEND_ACTIVATION",(function(){return L})),n.d(a,"CLOSE_RESEND_ACTIVATION",(function(){return P})),n.d(a,"OPEN_PASSWORD_RESET_CONFIRM",(function(){return z})),n.d(a,"CLOSE_PASSWORD_RESET_CONFIRM",(function(){return W})),n.d(a,"OPEN_CHANGE_PASSWORD",(function(){return R})),n.d(a,"CLOSE_CHANGE_PASSWORD",(function(){return D})),n.d(a,"SET_ALERT",(function(){return G})),n.d(a,"REMOVE_ALERT",(function(){return U})),n.d(a,"START_LOADING",(function(){return B})),n.d(a,"STOP_LOADING",(function(){return H})),n.d(a,"ADD_ORGANIZATION",(function(){return q})),n.d(a,"GET_ORGANIZATIONS",(function(){return M})),n.d(a,"UPDATE_ORGANIZATION",(function(){return Z})),n.d(a,"NEW_ORGANIZATION_TASK",(function(){return V})),n.d(a,"GET_TASKS",(function(){return K})),n.d(a,"EDIT_ORGANIZATION_TASK",(function(){return J})),n.d(a,"GET_WORKERS",(function(){return Q})),n.d(a,"EDIT_WORKER",(function(){return Y}));var i,r=n(0),s=n(1),o=n.n(s),c=n(17),l=n.n(c),u=(n(80),n(4)),d=n(12),j=n(11),b=(n(85),n(3)),O=n(72),p=function(e){var t=e.component,n=Object(O.a)(e,["component"]);return Object(r.jsx)(j.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return localStorage.getItem("session_cookie")?Object(r.jsx)(t,Object(b.a)({},e)):Object(r.jsx)(j.a,{to:"/"})}}))},h=(n(87),n(156)),m=function(){var e=document.getElementById("nav-bar"),t=document.getElementById("body-pd");e.classList.toggle("show"),t.classList.toggle("body-pd")},f=n(9),v=n(5),x=n(154),g={success:"success",error:"error",fillFields:"Please fill all fields",unknown_error:"An unknown error occurred, please try again later",dev:!1,testProduction:!1,liveProduction:!0,devHome:"http://localhost:8000",testHome:"https://courzehub-work.herokuapp.com",productionHome:"https://work.courzehub.com"},_=function(e){for(var t in e)if(""==="".concat(e[t]))return!0;return!1},w=function(e){for(var t in e)e[t]=""},k=n(155),y=function(e){return Object(r.jsx)(k.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"sm",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},N="OPEN_SIGNUP",C="CLOSE_SIGNUP",S="OPEN_LOGIN",A="CLOSE_LOGIN",I="AUTH_SUCCESS",T="LOGOUT",F="OPEN_FORGOT_PASSWORD",E="CLOSE_FORGOT_PASSWORD",L="OPEN_RESEND_ACTIVATION",P="CLOSE_RESEND_ACTIVATION",z="OPEN_PASSWORD_RESET_CONFIRM",W="CLOSE_PASSWORD_RESET_CONFIRM",R="OPEN_CHANGE_PASSWORD",D="CLOSE_CHANGE_PASSWORD",G="SET_ALERT",U="REMOVE_ALERT",B="START_LOADING",H="STOP_LOADING",q="ADD_ORGANIZATION",M="GET_ORGANIZATIONS",Z="UPDATE_ORGANIZATION",V="NEW_ORGANIZATION_TASK",K="GET_TASKS",J="EDIT_ORGANIZATION_TASK",Q="GET_WORKERS",Y="EDIT_WORKER",X=n(6),$=n.n(X),ee=n(8),te=g.unknown_error,ne=function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:G,payload:{status:!0,alertType:e,detail:t}}),setTimeout((function(){a({type:U,payload:{status:!1,alertType:"",detail:""}})}),3e3);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){var t,n,a,i,r,s;400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?window.alert(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail):413===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)?window.alert("Video file too large, a maximum of 95MB allowed."):window.alert(te)},ie=function(e){e({type:H})},re=n(67);i=g.testProduction?g.testHome:g.liveProduction?g.productionHome:g.devHome;var se=n.n(re).a.create({baseURL:i});se.interceptors.request.use((function(e){return localStorage.getItem("session_cookie")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("session_cookie")),e.headers.Accept="application/json"),e}));var oe=se,ce=function(e){return oe.post("/api/user/signup/",e)},le=function(e){return oe.post("/api/user/activate-user-account/",{activation_token:e})},ue=function(e){return oe.post("/api/user/resend-account-activation-link/",{email:e})},de=function(e){return oe.post("/api/user/login/",e)},je=function(e){return oe.post("/api/user/user-request-password-reset/",{email:e})},be=function(e,t){return oe.post("/api/user/user-set-new-password/",Object(b.a)(Object(b.a)({},e),{},{password_token:t}))},Oe=function(e,t){return oe.post("/api/user/change-user-password/".concat(t,"/"),e)},pe=function(e,t){return oe.post("/api/work/maintain-organizations/".concat(e,"/"),t)},he=function(e,t){return oe.post("/api/work/maintain-organization-tasks/".concat(e,"/"),t)},me=function(e,t){return oe.post("/api/work/worker-application/".concat(e,"/"),t)},fe=function(e){return oe.get("/api/work/maintain-organizations/".concat(e,"/"))},ve=function(e){return oe.get("/api/work/maintain-organization-tasks/".concat(e,"/"))},xe=function(e){return oe.get("/api/work/worker-application/".concat(e,"/"))},ge=function(e,t){return oe.patch("/api/user/update-user-details/".concat(t,"/"),e)},_e=function(e,t){return oe.patch("/api/work/maintain-organizations/".concat(e,"/"),t)},we=function(e,t){return oe.patch("/api/work/maintain-organization-tasks/".concat(e,"/"),t)},ke=function(e,t){return oe.patch("/api/work/worker-application/".concat(e,"/"),t)},ye=g.error,Ne=g.success,Ce=g.unknown_error,Se=function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/api/user/get-user-data/").then((function(e){var n;t({type:I,payload:null===(n=e.data)||void 0===n?void 0:n.user})})).catch((function(e){t({type:T}),localStorage.clear()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.clear(),n({type:T}),e.replace("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ie=Object(u.b)((function(e){var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,loginForm:e.auth.loginForm,alert:e.shared.alert}}),(function(e){return{startLoading:function(){return e({type:B})},newAlert:function(t,n){return e(ne(t,n))},loginUser:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,de(e).then((function(e){var n;localStorage.setItem("session_cookie",null===(n=e.data)||void 0===n?void 0:n.access),t(),a({type:A}),a(Se())})).catch((function(e){var t,n,i;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(ne(ye,null===(i=e.response.data)||void 0===i?void 0:i.detail)):401===(null===(n=e.response)||void 0===n?void 0:n.status)?a(ne(ye,"Invalid login, ensure your account is activated")):console.log(e)})).finally((function(){a({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},closeLogin:function(){return e({type:A})},openPasswordReset:function(){return e({type:F})},openSignup:function(){return e({type:N})},openResendActivation:function(){return e({type:L})}}}))((function(e){var t=e.loading,n=e.alert,a=e.loginForm,i=e.startLoading,o=e.newAlert,c=e.loginUser,l=e.closeLogin,u=e.openPasswordReset,d=e.openSignup,j=e.openResendActivation,O=Object(s.useState)({email:"",password:""}),p=Object(v.a)(O,2),h=p[0],m=p[1],k=g.error,N=h.email,C=h.password,S=function(){w(h)},A=function(e){m(Object(b.a)(Object(b.a)({},h),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(y,{isOpen:a,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Login here"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",onChange:A,value:N})]}),t&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",onChange:A,value:C})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){l(),S()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),_(h))return o(k,"Email and password required");i(),c(h,S)},children:"Login"})]}),Object(r.jsxs)("div",{className:"extra__formButtons",children:[Object(r.jsx)("label",{htmlFor:"",className:"button",onClick:function(){u(),l()},children:"Forgot Password"}),Object(r.jsx)("label",{htmlFor:"",className:"button",style:{justifySelf:"end"},onClick:function(){d(),l()},children:"Create Account"})]}),Object(r.jsx)("div",{className:"extra__formButtons",children:Object(r.jsx)("label",{htmlFor:"",className:"button",onClick:function(){j(),l()},children:"Resend Activation"})})]})})})})),Te=function(e){return Object(r.jsx)(k.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"md",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},Fe=Object(u.b)((function(e){var t,n;return{signupForm:e.auth.signupForm,alert:null===(t=e.shared)||void 0===t?void 0:t.alert,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:B})},closeSignup:function(){return e({type:C})},newAlert:function(t,n){return e(ne(t,n))},signupUser:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce(e).then((function(e){var n;a(ne(Ne,null===(n=e.data)||void 0===n?void 0:n.detail)),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(ne(ye,null===(n=e.response.data)||void 0===n?void 0:n.detail)):alert(Ce)})).finally((function(){a({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.loading,n=e.signupForm,a=e.alert,i=e.startLoading,o=e.closeSignup,c=e.newAlert,l=e.signupUser,u=Object(s.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),d=Object(v.a)(u,2),j=d[0],O=d[1],p=j.first_name,h=j.last_name,m=j.username,k=j.email,y=j.password,N=j.confirm_password,C=g.error,S=g.fillFields,A=function(){w(j)},I=function(e){O(Object(b.a)(Object(b.a)({},j),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(Te,{isOpen:n,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Create new account"}),Object(r.jsx)("p",{className:"response__message ".concat(a.alertType),children:a.status&&a.detail}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"First Name"}),Object(r.jsx)("input",{type:"text",name:"first_name",value:p,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(r.jsx)("input",{type:"text",name:"last_name",value:h,onChange:I,required:!0})]})]}),t&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Username"}),Object(r.jsx)("input",{type:"text",name:"username",value:m,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",username:k,onChange:I,required:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",className:"label__left",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",value:y,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_password",value:N,onChange:I,required:!0})]})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){o(),A()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){return e.preventDefault(),_(j)?c(C,S):y!==N?c(C,"Passwords should match"):(i(),void l(j,A))},children:"Sign Up"})]}),Object(r.jsx)("div",{className:"extra__formButtons"})]})})})),Ee=Object(u.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,forgotPasswordForm:null===(a=e.auth)||void 0===a?void 0:a.forgotPasswordForm}}),(function(e){return{startLoading:function(){return e({type:B})},newAlert:function(t,n){return e(ne(t,n))},resetPassword:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e).then((function(e){var n;a(ne(Ne,null===(n=e.data)||void 0===n?void 0:n.detail)),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(ne(ye,null===(n=e.response.data)||void 0===n?void 0:n.detail)):a(ne(ye,Ce))})).finally((function(){a({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},closeForgotPassword:function(){return e({type:E})}}}))((function(e){var t=e.loading,n=e.alert,a=e.forgotPasswordForm,i=e.startLoading,o=e.newAlert,c=e.resetPassword,l=e.closeForgotPassword,u=Object(s.useState)(""),d=Object(v.a)(u,2),j=d[0],b=d[1],O=g.error,p=function(){b("")};return Object(r.jsx)(y,{isOpen:a,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter your email to reset password"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),t&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){l(),p()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),""===j.trim())return o(O,"Email required");i(),c(j,p)},children:"Reset"})]})]})})})),Le=Object(u.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,resendActivationForm:null===(a=e.auth)||void 0===a?void 0:a.resendActivationForm}}),(function(e){return{startLoading:function(){return e({type:B})},newAlert:function(t,n){return e(ne(t,n))},closeResendActivation:function(){return e({type:P})},resendActivation:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ue(e).then((function(e){a(ne(Ne,"Activation link sent to email.")),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(ne(ye,null===(n=e.response.data)||void 0===n?void 0:n.detail)):a(ne(ye,"An error occurred, please try again later"))})).finally((function(){a({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.loading,n=e.alert,a=e.resendActivationForm,i=e.startLoading,o=e.newAlert,c=e.closeResendActivation,l=e.resendActivation,u=Object(s.useState)(""),d=Object(v.a)(u,2),j=d[0],b=d[1],O=g.error,p=function(){b("")};return Object(r.jsx)(y,{isOpen:a,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter email to resend confirmation link"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),t&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j,required:!0})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){c(),p()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),""===j.trim())return o(O,"Email required");i(),l(j,p)},children:"Send"})]})]})})})),Pe=function(){var e=Object(u.c)(),t=(Object(j.h)(),Object(j.g)()),n=localStorage.getItem("session_cookie"),a=Object(u.d)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.username})),i=Object(u.d)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.userImage}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{className:"header",id:"header",children:[Object(r.jsxs)("div",{className:"header__toggle",children:[Object(r.jsx)("i",{className:"bx bx-menu",id:"header-toggle",onClick:m}),Object(r.jsx)("h1",{children:"CourZe Hub Work"})]}),n?Object(r.jsx)("div",{className:"header__right authenticated",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(h.a,{alt:a,src:i,className:"user__image",children:null===a||void 0===a?void 0:a.charAt(0)}),Object(r.jsx)("h6",{children:a}),Object(r.jsx)("i",{className:"bx bx-caret-down"})]}),Object(r.jsxs)("ul",{className:"dropdown",children:[Object(r.jsx)("li",{children:Object(r.jsx)(d.b,{to:"/dashboard/",children:"Dashboard"})}),Object(r.jsx)("li",{onClick:function(){return e(Ae(t))},children:"Logout"})]})]})}):Object(r.jsxs)("div",{className:"header__right",children:[Object(r.jsx)("span",{className:"button",onClick:function(){return e({type:S})},children:"Login"}),Object(r.jsx)("span",{className:"button",onClick:function(){return e({type:N})},children:"Signup"})]})]}),Object(r.jsx)(Ie,{}),Object(r.jsx)(Fe,{}),Object(r.jsx)(Ee,{}),Object(r.jsx)(Le,{})]})},ze=(n(107),Object(u.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,profile_type:null===(n=e.auth.user)||void 0===n?void 0:n.profile_type}}),(function(e){return{}}))((function(e){var t=e.userId,n=e.profile_type,a=Object(j.g)(),i=Object(u.c)();return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)("div",{className:"home__left",children:("Worker"===n||!n)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Earn by using your skills."}),Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){t?"Worker"===n?a.push("/worker/work-center/"):a.push("/profile"):i({type:S})},children:"Start Now"})]})}),Object(r.jsx)("div",{className:"home__right",children:("Organization Admin"===n||!n)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Tap into remote talent."}),Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){t?"Organization Admin"===n?a.push("/organization-admin/maintain-tasks/"):a.push("/profile"):i({type:S})},children:"Get Started"})]})})]})}))),We=(n(108),function(e){var t=e.Link,n=e.pathname;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(t,{to:"/sys-admin/maintain-organizations/",className:"/sys-admin/maintain-organizations/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"bx bxs-school"}),Object(r.jsx)("span",{className:"nav__name",children:"Organizations"})]}),Object(r.jsxs)(t,{to:"/sys-admin/maintain-workers/",className:"/sys-admin/maintain-workers/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Workers"})]})]})}),Re=function(e){var t=e.Link,n=e.pathname;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(t,{to:"/organization-admin/maintain-tasks/",className:"/organization-admin/maintain-tasks/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Tasks"})]})})},De=function(e){var t=e.Link,n=e.pathname;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(t,{to:"/worker/work-center/",className:"/worker/work-center/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Work Center"})]})})},Ge=Object(u.b)((function(e){var t,n,a;return{loggedIn:null===(t=e.auth)||void 0===t?void 0:t.loggedIn,profile_type:null===(n=e.auth)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.profile_type}}),(function(e){return{logoutUser:function(t){return e(Ae(t))}}}))((function(e){var t=Object(j.g)(),n=Object(j.h)().pathname,a=e.loggedIn,i=e.profile_type,s=e.logoutUser;return Object(r.jsx)("div",{className:"left-navbar",id:"nav-bar",children:Object(r.jsxs)("nav",{className:"nav",children:[Object(r.jsxs)(d.b,{to:"",className:"nav__logo",children:[Object(r.jsx)("i",{className:"bx bx-layer nav__logo-icon"}),Object(r.jsx)("span",{className:"nav__logo-name",children:"AZW"})]}),Object(r.jsxs)("div",{className:"nav__list",children:[Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(d.b,{to:"/",className:"/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{class:"bx bx-home"}),Object(r.jsx)("span",{className:"nav__name",children:"Home"})]})}),a&&Object(r.jsxs)(r.Fragment,{children:["System Admin"===i&&Object(r.jsx)(We,{Link:d.b,pathname:n}),"Organization Admin"===i&&Object(r.jsx)(Re,{Link:d.b,pathname:n}),"Worker"===i&&Object(r.jsx)(De,{Link:d.b,pathname:n}),Object(r.jsxs)(d.b,{to:"/dashboard/",className:"/dashboard/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"bx bx-grid-alt nav__icon"}),Object(r.jsx)("span",{className:"nav__name",children:"Dashboard"})]}),Object(r.jsxs)(d.b,{to:"/profile/",className:"/profile/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{class:"bx bx-user nav__icon"}),Object(r.jsx)("span",{className:"nav__name",children:"Profile"})]}),Object(r.jsxs)(d.b,{to:"",className:"nav__link",onClick:function(){return s(t)},children:[Object(r.jsx)("i",{className:"bx bx-log-out-circle"}),Object(r.jsx)("span",{className:"nav__name",children:"Logout"})]})]})]})]})})})),Ue=(n(109),function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Dashboard"})})}),Be=(n(59),Object(u.b)((function(e){var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading}}),(function(e){return{startLoading:function(){return e({type:B})},activateUser:function(t,n){return e((a={activation_token:t,history:n},function(){var e=Object(ee.a)($.a.mark((function e(t){var n,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.activation_token,i=a.history,e.next=3,le(n).then((function(e){var n;alert(null===(n=e.data)||void 0===n?void 0:n.detail),t({type:S})})).catch((function(e){var n;400===e.response.status?(alert(null===(n=e.response.data)||void 0===n?void 0:n.detail),t({type:L})):alert(Ce)})).finally((function(){t({type:H}),i.replace("/")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=Object(j.i)().activation_token,n=Object(j.g)(),a=e.loading,i=e.startLoading,s=e.activateUser;return Object(r.jsxs)("div",{className:"activate__account",id:a?"formSubmitting":"",children:[Object(r.jsx)("h1",{children:"Click on the button below to verify your account"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"1%"}}),Object(r.jsx)("button",{type:"button",onClick:function(){i(),s(t,n)},children:"Verify"})]})}))),He=Object(u.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,resetPasswordConfirmForm:null===(n=e.auth)||void 0===n?void 0:n.resetPasswordConfirmForm,alert:null===(a=e.shared)||void 0===a?void 0:a.alert}}),(function(e){return{startLoading:function(){return e({type:B})},setNewPassword:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(i){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,be(e,t).then((function(e){var t;alert(null===(t=e.data)||void 0===t?void 0:t.detail),i({type:W}),n.replace("/"),i({type:S})})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?i(ne(ye,null===(n=e.response.data)||void 0===n?void 0:n.detail)):i(ne(ye,Ce))})).finally((function(){i({type:H})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},openNewPassword:function(){return e({type:z})},closeNewPassword:function(){return e({type:W})},newAlert:function(t,n){return e(ne(t,n))}}}))((function(e){var t=Object(j.g)(),n=Object(j.i)().password_token,a=e.loading,i=e.alert,o=e.resetPasswordConfirmForm,c=e.startLoading,l=e.setNewPassword,u=e.newAlert,d=e.openNewPassword,O=e.closeNewPassword,p=Object(s.useState)({new_password:"",confirm_password:""}),h=Object(v.a)(p,2),m=h[0],k=h[1],N=m.new_password,C=m.confirm_password,S=g.error,A=function(e){return k(Object(b.a)(Object(b.a)({},m),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"activate__account",children:[Object(r.jsx)("h1",{children:"Click the button to set new password"}),Object(r.jsx)("button",{type:"button",onClick:d,children:"Set New password"})]}),Object(r.jsx)(y,{isOpen:o,children:Object(r.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter new password"}),Object(r.jsx)("p",{className:"response__message ".concat(i.alertType),children:i.status&&i.detail}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"New Password"}),Object(r.jsx)("input",{type:"password",name:"new_password",onChange:A,value:N})]}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_password",onChange:A,value:C})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){w(m),O()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),_(m))return u(S,"Both fields are required");c(),l(m,n,t)},children:"Submit"})]})]})})]})}));n(110);var qe=function(){return Object(r.jsxs)("div",{className:"not__found",children:[Object(r.jsx)("h1",{className:"not__foundHeading",children:"404 resource not found"}),Object(r.jsx)("p",{children:"Please try again."})]})},Me=(n(111),Object(u.b)((function(e){var t,n,a,i;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,changePasswordForm:null===(a=e.auth)||void 0===a?void 0:a.changePasswordForm,userId:null===(i=e.auth.user)||void 0===i?void 0:i.id}}),(function(e){return{startLoading:function(){return e({type:B})},changeUserPassword:function(t,n,a,i){return e(function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(i){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe(e,t).then((function(e){var t;alert(Ne,null===(t=e.data)||void 0===t?void 0:t.detail),i({type:D}),i(Ae(n)),i({type:S})})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?i(ne(ye,null===(n=e.response.data)||void 0===n?void 0:n.detail)):i(ne(ye,Ce))})).finally((function(){i({type:H})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},closeChangePassword:function(){return e({type:D})},newAlert:function(t,n){return e(ne(t,n))}}}))((function(e){var t=Object(j.g)(),n=e.loading,a=e.alert,i=e.changePasswordForm,o=e.userId,c=e.startLoading,l=e.newAlert,u=e.changeUserPassword,d=e.closeChangePassword,O=Object(s.useState)({current_password:"",new_password:"",confirm_new_password:""}),p=Object(v.a)(O,2),h=p[0],m=p[1],k=h.current_password,N=h.new_password,C=h.confirm_new_password,S=g.error,A=function(){w(h)},I=function(e){m(Object(b.a)(Object(b.a)({},h),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(y,{isOpen:i,children:Object(r.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Change your password here"}),Object(r.jsx)("p",{className:"response__message ".concat(null===a||void 0===a?void 0:a.alertType),children:(null===a||void 0===a?void 0:a.status)&&(null===a||void 0===a?void 0:a.detail)}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Old Password"}),Object(r.jsx)("input",{type:"password",name:"current_password",value:k,onChange:I})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"New Password"}),Object(r.jsx)("input",{type:"password",name:"new_password",value:N,onChange:I})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_new_password",value:C,onChange:I})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){A(),d()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),_(h))return l(S,"All fields are required");c(),u(h,o,t,A)},children:"Submit"})]})]})})}))),Ze=n(68),Ve=n.n(Ze),Ke=(n(113),function(){function e(e,t){document.execCommand(e,!1,t)}return Object(r.jsxs)("div",{id:"toolbar",children:[Object(r.jsx)("button",{onClick:function(t){return e("bold")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-bold"})}),Object(r.jsx)("button",{onClick:function(t){return e("italic")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-italic"})}),Object(r.jsx)("button",{onClick:function(t){return e("insertUnorderedList")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-list-ul"})}),Object(r.jsx)("button",{onClick:function(t){return e("insertOrderedList")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-list-ol"})}),Object(r.jsx)("button",{onClick:function(t){return e("underline")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-underline"})}),Object(r.jsx)("button",{onClick:function(t){return e("subscript")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-subscript"})}),Object(r.jsx)("button",{onClick:function(t){return e("superscript")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-superscript"})}),Object(r.jsx)("button",{onClick:function(t){return e("outdent")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-outdent"})}),Object(r.jsx)("button",{onClick:function(t){return e("indent")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-indent"})}),Object(r.jsx)("button",{onClick:function(t){return e("justifyFull")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-justify"})}),Object(r.jsx)("button",{onClick:function(t){return e("justifyLeft")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-left"})}),Object(r.jsx)("button",{onClick:function(t){return e("justifyCenter")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-center"})}),Object(r.jsx)("button",{onClick:function(t){return e("justifyRight")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-right"})}),Object(r.jsx)("button",{onClick:function(t){return e("undo")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-undo"})}),Object(r.jsx)("button",{onClick:function(t){return e("redo")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-repeat"})}),Object(r.jsx)("button",{onClick:function(t){return e("strikethrough")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-strikethrough"})}),Object(r.jsx)("button",{onClick:function(){return e("selectAll")},type:"button",children:"All"})]})}),Je=(n(114),function(e){var t=e.content,n=e.setContent;return Object(r.jsxs)("div",{className:"editor",children:[Object(r.jsx)("div",{className:"editor__buttons",children:Object(r.jsx)(Ke,{})}),Object(r.jsx)("div",{className:"editor__edit",children:Object(r.jsx)(Ve.a,{id:"editorContent",onChange:function(e){return n(e.target.value)},html:t})})]})}),Qe=function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(i){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_e(e,t).then((function(e){var t,a;n(),i({type:Z,payload:null===(t=e.data)||void 0===t?void 0:t.updated_organization}),window.alert(null===(a=e.data)||void 0===a?void 0:a.detail)})).catch((function(e){return ae(e)})).finally((function(){return ie(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ye=Object(u.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:B})},workerApplication:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,me(e,t).then((function(e){var t;window.alert(null===(t=e.data)||void 0===t?void 0:t.detail)})).catch((function(e){return ae(e)})).finally((function(){return ie(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openWorkerApplication,n=e.loading,a=e.userId,i=e.setOpenWorkerApplication,o=e.startLoading,c=e.workerApplication,l=Object(s.useState)(""),u=Object(v.a)(l,2),d=u[0],j=u[1],O=Object(s.useState)({mpesa_number:"",national_id:"",occupation:""}),p=Object(v.a)(O,2),h=p[0],m=p[1],g=function(e){m(Object(b.a)(Object(b.a)({},h),{},Object(f.a)({},e.target.name,e.target.value)))},w=h.mpesa_number,k=h.national_id,y=h.occupation;return Object(r.jsx)(Te,{isOpen:t,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),_(h)||""===d.trim())return window.alert("Please fill all fields");o();var t=Object(b.a)(Object(b.a)({},h),{},{about_worker:d});c(a,t)},id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter your details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"National ID"}),Object(r.jsx)("input",{type:"number",name:"national_id",value:k,onChange:g})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(r.jsx)("input",{type:"number",name:"mpesa_number",value:w,onChange:g})]})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(r.jsx)("input",{type:"text",name:"occupation",onChange:g,value:y})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"About yourself"}),Object(r.jsx)(Je,{content:d,setContent:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){i(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),Xe=Object(u.b)((function(e){var t,n,a,i,r,s,o;return{first_name:null===(t=e.auth.user)||void 0===t?void 0:t.first_name,last_name:null===(n=e.auth.user)||void 0===n?void 0:n.last_name,username:null===(a=e.auth.user)||void 0===a?void 0:a.username,email:null===(i=e.auth.user)||void 0===i?void 0:i.email,bio:null===(r=e.auth.user)||void 0===r?void 0:r.bio,userId:null===(s=e.auth.user)||void 0===s?void 0:s.id,loading:null===(o=e.shared)||void 0===o?void 0:o.loading}}),(function(e){return{startLoading:function(){return e({type:B})},updateUser:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ge(e,t).then((function(e){var t,n;a({type:I,payload:null===(t=e.data)||void 0===t?void 0:t.user}),alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?alert(null===(n=e.response.data)||void 0===n?void 0:n.detail):alert(Ce)})).finally((function(){a({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},openChangePassword:function(){return e({type:R})}}}))((function(e){var t=e.first_name,n=e.last_name,a=e.username,i=e.email,o=e.bio,c=e.userId,l=e.loading,u=e.startLoading,d=e.updateUser,j=e.openChangePassword,O=Object(s.useState)({}),p=Object(v.a)(O,2),h=p[0],m=p[1],g=Object(s.useState)(!1),w=Object(v.a)(g,2),k=w[0],y=w[1];Object(s.useEffect)((function(){m({first_name:t,last_name:n,username:a,email:i,bio:o})}),[t,n,i,a,o]);var N=function(e){m(Object(b.a)(Object(b.a)({},h),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)("div",{className:"profile",id:l?"formSubmitting":"",children:[Object(r.jsx)("h2",{children:"Profile Details"}),Object(r.jsxs)("div",{className:"profile__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"First Name"}),Object(r.jsx)("input",{type:"text",name:"first_name",value:h.first_name,onChange:N})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(r.jsx)("input",{type:"text",name:"last_name",value:h.last_name,onChange:N})]})]}),l&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"30%"}}),Object(r.jsxs)("div",{className:"profile__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Username"}),Object(r.jsx)("input",{type:"text",name:"username",value:h.username,onChange:N})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",value:h.email,onChange:N})]})]}),Object(r.jsxs)("div",{className:"profile__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Bio"}),Object(r.jsx)("textarea",{name:"bio",value:h.bio,onChange:N})]}),Object(r.jsxs)("div",{className:"profile__Buttons",children:[Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){y(!0)},children:"Worker Application"}),Object(r.jsx)("button",{type:"button",className:"change__password",onClick:j,children:"Change Password"}),Object(r.jsx)("button",{type:"submit",className:"update",onClick:function(e){e.preventDefault(),_(h)&&alert("Fill all fields are to update your profile"),u(),d(h,c)},children:"Update Profile"})]}),R&&Object(r.jsx)(Me,{}),k&&Object(r.jsx)(Ye,{openWorkerApplication:k,setOpenWorkerApplication:y})]})})),$e=Object(u.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:B})},addOrganization:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(i){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe(e,t).then((function(e){var t,a;n(),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail),i({type:q,payload:null===(a=e.data)||void 0===a?void 0:a.organization_data})})).catch((function(e){return ae(e)})).finally((function(){return ie(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=e.openAddOrganization,n=e.loading,a=e.userId,i=e.setOpenAddOrganization,o=e.startLoading,c=e.addOrganization,l=Object(s.useState)({name:"",initials:""}),u=Object(v.a)(l,2),d=u[0],j=u[1],O=d.name,p=d.initials,h=function(e){j(Object(b.a)(Object(b.a)({},d),{},Object(f.a)({},e.target.name,e.target.value)))},m=function(){w(d)};return Object(r.jsx)(Te,{isOpen:t,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Organization details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Name"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:h,value:O})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"42%"}}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Initials"}),Object(r.jsx)("input",{type:"text",name:"initials",onChange:h,value:p})]})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){m(),i(!1)},children:"Close"}),Object(r.jsx)("button",{type:"button",onClick:function(e){if(e.preventDefault(),_(d))return window.alert("All fields are required");o(),c(a,d,m)},children:"Submit"})]})]})})})),et=Object(u.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:B})},addOrganizationAdmin:function(t,n,a){return e(Qe(t,n,a))}}}))((function(e){var t=e.openAddOrganizationAdmin,n=e.userId,a=e.loading,i=e.organizationId,o=e.setOpenAddOrganizationAdmin,c=e.addOrganizationAdmin,l=e.startLoading,u=Object(s.useState)(""),d=Object(v.a)(u,2),j=d[0],b=d[1],O=function(){b("")};return Object(r.jsx)(y,{isOpen:t,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",onSubmit:function(e){if(e.preventDefault(),""===j.trim())return window.alert("Please enter a valid email");var t={userEmail:j,actionType:"add_organization_admin",organizationId:i};l(),c(n,t,O)},children:[Object(r.jsx)("h3",{children:"Enter user email"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){o(!1),O()},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),tt=Object(u.b)((function(e){var t,n,a;return{organizations:null===(t=e.work)||void 0===t?void 0:t.organizations,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(function(e){return{startLoading:function(){return e({type:B})},getOrganizations:function(t){return e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e).then((function(e){var t;n({type:null===a||void 0===a?void 0:M,payload:null===(t=e.data)||void 0===t?void 0:t.organizations_data})})).catch((function(e){return ae(e)})).finally((function(){return ie(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeOrganizationAdmin:function(t,n,a){return e(Qe(t,n,a))}}}))((function(e){var t=e.organizations,n=e.userId,a=e.loading,i=e.getOrganizations,o=e.startLoading,c=e.removeOrganizationAdmin,l=Object(s.useState)(!1),u=Object(v.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(!1),O=Object(v.a)(b,2),p=O[0],h=O[1],m=Object(s.useState)({}),f=Object(v.a)(m,2),g=f[0],_=f[1];Object(s.useEffect)((function(){n&&0===(null===t||void 0===t?void 0:t.length)&&(o(),i(n))}),[o,i,null===t||void 0===t?void 0:t.length,n]);var w=function(){};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",id:a?"pageSubmitting":"",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){return j(!0)},children:"Add"}),Object(r.jsx)("h3",{children:" Maintain organizations here"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Initials"}),Object(r.jsx)("th",{children:"Admin"})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.initials}),(null===e||void 0===e?void 0:e.organization_admin_email)?Object(r.jsx)("td",{className:"remove__item",title:"Click to remove admin",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void(window.confirm("Are you sure you want to remove this organization admin?")&&(o(),c(n,{actionType:"remove_organization_admin",organizationId:t},w)));var t},children:null===e||void 0===e?void 0:e.organization_admin_email}):Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return t=null===e||void 0===e?void 0:e.id,h(!0),void _(t);var t},children:"add"})]},null===e||void 0===e?void 0:e.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No organizations available"})})]}),d&&Object(r.jsx)($e,{openAddOrganization:d,setOpenAddOrganization:j}),p&&Object(r.jsx)(et,{openAddOrganizationAdmin:p,setOpenAddOrganizationAdmin:h,organizationId:g})]})})),nt=Object(u.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:B})},newOrganizationTask:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(i){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,he(e,t).then((function(e){var t,a;n(),i({type:V,payload:null===(t=e.data)||void 0===t?void 0:t.new_task}),window.alert(null===(a=e.data)||void 0===a?void 0:a.detail)})).catch((function(e){return ae(e)})).finally((function(){return ie(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=e.openAddTask,n=e.loading,a=e.userId,i=e.setOpenAddTask,o=e.startLoading,c=e.newOrganizationTask,l=Object(s.useState)({title:"",user_minimum_rating:"",status:"",attachment:""}),u=Object(v.a)(l,2),d=u[0],j=u[1],O=Object(s.useState)(""),p=Object(v.a)(O,2),h=p[0],m=p[1],g=d.title,k=d.user_minimum_rating,y=d.status,N=d.attachment,C=function(e){j(Object(b.a)(Object(b.a)({},d),{},Object(f.a)({},e.target.name,e.target.value)))},S=function(){w(d),m("")};return Object(r.jsx)(Te,{isOpen:t,maxWidth:"850px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),_(d)||""===h.trim())return window.alert("Please fill all fields");if(k>5||k<1)return window.alert("User qualification rating should be between 1 and 5");o();var t=new FormData;t.append("attachment",N,N.name),t.append("user_minimum_rating",k),t.append("status",y),t.append("title",g),t.append("instructions",h),c(a,t,S)},id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Task details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Title"}),Object(r.jsx)("input",{type:"text",name:"title",onChange:C,value:g})]}),Object(r.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(r.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(r.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:C,value:k,min:"1",max:"5"})]})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(r.jsxs)("select",{name:"status",onChange:C,value:y,children:[Object(r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(r.jsx)("option",{value:"draft",children:"Draft"}),Object(r.jsx)("option",{value:"available",children:"Published"})]})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(r.jsx)("input",{type:"file",name:"attachment",onChange:function(e){j(Object(b.a)(Object(b.a)({},d),{},Object(f.a)({},e.target.name,e.target.files[0])))}})]})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(r.jsx)(Je,{content:h,setContent:m})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){S(),i(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),at=Object(u.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:B})},editOrganization:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,we(e,t).then((function(e){var t,n;a({type:J,payload:null===(t=e.data)||void 0===t?void 0:t.updated_task}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){return ae(e)})).finally((function(){return ie(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openEditTask,n=e.currentTask,a=e.userId,i=e.loading,o=e.setCurrentTask,c=e.setOpenEditTask,l=e.startLoading,u=e.editOrganization,d=Object(s.useState)(""),j=Object(v.a)(d,2),O=j[0],p=j[1],h=n.title,m=n.user_minimum_rating,g=n.status,_=n.attachment;Object(s.useEffect)((function(){p(null===n||void 0===n?void 0:n.instructions)}),[null===n||void 0===n?void 0:n.instructions]);var w=function(e){o(Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(Te,{isOpen:t,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),""===h.trim()||""===m||""===g.trim())return window.alert("Please fill all fields");if(m>5||m<1)return window.alert("User qualification rating should be between 1 and 5");l();var t=new FormData;_?t.append("attachment",_,_.name):t.append("attachment",""),t.append("user_minimum_rating",m),t.append("status",g),t.append("title",h),t.append("taskId",null===n||void 0===n?void 0:n.id),t.append("instructions",O),u(a,t)},id:i?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Edit task details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Title"}),Object(r.jsx)("input",{type:"text",name:"title",onChange:w,value:h})]}),Object(r.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(r.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(r.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:w,value:m,min:"1",max:"5"})]})]}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(r.jsxs)("select",{name:"status",onChange:w,value:g,children:[Object(r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(r.jsx)("option",{value:"draft",children:"Draft"}),Object(r.jsx)("option",{value:"available",children:"Published"})]})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(r.jsx)("input",{type:"file",name:"attachment",onChange:function(e){o(Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},e.target.name,e.target.files[0])))}})]})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(r.jsx)(Je,{content:O,setContent:p})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){c(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),it=Object(u.b)((function(e){var t,n,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading,organizationTasks:null===(a=e.work)||void 0===a?void 0:a.organization_tasks}}),(function(e){return{startLoading:function(){return e({type:B})},getAllTasks:function(t){return e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(e).then((function(e){var t;n({type:K,payload:null===(t=e.data)||void 0===t?void 0:t.tasks_data})})).catch((function(e){return ae(e)})).finally((function(){return ie(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loading,n=e.organizationTasks,a=e.userId,i=e.startLoading,o=e.getAllTasks,c=Object(s.useState)(!1),l=Object(v.a)(c,2),u=l[0],d=l[1],j=Object(s.useState)(!1),b=Object(v.a)(j,2),O=b[0],p=b[1],h=Object(s.useState)({}),m=Object(v.a)(h,2),f=m[0],g=m[1];Object(s.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&a&&(i(),o(a))}),[a,i,null===n||void 0===n?void 0:n.length,o]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){return d(!0)},children:"Add"}),Object(r.jsx)("h3",{children:" Maintain Tasks here"}),t&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Edit"})]}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(r.jsx)("td",{className:"dodgerblue bd button",onClick:function(){return function(e){p(!0),g(e)}(e)},children:"edit"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No tasks available"})})]}),u&&Object(r.jsx)(nt,{openAddTask:u,setOpenAddTask:d}),O&&Object(r.jsx)(at,{openEditTask:O,setOpenEditTask:p,currentTask:f,setCurrentTask:g})]})})),rt=n(39),st=n.n(rt),ot=Object(u.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:B})},editWorkerOrApplication:function(t,n){return e(function(e,t){return function(){var n=Object(ee.a)($.a.mark((function n(a){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ke(e,t).then((function(e){var t,n;a({type:Y,payload:null===(t=e.data)||void 0===t?void 0:t.updated_application}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){return ae(e)})).finally((function(){return ie(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openEditWorkerApplication,n=e.currentWorkerApplication,a=e.loading,i=e.userId,s=e.setOpenEditWorkerApplication,o=e.setCurrentWorkerApplication,c=e.startLoading,l=e.editWorkerOrApplication,u=n.id,d=n.full_name,j=n.occupation,O=n.mpesa_number,p=n.national_id,h=n.applied_on,m=n.status,v=n.about_worker,g=n.rejection_reason,_=function(e){o(Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(Te,{isOpen:t,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),"rejected"===m&&(""===g||null===g))return window.alert("You must indicate the rejection reason");var t={applicationId:u,rejection_reason:g,status:m,worker_or_application:"application"};c(),l(i,t)},id:a?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Application details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Name"}),Object(r.jsx)("input",{type:"text",value:d,disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(r.jsx)("input",{type:"text",value:j,disabled:!0,readOnly:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(r.jsx)("input",{type:"text",value:O,disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"National ID"}),Object(r.jsx)("input",{type:"text",value:p,disabled:!0,readOnly:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Applied On"}),Object(r.jsx)("input",{type:"text",value:st()(h).format("LLL"),disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Status"}),Object(r.jsxs)("select",{name:"status",value:m,onChange:_,children:[Object(r.jsx)("option",{value:"approved",children:"Approved"}),Object(r.jsx)("option",{value:"pending",children:"Pending"}),Object(r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"About User"}),Object(r.jsx)("textarea",{value:v,disabled:!0,readOnly:!0})]}),"rejected"===m&&Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Rejection Reason"}),Object(r.jsx)("textarea",{name:"rejection_reason",value:g,onChange:_})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){s(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Update"})]})]})})})),ct=Object(u.b)((function(e){var t,n,a;return{workers:null===(t=e.work)||void 0===t?void 0:t.workers,workers_applications:null===(n=e.work)||void 0===n?void 0:n.workers_applications,loading:null===(a=e.shared)||void 0===a?void 0:a.loading,userId:e.auth.user.id}}),(function(e){return{startLoading:function(){return e({type:B})},getWorkers:function(t){return e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(e).then((function(e){n({type:Q,payload:e.data})})).catch((function(e){return ae(e)})).finally((function(){return ie(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.workers,n=e.workers_applications,a=e.userId,i=e.loading,o=e.startLoading,c=e.getWorkers,l=Object(s.useState)(!1),u=Object(v.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)({}),O=Object(v.a)(b,2),p=O[0],h=O[1];Object(s.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&a&&(o(),c(a))}),[c,o,a,null===n||void 0===n?void 0:n.length]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("h3",{children:"Workers"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No workers yet"})}),Object(r.jsx)("div",{className:"table__parentHeader",children:Object(r.jsx)("h3",{children:"Workers applications"})}),Object(r.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Applied On"}),Object(r.jsx)("th",{children:"Action"})]}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name}),Object(r.jsx)("td",{children:st()(e.applied_on).format("LLL")}),"approved"!==(null===e||void 0===e?void 0:e.status)?Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return function(e){j(!0),h(e)}(e)},children:"process"}):Object(r.jsx)("td",{children:"Approved"})]},null===e||void 0===e?void 0:e.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No workers applications yet"})})]}),d&&Object(r.jsx)(ot,{openEditWorkerApplication:d,setOpenEditWorkerApplication:j,currentWorkerApplication:p,setCurrentWorkerApplication:h})]})})),lt=function(e){return Object(r.jsx)(k.a,{open:e.isOpen,maxWidth:"lg",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},ut=n(69),dt=function(e){var t=e.openInstructions,n=e.currentTask,a=e.setOpenInstructions;return Object(r.jsx)(Te,{isOpen:t,maxWidth:"1000px",children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Task Instructions"}),Object(r.jsx)("div",{children:Object(ut.a)("".concat(null===n||void 0===n?void 0:n.instructions))}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return a(!1)},children:"Close"})})]})})},jt=Object(u.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:B})},stopLoading:function(){return e({type:H})}}}))((function(e){var t=e.openTasksAvailable,n=e.userId,a=e.loading,i=e.setOpenTasksAvailable,o=e.startLoading,c=e.stopLoading,l=Object(s.useState)([]),u=Object(v.a)(l,2),j=u[0],b=u[1],O=Object(s.useState)(!1),p=Object(v.a)(O,2),h=p[0],m=p[1],f=Object(s.useState)({}),x=Object(v.a)(f,2),g=x[0],_=x[1];Object(s.useEffect)((function(){n&&(o(),function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/work/worker-get-tasks-available/".concat(n,"/"),e.next=3,oe.get(t).then((function(e){var t;b(null===(t=e.data)||void 0===t?void 0:t.available_tasks)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch((function(e){return ae(e)})).finally((function(){return c()})))}),[o,c,n]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(lt,{isOpen:t,maxWidth:"1200px",children:Object(r.jsxs)("div",{className:"dialog",id:a?"pageSubmitting":"",children:[Object(r.jsx)("h3",{children:"Tasks available"}),(null===j||void 0===j?void 0:j.length)>0?Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Instructions"}),Object(r.jsx)("th",{children:"Attachment"})]}),null===j||void 0===j?void 0:j.map((function(e,t){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return function(e){_(e),m(!0)}(e)},children:"view"}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})})]},null===e||void 0===e?void 0:e.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No tasks available"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return i(!1)},children:"Close"})})]})}),h&&Object(r.jsx)(dt,{openInstructions:h,setOpenInstructions:m,currentTask:g})]})})),bt=function(e){var t=e.openTasksOngoing,n=e.setOpenTasksOngoing;return Object(r.jsx)(lt,{isOpen:t,maxWidth:"1200px",children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Tasks Ongoing"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Close"})})]})})},Ot=function(e){var t=e.openTasksSubmitted,n=e.setOpenTasksSubmitted;return Object(r.jsx)(lt,{isOpen:t,maxWidth:"1200px",children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Tasks Submitted"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Close"})})]})})},pt=(n(130),function(){var e=Object(s.useState)(!1),t=Object(v.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(!1),o=Object(v.a)(i,2),c=o[0],l=o[1],u=Object(s.useState)(!1),d=Object(v.a)(u,2),j=d[0],b=d[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsx)("div",{className:"table__parentHeader",children:Object(r.jsx)("h3",{children:"Your Work Center"})}),Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"Type"}),Object(r.jsx)("th",{children:"Action"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Tasks Available"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return a(!0)},children:"View"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Ongoing Tasks"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return l(!0)},children:"View"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Submitted Tasks"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return b(!0)},children:"View"})]})]})]}),n&&Object(r.jsx)(jt,{openTasksAvailable:n,setOpenTasksAvailable:a}),c&&Object(r.jsx)(bt,{openTasksOngoing:c,setOpenTasksOngoing:l}),j&&Object(r.jsx)(Ot,{openTasksSubmitted:j,setOpenTasksSubmitted:b})]})});var ht=Object(u.b)((function(e){var t;return{profile_type:null===(t=e.auth.user)||void 0===t?void 0:t.profile_type}}),(function(e){return{getUser:function(){return e(Se())}}}))((function(e){var t=e.profile_type,n=e.getUser,a=localStorage.getItem("session_cookie");return Object(s.useEffect)((function(){a&&n()}),[n,a]),Object(r.jsx)("div",{id:"body-pd",children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(Pe,{}),Object(r.jsx)(Ge,{}),Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",component:ze}),Object(r.jsx)(j.b,{exact:!0,path:"/user/password-reset/:password_token/",component:He}),Object(r.jsx)(j.b,{exact:!0,path:"/user/activate/:activation_token/",component:Be}),"System Admin"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p,{exact:!0,path:"/sys-admin/maintain-organizations/",component:tt}),Object(r.jsx)(p,{exact:!0,path:"/sys-admin/maintain-workers/",component:ct})]}),"Organization Admin"===t&&Object(r.jsx)(p,{exact:!0,path:"/organization-admin/maintain-tasks/",component:it}),"Worker"===t&&Object(r.jsx)(p,{exact:!0,path:"/worker/work-center/",component:pt}),Object(r.jsx)(p,{exact:!0,path:"/profile",component:Xe}),Object(r.jsx)(p,{exact:!0,path:"/dashboard/",component:Ue}),Object(r.jsx)(j.b,{component:qe})]})]})})})),mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))},ft=n(26),vt=n(70),xt=n(71),gt={signupForm:!1,loginForm:!1,loggedIn:!1,forgotPasswordForm:!1,resendActivationForm:!1,resetPasswordConfirmForm:!1,changePasswordForm:!1,user:{}},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N:return Object(b.a)(Object(b.a)({},e),{},{signupForm:!0});case C:return Object(b.a)(Object(b.a)({},e),{},{signupForm:!1});case S:return Object(b.a)(Object(b.a)({},e),{},{loginForm:!0});case A:return Object(b.a)(Object(b.a)({},e),{},{loginForm:!1});case I:return Object(b.a)(Object(b.a)({},e),{},{user:a,loggedIn:!0});case F:return Object(b.a)(Object(b.a)({},e),{},{forgotPasswordForm:!0});case E:return Object(b.a)(Object(b.a)({},e),{},{forgotPasswordForm:!1});case L:return Object(b.a)(Object(b.a)({},e),{},{resendActivationForm:!0});case P:return Object(b.a)(Object(b.a)({},e),{},{resendActivationForm:!1});case z:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordConfirmForm:!0});case W:return Object(b.a)(Object(b.a)({},e),{},{resetPasswordConfirmForm:!1});case R:return Object(b.a)(Object(b.a)({},e),{},{changePasswordForm:!0});case D:return Object(b.a)(Object(b.a)({},e),{},{changePasswordForm:!1});case T:return gt;default:return e}},wt={alert:{status:!1,alertType:"",detail:""},loading:!1},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case G:case U:return Object(b.a)(Object(b.a)({},e),{},{alert:a});case B:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case H:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}},yt=n(42),Nt=function(e,t){return Object(b.a)(Object(b.a)({},e),t)},Ct={organizations:[],organization_tasks:[],workers:[],workers_applications:[]},St=function(e,t){return Nt(e,{organizations:[].concat(Object(yt.a)(e.organizations),[t])})},At=function(e,t){return Nt(e,{organizations:t})},It=function(e,t){return Nt(e,{organizations:e.organizations.map((function(e){return e.organizationId===t.organizationId?t:e}))})},Tt=function(e,t){return Nt(e,{organization_tasks:[].concat(Object(yt.a)(e.organization_tasks),[t])})},Ft=function(e,t){return Nt(e,{organization_tasks:t})},Et=function(e,t){var n;return Nt(e,{organization_tasks:null===(n=e.organization_tasks)||void 0===n?void 0:n.map((function(e){return e.id===t.id?t:e}))})},Lt=function(e,t){return Nt(e,{workers:t.workers,workers_applications:t.workers_applications})},Pt=function(e,t){var n,a,i;return console.log(t.action_type),"worker"===t.action_type?Nt(e,{workers:null===(n=e.workers)||void 0===n?void 0:n.map((function(e){return e.id===t.id?t:e}))}):"worker_application"===t.action_type?Nt(e,{workers_applications:null===(a=e.workers_applications)||void 0===a?void 0:a.map((function(e){return e.id===t.id?t:e}))}):"worker_and_application"===t.action_type?Nt(e,{workers_applications:null===(i=e.workers_applications)||void 0===i?void 0:i.map((function(e){return e.id===t.id?t:e})),workers:[].concat(Object(yt.a)(e.workers),[t.worker_data])}):void 0},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case q:return St(e,a);case M:return At(e,a);case Z:return It(e,a);case V:return Tt(e,a);case K:return Ft(e,a);case J:return Et(e,a);case Q:return Lt(e,a);case Y:return Pt(e,a);default:return e}},Wt=Object(ft.combineReducers)({auth:_t,shared:kt,work:zt}),Rt=Object(ft.createStore)(Wt,Object(vt.composeWithDevTools)(Object(ft.applyMiddleware)(xt.a)));l.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(u.a,{store:Rt,children:Object(r.jsx)(ht,{})})}),document.getElementById("root")),mt()},59:function(e,t,n){},80:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.8da03a96.chunk.js.map