(this["webpackJsonpcourzehub-work"]=this["webpackJsonpcourzehub-work"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"OPEN_SIGNUP",(function(){return g})),a.d(n,"CLOSE_SIGNUP",(function(){return _})),a.d(n,"OPEN_LOGIN",(function(){return f})),a.d(n,"CLOSE_LOGIN",(function(){return w})),a.d(n,"AUTH_SUCCESS",(function(){return k})),a.d(n,"LOGOUT",(function(){return y})),a.d(n,"OPEN_FORGOT_PASSWORD",(function(){return N})),a.d(n,"CLOSE_FORGOT_PASSWORD",(function(){return S})),a.d(n,"OPEN_RESEND_ACTIVATION",(function(){return C})),a.d(n,"CLOSE_RESEND_ACTIVATION",(function(){return A})),a.d(n,"OPEN_PASSWORD_RESET_CONFIRM",(function(){return I})),a.d(n,"CLOSE_PASSWORD_RESET_CONFIRM",(function(){return L})),a.d(n,"OPEN_CHANGE_PASSWORD",(function(){return T})),a.d(n,"CLOSE_CHANGE_PASSWORD",(function(){return F})),a.d(n,"SET_ALERT",(function(){return E})),a.d(n,"REMOVE_ALERT",(function(){return P})),a.d(n,"START_LOADING",(function(){return W})),a.d(n,"STOP_LOADING",(function(){return R})),a.d(n,"ADD_ORGANIZATION",(function(){return z})),a.d(n,"GET_ORGANIZATIONS",(function(){return D})),a.d(n,"UPDATE_ORGANIZATION",(function(){return U})),a.d(n,"NEW_ORGANIZATION_TASK",(function(){return G})),a.d(n,"GET_TASKS",(function(){return B})),a.d(n,"EDIT_ORGANIZATION_TASK",(function(){return H})),a.d(n,"GET_WORKERS",(function(){return q})),a.d(n,"EDIT_WORKER",(function(){return M}));var i=a(1),s=a.n(i),l=a(10),o=a.n(l),r=(a(68),a(3)),c=a(6),d=a(4),j=(a(74),a(0));var b=()=>localStorage.getItem("session_cookie")?Object(j.jsx)(d.b,{}):Object(j.jsx)(d.a,{to:"/"}),u=(a(76),a(142));const h=()=>{const e=document.getElementById("nav-bar"),t=document.getElementById("body-pd");e.classList.toggle("show"),t.classList.toggle("body-pd")};var m=a(140);const O=e=>{for(const t in e)if(""==="".concat(e[t]))return!0;return!1},p=e=>{for(const t in e)e[t]=""};var v=a(141);var x=e=>Object(j.jsx)(v.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"sm",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children});const g="OPEN_SIGNUP",_="CLOSE_SIGNUP",f="OPEN_LOGIN",w="CLOSE_LOGIN",k="AUTH_SUCCESS",y="LOGOUT",N="OPEN_FORGOT_PASSWORD",S="CLOSE_FORGOT_PASSWORD",C="OPEN_RESEND_ACTIVATION",A="CLOSE_RESEND_ACTIVATION",I="OPEN_PASSWORD_RESET_CONFIRM",L="CLOSE_PASSWORD_RESET_CONFIRM",T="OPEN_CHANGE_PASSWORD",F="CLOSE_CHANGE_PASSWORD",E="SET_ALERT",P="REMOVE_ALERT",W="START_LOADING",R="STOP_LOADING",z="ADD_ORGANIZATION",D="GET_ORGANIZATIONS",U="UPDATE_ORGANIZATION",G="NEW_ORGANIZATION_TASK",B="GET_TASKS",H="EDIT_ORGANIZATION_TASK",q="GET_WORKERS",M="EDIT_WORKER";var V=a(57),Z=a.n(V);var K={success:"success",error:"error",fillFields:"Please fill all fields",unknown_error:"An unknown error occurred, please try again later",dev:!1,liveProduction:!0,devHome:"http://localhost:8000",productionHome:"https://work.azwgroup.com"};const{liveProduction:J,devHome:Q,productionHome:Y}=K;let X;X=J?Y:Q;const $=Z.a.create({baseURL:X});$.interceptors.request.use((e=>(localStorage.getItem("session_cookie")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("session_cookie")),e.headers.Accept="application/json"),e)));var ee=$;const{unknown_error:te}=K,ae=e=>{var t,a,n,i,s,l;400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||401===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)||403===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)?window.alert(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail):413===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)?window.alert("Video file too large, a maximum of 95MB allowed."):window.alert(te)},ne=e=>{e({type:R})},{success:ie,unknown_error:se}=K,le=(e,t)=>async a=>{await(e=>ee.post("/api/user/signup/",e))(e).then((e=>{var a;window.alert(null===(a=e.data)||void 0===a?void 0:a.detail),t()})).catch((e=>ae(e))).finally((()=>ne(a)))},oe=e=>async t=>{const{activation_token:a,navigate:n}=e;await(e=>ee.post("/api/user/activate-user-account/",{activation_token:e}))(a).then((e=>{var a;alert(null===(a=e.data)||void 0===a?void 0:a.detail),t({type:f})})).catch((e=>{var a;400===e.response.status?(window.alert(null===(a=e.response.data)||void 0===a?void 0:a.detail),t({type:C})):window.alert(se)})).finally((()=>{t({type:R}),n("/",{replace:!0})}))},re=(e,t)=>async a=>{await(e=>ee.post("/api/user/resend-account-activation-link/",{email:e}))(e).then((e=>{var a;window.alert(null===(a=e.data)||void 0===a?void 0:a.detail),t()})).catch((e=>ae(e))).finally((()=>ne(a)))},ce=(e,t)=>async a=>{await(e=>ee.post("/api/user/login/",e))(e).then((e=>{var n;localStorage.setItem("session_cookie",null===(n=e.data)||void 0===n?void 0:n.access),t(),a({type:w}),a(he())})).catch((e=>ae(e))).finally((()=>ne(a)))},de=(e,t)=>async a=>{await(e=>ee.post("/api/user/user-request-password-reset/",{email:e}))(e).then((e=>{var a;window.alert(null===(a=e.data)||void 0===a?void 0:a.detail),t()})).catch((e=>ae(e))).finally((()=>ne(a)))},je=(e,t,a)=>async n=>{await((e,t)=>ee.post("/api/user/user-set-new-password/",{...e,password_token:t}))(e,t).then((e=>{var t;alert(null===(t=e.data)||void 0===t?void 0:t.detail),n({type:L}),a("/",{replace:!0}),n({type:f})})).catch((e=>ae(e))).finally((()=>ne(n)))},be=(e,t)=>async a=>{await((e,t)=>ee.patch("/api/user/update-user-details/".concat(t,"/"),e))(e,t).then((e=>{var t,n;a({type:k,payload:null===(t=e.data)||void 0===t?void 0:t.user}),alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((e=>ae(e))).finally((()=>ne(a)))},ue=(e,t,a)=>async n=>{await((e,t)=>ee.post("/api/user/change-user-password/".concat(t,"/"),e))(e,t).then((e=>{var t;window.alert(null===(t=e.data)||void 0===t?void 0:t.detail),n({type:F}),n(me(a)),n({type:f})})).catch((e=>ae(e))).finally((()=>ne(n)))},he=()=>async e=>{await ee.get("/api/user/get-user-data/").then((t=>{var a;e({type:k,payload:null===(a=t.data)||void 0===a?void 0:a.user})})).catch((t=>{e({type:y}),localStorage.clear()}))},me=e=>async t=>{localStorage.clear(),t({type:y}),e("/",{replace:!0})};var Oe=Object(r.b)((e=>{var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,loginForm:e.auth.loginForm}}),(e=>({startLoading:()=>e({type:W}),loginUser:(t,a)=>e(ce(t,a)),closeLogin:()=>e({type:w}),openPasswordReset:()=>e({type:N}),openSignup:()=>e({type:g}),openResendActivation:()=>e({type:C})})))((e=>{const{loading:t,loginForm:a}=e,{startLoading:n,loginUser:s,closeLogin:l,openPasswordReset:o,openSignup:r,openResendActivation:c}=e,[d,b]=Object(i.useState)({email:"",password:""}),{email:u,password:h}=d,v=()=>{p(d)},g=e=>{b({...d,[e.target.name]:e.target.value})};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(x,{isOpen:a,maxWidth:"500px",children:Object(j.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Login here"}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",onChange:g,value:u})]}),t&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",onChange:g,value:h})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{l(),v()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),O(d))return window.alert("Email and password required");n(),s(d,v)},children:"Login"})]}),Object(j.jsxs)("div",{className:"extra__formButtons",children:[Object(j.jsx)("label",{htmlFor:"",className:"button",onClick:()=>{o(),l()},children:"Forgot Password"}),Object(j.jsx)("label",{htmlFor:"",className:"button",style:{justifySelf:"end"},onClick:()=>{r(),l()},children:"Create Account"})]}),Object(j.jsx)("div",{className:"extra__formButtons",children:Object(j.jsx)("label",{htmlFor:"",className:"button",onClick:()=>{c(),l()},children:"Resend Activation"})})]})})})}));var pe=e=>Object(j.jsx)(v.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"md",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children});var ve=Object(r.b)((e=>{var t;return{signupForm:e.auth.signupForm,loading:null===(t=e.shared)||void 0===t?void 0:t.loading}}),(e=>({startLoading:()=>e({type:W}),closeSignup:()=>e({type:_}),signupUser:(t,a)=>e(le(t,a))})))((e=>{const{loading:t,signupForm:a}=e,{startLoading:n,closeSignup:s,signupUser:l}=e,[o,r]=Object(i.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),{first_name:c,last_name:d,username:b,email:u,password:h,confirm_password:v}=o,{error:x,fillFields:g}=K,_=()=>{p(o)},f=e=>{r({...o,[e.target.name]:e.target.value})};return Object(j.jsx)(pe,{isOpen:a,maxWidth:"800px",children:Object(j.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Create new account"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"First Name"}),Object(j.jsx)("input",{type:"text",name:"first_name",value:c,onChange:f,required:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(j.jsx)("input",{type:"text",name:"last_name",value:d,onChange:f,required:!0})]})]}),t&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Username"}),Object(j.jsx)("input",{type:"text",name:"username",value:b,onChange:f,required:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",username:u,onChange:f,required:!0})]})]}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",className:"label__left",children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",value:h,onChange:f,required:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Confirm Password"}),Object(j.jsx)("input",{type:"password",name:"confirm_password",value:v,onChange:f,required:!0})]})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{s(),_()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>(e.preventDefault(),O(o)?window.alert(g):h!==v?window.alert("Passwords should match"):(n(),void l(o,_))),children:"Sign Up"})]}),Object(j.jsx)("div",{className:"extra__formButtons"})]})})}));var xe=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,forgotPasswordForm:null===(a=e.auth)||void 0===a?void 0:a.forgotPasswordForm}}),(e=>({startLoading:()=>e({type:W}),resetPassword:(t,a)=>e(de(t,a)),closeForgotPassword:()=>e({type:S})})))((e=>{const{loading:t,forgotPasswordForm:a}=e,{startLoading:n,resetPassword:s,closeForgotPassword:l}=e,[o,r]=Object(i.useState)(""),c=()=>{r("")};return Object(j.jsx)(x,{isOpen:a,maxWidth:"500px",children:Object(j.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Enter your email to reset password"}),t&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",onChange:e=>r(e.target.value),value:o})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{l(),c()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),""===o.trim())return window.alert("Email required");n(),s(o,c)},children:"Reset"})]})]})})}));var ge=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,resendActivationForm:null===(a=e.auth)||void 0===a?void 0:a.resendActivationForm}}),(e=>({startLoading:()=>e({type:W}),closeResendActivation:()=>e({type:A}),resendActivation:(t,a)=>e(re(t,a))})))((e=>{const{loading:t,resendActivationForm:a}=e,{startLoading:n,closeResendActivation:s,resendActivation:l}=e,[o,r]=Object(i.useState)(""),c=()=>{r("")};return Object(j.jsx)(x,{isOpen:a,maxWidth:"500px",children:Object(j.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Enter email to resend confirmation link"}),t&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",onChange:e=>r(e.target.value),value:o,required:!0})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{s(),c()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),""===o.trim())return window.alert("Email required");n(),l(o,c)},children:"Send"})]})]})})}));var _e=()=>{const e=Object(r.c)(),t=Object(d.h)(),a=localStorage.getItem("session_cookie"),n=Object(r.d)((e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.username})),i=Object(r.d)((e=>{var t;return null===(t=e.auth)||void 0===t?void 0:t.userImage}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("header",{className:"header",id:"header",children:[Object(j.jsxs)("div",{className:"header__toggle",children:[Object(j.jsx)("i",{className:"bx bx-menu",id:"header-toggle",onClick:h}),Object(j.jsx)("h1",{children:Object(j.jsx)(c.b,{to:"/",children:"CourZe Hub Work"})})]}),a?Object(j.jsx)("div",{className:"header__right authenticated",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{alt:n,src:i,className:"user__image",children:null===n||void 0===n?void 0:n.charAt(0)}),Object(j.jsx)("h6",{children:n}),Object(j.jsx)("i",{className:"bx bx-caret-down"})]}),Object(j.jsxs)("ul",{className:"dropdown",children:[Object(j.jsx)("li",{children:Object(j.jsx)(c.b,{to:"/dashboard/",children:"Dashboard"})}),Object(j.jsx)("li",{onClick:()=>e(me(t)),children:"Logout"})]})]})}):Object(j.jsxs)("div",{className:"header__right",children:[Object(j.jsx)("span",{className:"button",onClick:()=>e({type:f}),children:"Login"}),Object(j.jsx)("span",{className:"button",onClick:()=>e({type:g}),children:"Signup"})]})]}),Object(j.jsx)(Oe,{}),Object(j.jsx)(ve,{}),Object(j.jsx)(xe,{}),Object(j.jsx)(ge,{})]})};a(95);var fe=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,profile_type:null===(a=e.auth.user)||void 0===a?void 0:a.profile_type}}),(e=>({})))((e=>{const{userId:t,profile_type:a}=e,n=Object(d.h)(),i=Object(r.c)();return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)("div",{className:"home__left",children:("Worker"===a||!a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Earn by using your skills."}),Object(j.jsx)("button",{type:"button",className:"add__button",onClick:()=>{t?n("Worker"===a?"/worker/work-center/":"/profile",{replace:!0}):i({type:f})},children:"Start Now"})]})}),Object(j.jsx)("div",{className:"home__right",children:("Organization Admin"===a||!a)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Tap into remote talent."}),Object(j.jsx)("button",{type:"button",className:"add__button",onClick:()=>{t?n("Organization Admin"===a?"/organization-admin/maintain-tasks/":"/profile",{replace:!0}):i({type:f})},children:"Get Started"})]})})]})}));a(96);var we=e=>{let{Link:t,pathname:a}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(t,{to:"/sys-admin/maintain-organizations/",className:"/sys-admin/maintain-organizations/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{className:"bx bxs-school"}),Object(j.jsx)("span",{className:"nav__name",children:"Organizations"})]}),Object(j.jsxs)(t,{to:"/sys-admin/maintain-workers/",className:"/sys-admin/maintain-workers/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(j.jsx)("span",{className:"nav__name",children:"Workers"})]})]})};var ke=e=>{let{Link:t,pathname:a}=e;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(t,{to:"/organization-admin/maintain-tasks/",className:"/organization-admin/maintain-tasks/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(j.jsx)("span",{className:"nav__name",children:"Tasks"})]})})};var ye=e=>{let{Link:t,pathname:a}=e;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(t,{to:"/worker/work-center/",className:"/worker/work-center/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(j.jsx)("span",{className:"nav__name",children:"Work Center"})]})})};var Ne=Object(r.b)((e=>{var t,a,n;return{loggedIn:null===(t=e.auth)||void 0===t?void 0:t.loggedIn,profile_type:null===(a=e.auth)||void 0===a||null===(n=a.user)||void 0===n?void 0:n.profile_type}}),(e=>({logoutUser:t=>e(me(t))})))((e=>{const t=Object(d.h)(),{pathname:a}=Object(d.g)(),{loggedIn:n,profile_type:i}=e,{logoutUser:s}=e;return Object(j.jsx)("div",{className:"left-navbar",id:"nav-bar",children:Object(j.jsxs)("nav",{className:"nav",children:[Object(j.jsxs)(c.b,{to:"",className:"nav__logo",children:[Object(j.jsx)("i",{className:"bx bx-layer nav__logo-icon"}),Object(j.jsx)("span",{className:"nav__logo-name",children:"AZW"})]}),Object(j.jsxs)("div",{className:"nav__list",children:[Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.b,{to:"/",className:"/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{class:"bx bx-home"}),Object(j.jsx)("span",{className:"nav__name",children:"Home"})]})}),n&&Object(j.jsxs)(j.Fragment,{children:["System Admin"===i&&Object(j.jsx)(we,{Link:c.b,pathname:a}),"Organization Admin"===i&&Object(j.jsx)(ke,{Link:c.b,pathname:a}),"Worker"===i&&Object(j.jsx)(ye,{Link:c.b,pathname:a}),Object(j.jsxs)(c.b,{to:"/dashboard/",className:"/dashboard/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{className:"bx bx-grid-alt nav__icon"}),Object(j.jsx)("span",{className:"nav__name",children:"Dashboard"})]}),Object(j.jsxs)(c.b,{to:"/profile/",className:"/profile/"==="".concat(a)?"nav__link active":"nav__link",children:[Object(j.jsx)("i",{class:"bx bx-user nav__icon"}),Object(j.jsx)("span",{className:"nav__name",children:"Profile"})]}),Object(j.jsxs)(c.b,{to:"",className:"nav__link",onClick:()=>s(t),children:[Object(j.jsx)("i",{className:"bx bx-log-out-circle"}),Object(j.jsx)("span",{className:"nav__name",children:"Logout"})]})]})]})]})})}));a(97);var Se=()=>Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Dashboard"})});a(47);var Ce=Object(r.b)((e=>{var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading}}),(e=>({startLoading:()=>e({type:W}),activateUser:(t,a)=>e(oe({activation_token:t,history:a}))})))((e=>{const{activation_token:t}=Object(d.i)(),a=Object(d.h)(),{loading:n}=e,{startLoading:i,activateUser:s}=e;return Object(j.jsxs)("div",{className:"activate__account",id:n?"formSubmitting":"",children:[Object(j.jsx)("h1",{children:"Click on the button below to verify your account"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"1%"}}),Object(j.jsx)("button",{type:"button",onClick:()=>{i(),s(t,a)},children:"Verify"})]})}));var Ae=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,resetPasswordConfirmForm:null===(a=e.auth)||void 0===a?void 0:a.resetPasswordConfirmForm}}),(e=>({startLoading:()=>e({type:W}),setNewPassword:(t,a,n)=>e(je(t,a,n)),openNewPassword:()=>e({type:I}),closeNewPassword:()=>e({type:L})})))((e=>{const t=Object(d.h)(),{password_token:a}=Object(d.i)(),{loading:n,alert:s,resetPasswordConfirmForm:l}=e,{startLoading:o,setNewPassword:r,newAlert:c,openNewPassword:b,closeNewPassword:u}=e,[h,v]=Object(i.useState)({new_password:"",confirm_password:""}),{new_password:g,confirm_password:_}=h,{error:f}=K,w=e=>v({...h,[e.target.name]:e.target.value});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"activate__account",children:[Object(j.jsx)("h1",{children:"Click the button to set new password"}),Object(j.jsx)("button",{type:"button",onClick:b,children:"Set New password"})]}),Object(j.jsx)(x,{isOpen:l,children:Object(j.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Enter new password"}),Object(j.jsx)("p",{className:"response__message ".concat(s.alertType),children:s.status&&s.detail}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"New Password"}),Object(j.jsx)("input",{type:"password",name:"new_password",onChange:w,value:g})]}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(j.jsx)("input",{type:"password",name:"confirm_password",onChange:w,value:_})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{p(h),u()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),O(h))return c(f,"Both fields are required");o(),r(h,a,t)},children:"Submit"})]})]})})]})}));a(98);var Ie=function(){return Object(j.jsxs)("div",{className:"not__found",children:[Object(j.jsx)("h1",{className:"not__foundHeading",children:"404 resource not found"}),Object(j.jsx)("p",{children:"Please try again."})]})};a(99);var Le=Object(r.b)((e=>{var t,a,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,changePasswordForm:null===(a=e.auth)||void 0===a?void 0:a.changePasswordForm,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(e=>({startLoading:()=>e({type:W}),changeUserPassword:(t,a,n,i)=>e(ue(t,a,n)),closeChangePassword:()=>e({type:F})})))((e=>{const t=Object(d.h)(),{loading:a,changePasswordForm:n,userId:s}=e,{startLoading:l,changeUserPassword:o,closeChangePassword:r}=e,[c,b]=Object(i.useState)({current_password:"",new_password:"",confirm_new_password:""}),{current_password:u,new_password:h,confirm_new_password:v}=c,g=()=>{p(c)},_=e=>{b({...c,[e.target.name]:e.target.value})};return Object(j.jsx)(x,{isOpen:n,children:Object(j.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Change your password here"}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Old Password"}),Object(j.jsx)("input",{type:"password",name:"current_password",value:u,onChange:_})]}),a&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"New Password"}),Object(j.jsx)("input",{type:"password",name:"new_password",value:h,onChange:_})]}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(j.jsx)("input",{type:"password",name:"confirm_new_password",value:v,onChange:_})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{g(),r()},children:"Close"}),Object(j.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),O(c))return window.alert("All fields are required");l(),o(c,s,t,g)},children:"Submit"})]})]})})})),Te=a(58),Fe=a.n(Te);a(101);var Ee=()=>{function e(e,t){document.execCommand(e,!1,t)}return Object(j.jsxs)("div",{id:"toolbar",children:[Object(j.jsx)("button",{onClick:t=>e("bold"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-bold"})}),Object(j.jsx)("button",{onClick:t=>e("italic"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-italic"})}),Object(j.jsx)("button",{onClick:t=>e("insertUnorderedList"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-list-ul"})}),Object(j.jsx)("button",{onClick:t=>e("insertOrderedList"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-list-ol"})}),Object(j.jsx)("button",{onClick:t=>e("underline"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-underline"})}),Object(j.jsx)("button",{onClick:t=>e("subscript"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-subscript"})}),Object(j.jsx)("button",{onClick:t=>e("superscript"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-superscript"})}),Object(j.jsx)("button",{onClick:t=>e("outdent"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-outdent"})}),Object(j.jsx)("button",{onClick:t=>e("indent"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-indent"})}),Object(j.jsx)("button",{onClick:t=>e("justifyFull"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-align-justify"})}),Object(j.jsx)("button",{onClick:t=>e("justifyLeft"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-align-left"})}),Object(j.jsx)("button",{onClick:t=>e("justifyCenter"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-align-center"})}),Object(j.jsx)("button",{onClick:t=>e("justifyRight"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-align-right"})}),Object(j.jsx)("button",{onClick:t=>e("undo"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-undo"})}),Object(j.jsx)("button",{onClick:t=>e("redo"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-repeat"})}),Object(j.jsx)("button",{onClick:t=>e("strikethrough"),type:"button",children:Object(j.jsx)("i",{class:"fa fa-strikethrough"})}),Object(j.jsx)("button",{onClick:()=>e("selectAll"),type:"button",children:"All"})]})};a(102);var Pe=e=>{let{content:t,setContent:a}=e;return Object(j.jsxs)("div",{className:"editor",children:[Object(j.jsx)("div",{className:"editor__buttons",children:Object(j.jsx)(Ee,{})}),Object(j.jsx)("div",{className:"editor__edit",children:Object(j.jsx)(Fe.a,{id:"editorContent",onChange:e=>a(e.target.value),html:t})})]})};const We=(e,t,a)=>async n=>{await((e,t)=>ee.post("/api/work/maintain-organizations/".concat(e,"/"),t))(e,t).then((e=>{var t,i;a(),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail),n({type:z,payload:null===(i=e.data)||void 0===i?void 0:i.organization_data})})).catch((e=>ae(e))).finally((()=>ne(n)))},Re=e=>async t=>{await(e=>ee.get("/api/work/maintain-organizations/".concat(e,"/")))(e).then((e=>{var a;t({type:null===n||void 0===n?void 0:D,payload:null===(a=e.data)||void 0===a?void 0:a.organizations_data})})).catch((e=>ae(e))).finally((()=>ne(t)))},ze=(e,t,a)=>async n=>{await((e,t)=>ee.patch("/api/work/maintain-organizations/".concat(e,"/"),t))(e,t).then((e=>{var t,i;a(),n({type:U,payload:null===(t=e.data)||void 0===t?void 0:t.updated_organization}),window.alert(null===(i=e.data)||void 0===i?void 0:i.detail)})).catch((e=>ae(e))).finally((()=>ne(n)))},De=(e,t,a)=>async n=>{await((e,t)=>ee.post("/api/work/maintain-organization-tasks/".concat(e,"/"),t))(e,t).then((e=>{var t,i,s,l,o;a(),n({type:G,payload:null===(t=e.data)||void 0===t?void 0:t.new_task}),window.alert(null===(i=e.data)||void 0===i?void 0:i.detail),window.location.replace("/accounting/make-payment/".concat(null===(s=e.data)||void 0===s?void 0:s.taskId,"/").concat(null===(l=e.data)||void 0===l?void 0:l.taskAmount,"/").concat(null===(o=e.data)||void 0===o?void 0:o.merchant_ref,"/"))})).catch((e=>ae(e))).finally((()=>ne(n)))},Ue=e=>async t=>{await(e=>ee.get("/api/work/maintain-organization-tasks/".concat(e,"/")))(e).then((e=>{var a;t({type:B,payload:null===(a=e.data)||void 0===a?void 0:a.tasks_data})})).catch((e=>ae(e))).finally((()=>ne(t)))},Ge=(e,t)=>async a=>{await((e,t)=>ee.patch("/api/work/maintain-organization-tasks/".concat(e,"/"),t))(e,t).then((e=>{var t,n;a({type:H,payload:null===(t=e.data)||void 0===t?void 0:t.updated_task}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((e=>ae(e))).finally((()=>ne(a)))},Be=(e,t)=>async a=>{await((e,t)=>ee.post("/api/work/worker-application/".concat(e,"/"),t))(e,t).then((e=>{var t;window.alert(null===(t=e.data)||void 0===t?void 0:t.detail)})).catch((e=>ae(e))).finally((()=>ne(a)))},He=e=>async t=>{await(e=>ee.get("/api/work/worker-application/".concat(e,"/")))(e).then((e=>{t({type:q,payload:e.data})})).catch((e=>ae(e))).finally((()=>ne(t)))},qe=(e,t)=>async a=>{await((e,t)=>ee.patch("/api/work/worker-application/".concat(e,"/"),t))(e,t).then((e=>{var t,n;a({type:M,payload:null===(t=e.data)||void 0===t?void 0:t.updated_application}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((e=>ae(e))).finally((()=>ne(a)))};var Me=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(a=e.auth.user)||void 0===a?void 0:a.id}}),(e=>({startLoading:()=>e({type:W}),workerApplication:(t,a)=>e(Be(t,a))})))((e=>{const{openWorkerApplication:t,loading:a,userId:n}=e,{setOpenWorkerApplication:s,startLoading:l,workerApplication:o}=e,[r,c]=Object(i.useState)(""),[d,b]=Object(i.useState)({mpesa_number:"",national_id:"",occupation:""}),u=e=>{b({...d,[e.target.name]:e.target.value})},{mpesa_number:h,national_id:p,occupation:v}=d;return Object(j.jsx)(pe,{isOpen:t,maxWidth:"800px",children:Object(j.jsxs)("form",{className:"dialog",onSubmit:e=>{if(e.preventDefault(),O(d)||""===r.trim())return window.alert("Please fill all fields");l();const t={...d,about_worker:r};o(n,t)},id:a?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Enter your details"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"National ID"}),Object(j.jsx)("input",{type:"number",name:"national_id",value:p,onChange:u})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(j.jsx)("input",{type:"number",name:"mpesa_number",value:h,onChange:u})]})]}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(j.jsx)("input",{type:"text",name:"occupation",onChange:u,value:v})]}),a&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"About yourself"}),Object(j.jsx)(Pe,{content:r,setContent:c})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{s(!1)},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})})}));var Ve=Object(r.b)((e=>{var t,a,n,i,s,l,o,r;return{first_name:null===(t=e.auth.user)||void 0===t?void 0:t.first_name,last_name:null===(a=e.auth.user)||void 0===a?void 0:a.last_name,username:null===(n=e.auth.user)||void 0===n?void 0:n.username,email:null===(i=e.auth.user)||void 0===i?void 0:i.email,bio:null===(s=e.auth.user)||void 0===s?void 0:s.bio,userId:null===(l=e.auth.user)||void 0===l?void 0:l.id,has_applied_as_worker:null===(o=e.auth.user)||void 0===o?void 0:o.has_applied_as_worker,loading:null===(r=e.shared)||void 0===r?void 0:r.loading}}),(e=>({startLoading:()=>e({type:W}),updateUser:(t,a)=>e(be(t,a)),openChangePassword:()=>e({type:T})})))((e=>{const{first_name:t,last_name:a,username:n,email:s,bio:l,userId:o,loading:r,has_applied_as_worker:c}=e,{startLoading:d,updateUser:b,openChangePassword:u}=e,[h,p]=Object(i.useState)({}),[v,x]=Object(i.useState)(!1);Object(i.useEffect)((()=>{p({first_name:t,last_name:a,username:n,email:s,bio:l})}),[t,a,s,n,l]);const g=e=>{p({...h,[e.target.name]:e.target.value})};return Object(j.jsxs)("div",{className:"profile",id:r?"formSubmitting":"",children:[Object(j.jsx)("h2",{children:"Profile Details"}),Object(j.jsxs)("div",{className:"profile__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"First Name"}),Object(j.jsx)("input",{type:"text",name:"first_name",value:h.first_name,onChange:g})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(j.jsx)("input",{type:"text",name:"last_name",value:h.last_name,onChange:g})]})]}),r&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"30%"}}),Object(j.jsxs)("div",{className:"profile__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Username"}),Object(j.jsx)("input",{type:"text",name:"username",value:h.username,onChange:g})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",value:h.email,onChange:g})]})]}),Object(j.jsxs)("div",{className:"profile__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Bio"}),Object(j.jsx)("textarea",{name:"bio",value:h.bio,onChange:g})]}),Object(j.jsxs)("div",{className:"profile__Buttons",children:[!c&&Object(j.jsx)("button",{type:"button",className:"add__button",onClick:()=>{x(!0)},children:"Worker Application"}),Object(j.jsx)("button",{type:"button",className:"change__password",onClick:u,children:"Change Password"}),Object(j.jsx)("button",{type:"submit",className:"update",onClick:e=>{e.preventDefault(),O(h)&&alert("Fill all fields are to update your profile"),d(),b(h,o)},children:"Update Profile"})]}),T&&Object(j.jsx)(Le,{}),v&&Object(j.jsx)(Me,{openWorkerApplication:v,setOpenWorkerApplication:x})]})}));var Ze=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(a=e.auth.user)||void 0===a?void 0:a.id}}),(e=>({startLoading:()=>e({type:W}),addOrganization:(t,a,n)=>e(We(t,a,n))})))((e=>{const{openAddOrganization:t,loading:a,userId:n}=e,{setOpenAddOrganization:s,startLoading:l,addOrganization:o}=e,[r,c]=Object(i.useState)({name:"",initials:""}),{name:d,initials:b}=r,u=e=>{c({...r,[e.target.name]:e.target.value})},h=()=>{p(r)};return Object(j.jsx)(pe,{isOpen:t,maxWidth:"800px",children:Object(j.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Organization details"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",onChange:u,value:d})]}),a&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"42%"}}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Initials"}),Object(j.jsx)("input",{type:"text",name:"initials",onChange:u,value:b})]})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{h(),s(!1)},children:"Close"}),Object(j.jsx)("button",{type:"button",onClick:e=>{if(e.preventDefault(),O(r))return window.alert("All fields are required");l(),o(n,r,h)},children:"Submit"})]})]})})}));var Ke=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),addOrganizationAdmin:(t,a,n)=>e(ze(t,a,n))})))((e=>{const{openAddOrganizationAdmin:t,userId:a,loading:n,organizationId:s}=e,{setOpenAddOrganizationAdmin:l,addOrganizationAdmin:o,startLoading:r}=e,[c,d]=Object(i.useState)(""),b=()=>{d("")};return Object(j.jsx)(x,{isOpen:t,maxWidth:"500px",children:Object(j.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",onSubmit:e=>{if(e.preventDefault(),""===c.trim())return window.alert("Please enter a valid email");const t={userEmail:c,actionType:"add_organization_admin",organizationId:s};r(),o(a,t,b)},children:[Object(j.jsx)("h3",{children:"Enter user email"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Email"}),Object(j.jsx)("input",{type:"email",onChange:e=>d(e.target.value),value:c})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{l(!1),b()},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})})}));var Je=Object(r.b)((e=>{var t,a,n;return{organizations:null===(t=e.work)||void 0===t?void 0:t.organizations,userId:null===(a=e.auth.user)||void 0===a?void 0:a.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(e=>({startLoading:()=>e({type:W}),getOrganizations:t=>e(Re(t)),removeOrganizationAdmin:(t,a,n)=>e(ze(t,a,n))})))((e=>{const{organizations:t,userId:a,loading:n}=e,{getOrganizations:s,startLoading:l,removeOrganizationAdmin:o}=e,[r,c]=Object(i.useState)(!1),[d,b]=Object(i.useState)(!1),[u,h]=Object(i.useState)({});Object(i.useEffect)((()=>{a&&0===(null===t||void 0===t?void 0:t.length)&&(l(),s(a))}),[l,s,null===t||void 0===t?void 0:t.length,a]);const O=()=>{};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"table__parent",id:n?"pageSubmitting":"",children:[Object(j.jsxs)("div",{className:"table__parentHeader",children:[Object(j.jsx)("button",{type:"button",className:"add__button",onClick:()=>c(!0),children:"Add"}),Object(j.jsx)("h3",{children:" Maintain organizations here"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute"}})]}),Object(j.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Initials"}),Object(j.jsx)("th",{children:"Admin"})]}),null===t||void 0===t?void 0:t.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.initials}),(null===e||void 0===e?void 0:e.organization_admin_email)?Object(j.jsx)("td",{className:"remove__item",title:"Click to remove admin",onClick:()=>{return t=null===e||void 0===e?void 0:e.id,void(window.confirm("Are you sure you want to remove this organization admin?")&&(l(),o(a,{actionType:"remove_organization_admin",organizationId:t},O)));var t},children:null===e||void 0===e?void 0:e.organization_admin_email}):Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>{return t=null===e||void 0===e?void 0:e.id,b(!0),void h(t);var t},children:"add"})]},null===e||void 0===e?void 0:e.id)))]}):Object(j.jsx)("h4",{className:"not__available",children:"No organizations available"})})]}),r&&Object(j.jsx)(Ze,{openAddOrganization:r,setOpenAddOrganization:c}),d&&Object(j.jsx)(Ke,{openAddOrganizationAdmin:d,setOpenAddOrganizationAdmin:b,organizationId:u})]})}));var Qe=Object(r.b)((e=>{var t,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(a=e.auth.user)||void 0===a?void 0:a.id}}),(e=>({startLoading:()=>e({type:W}),newOrganizationTask:(t,a,n)=>e(De(t,a,n))})))((e=>{const{openAddTask:t,loading:a,userId:n}=e,{setOpenAddTask:s,startLoading:l,newOrganizationTask:o}=e,[r,c]=Object(i.useState)({title:"",user_minimum_rating:"",status:"",attachment:"",amount:""}),[d,b]=Object(i.useState)(""),{title:u,user_minimum_rating:h,status:v,attachment:x,amount:g}=r,_=e=>{c({...r,[e.target.name]:e.target.value})},f=()=>{p(r),b("")};return Object(j.jsx)(pe,{isOpen:t,maxWidth:"850px",children:Object(j.jsxs)("form",{className:"dialog",onSubmit:e=>{if(e.preventDefault(),O(r)||""===d.trim())return window.alert("Please fill all fields");if(h>5||h<1)return window.alert("User qualification rating should be between 1 and 5");l();let t=new FormData;t.append("attachment",x,x.name),t.append("user_minimum_rating",h),t.append("status",v),t.append("title",u),t.append("instructions",d),t.append("amount",g),o(n,t,f)},id:a?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Task details"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Title"}),Object(j.jsx)("input",{type:"text",name:"title",onChange:_,value:u})]}),Object(j.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(j.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(j.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:_,value:h,min:"1",step:"0.1",max:"5"})]})]}),a&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(j.jsxs)("select",{name:"status",onChange:_,value:v,children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(j.jsx)("option",{value:"draft",children:"Draft"}),Object(j.jsx)("option",{value:"available",children:"Published"})]})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(j.jsx)("input",{type:"file",name:"attachment",onChange:e=>{c({...r,[e.target.name]:e.target.files[0]})}})]})]}),Object(j.jsx)("div",{className:"dialog__row",children:Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Amount Payable"}),Object(j.jsx)("input",{type:"number",name:"amount",min:"1",step:"0.1",onChange:_,value:g})]})}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(j.jsx)(Pe,{content:d,setContent:b})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{f(),s(!1)},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})})}));var Ye=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),editOrganization:(t,a)=>e(Ge(t,a))})))((e=>{const{openEditTask:t,currentTask:a,userId:n,loading:s}=e,{setCurrentTask:l,setOpenEditTask:o,startLoading:r,editOrganization:c}=e,[d,b]=Object(i.useState)(""),{title:u,user_minimum_rating:h,status:O,attachment:p}=a;Object(i.useEffect)((()=>{b(null===a||void 0===a?void 0:a.instructions)}),[null===a||void 0===a?void 0:a.instructions]);const v=e=>{l({...a,[e.target.name]:e.target.value})};return Object(j.jsx)(pe,{isOpen:t,maxWidth:"800px",children:Object(j.jsxs)("form",{className:"dialog",onSubmit:e=>{if(e.preventDefault(),""===u.trim()||""===h||""===O.trim())return window.alert("Please fill all fields");if(h>5||h<1)return window.alert("User qualification rating should be between 1 and 5");r();let t=new FormData;p?t.append("attachment",p,p.name):t.append("attachment",""),t.append("user_minimum_rating",h),t.append("status",O),t.append("title",u),t.append("taskId",null===a||void 0===a?void 0:a.id),t.append("instructions",d),c(n,t)},id:s?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Edit task details"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Title"}),Object(j.jsx)("input",{type:"text",name:"title",onChange:v,value:u})]}),Object(j.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(j.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(j.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:v,value:h,min:"1",max:"5",step:"0.1"})]})]}),s&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(j.jsxs)("select",{name:"status",onChange:v,value:O,children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(j.jsx)("option",{value:"draft",children:"Draft"}),Object(j.jsx)("option",{value:"available",children:"Published"})]})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(j.jsx)("input",{type:"file",name:"attachment",onChange:e=>{l({...a,[e.target.name]:e.target.files[0]})}})]})]}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(j.jsx)(Pe,{content:d,setContent:b})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{o(!1)},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),Xe=a(17),$e=a.n(Xe);var et=e=>Object(j.jsx)(v.a,{open:e.isOpen,maxWidth:"lg",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children});var tt=e=>{const{openWorkRating:t,currentTaskSubmissionId:a,userId:n,loading:s,taskSubmissions:l}=e,{setOpenWorkRating:o,setTaskSubmissions:r,startLoading:c,stopLoading:d}=e,[b,u]=Object(i.useState)({submission_rating:"",review_notes:"",submission_status:""}),{submission_rating:h,review_notes:v,submission_status:x}=b,g=e=>{u({...b,[e.target.name]:e.target.value})};return Object(j.jsx)(pe,{isOpen:t,maxWidth:"650px",children:Object(j.jsxs)("form",{className:"dialog",id:s?"formSubmitting":"",onSubmit:e=>{if(e.preventDefault(),O(b))return window.alert("Please fill all fields");c();(async()=>{const e="/api/work/organization-admin-maintain-task-submissions/".concat(n,"/").concat(a,"/"),t={...b};await ee.post(e,t).then((e=>{var t;"rejected"===x?r(l.filter((e=>e.id!==a))):"approved"===x&&r(l.map((t=>{var a,n,i;return t.id===(null===(a=e.data)||void 0===a||null===(n=a.rated_submission)||void 0===n?void 0:n.id)?null===(i=e.data)||void 0===i?void 0:i.rated_submission:t}))),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail),o(!1)}))})().catch((e=>ae(e))).finally((()=>d()))},children:[Object(j.jsx)("h3",{children:"Rate the work submitted"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Rating (1 - 5)"}),Object(j.jsx)("input",{type:"number",name:"submission_rating",onChange:g,value:h,step:"0.1",min:"1",max:"5"})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Action"}),Object(j.jsxs)("select",{name:"submission_status",onChange:g,value:x,children:[Object(j.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select action"}),Object(j.jsx)("option",{value:"approved",children:"Accept Work"}),Object(j.jsx)("option",{value:"rejected",children:"Reject Work"})]})]})]}),s&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"45%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Comments"}),Object(j.jsx)("textarea",{name:"review_notes",onChange:g,value:v})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{o(!1),p(b)},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})})};var at=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),stopLoading:()=>e({type:R})})))((e=>{const{openTaskSubmissions:t,userId:a,currentTaskId:n,loading:s}=e,{setOpenTaskSubmissions:l,startLoading:o,stopLoading:r}=e,[d,b]=Object(i.useState)([]),[u,h]=Object(i.useState)(!1),[O,p]=Object(i.useState)({});Object(i.useEffect)((()=>{o();(async()=>{const e="/api/work/organization-admin-maintain-task-submissions/".concat(a,"/").concat(n,"/");await ee.get(e).then((e=>{var t;b(null===(t=e.data)||void 0===t?void 0:t.task_submissions)}))})().catch((e=>ae(e))).finally((()=>r()))}),[o,r,a,n]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(et,{isOpen:t,maxWidth:"1300px",children:Object(j.jsxs)("div",{className:"dialog",id:s?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Task submissions"}),s&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===d||void 0===d?void 0:d.length)>0?Object(j.jsxs)("table",{className:"table__listing",children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Date Submitted"}),Object(j.jsx)("th",{children:"Work Submitted"}),Object(j.jsx)("th",{children:"Rating"})]}),null===d||void 0===d?void 0:d.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.task}),Object(j.jsx)("td",{children:$e()(null===e||void 0===e?void 0:e.submitted_on).format("LLL")}),Object(j.jsx)("td",{children:Object(j.jsx)(c.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"View"})}),(null===e||void 0===e?void 0:e.submission_rating)?Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.submission_rating}):Object(j.jsx)("td",{className:"button__sp dodgerblue bd",onClick:()=>{return t=e,h(!0),void p(t);var t},children:"Rate Work"})]})))]}):Object(j.jsx)("h4",{className:"not__available",children:"No task submissions yet"}),Object(j.jsx)("div",{className:"form__Buttons",children:Object(j.jsx)("button",{type:"button",onClick:()=>l(!1),children:"Close"})})]})}),t&&Object(j.jsx)(tt,{setOpenWorkRating:h,openWorkRating:u,currentTaskSubmissionId:null===O||void 0===O?void 0:O.id,setTaskSubmissions:b,taskSubmissions:d,stopLoading:r,startLoading:o,userId:a,loading:s})]})}));var nt=Object(r.b)((e=>{var t,a,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading,organizationTasks:null===(n=e.work)||void 0===n?void 0:n.organization_tasks}}),(e=>({startLoading:()=>e({type:W}),getAllTasks:t=>e(Ue(t))})))((e=>{const{loading:t,organizationTasks:a,userId:n}=e,{startLoading:s,getAllTasks:l}=e,[o,r]=Object(i.useState)(!1),[d,b]=Object(i.useState)(!1),[u,h]=Object(i.useState)({}),[O,p]=Object(i.useState)(!1);Object(i.useEffect)((()=>{0===(null===a||void 0===a?void 0:a.length)&&n&&(s(),l(n))}),[n,s,null===a||void 0===a?void 0:a.length,l]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"table__parent",children:[Object(j.jsxs)("div",{className:"table__parentHeader",children:[Object(j.jsx)("button",{type:"button",className:"add__button",onClick:()=>r(!0),children:"Add"}),Object(j.jsx)("h3",{children:" Maintain Tasks here"}),t&&Object(j.jsx)(m.a,{style:{position:"absolute"}})]}),Object(j.jsx)("table",{className:"table__listing",children:(null===a||void 0===a?void 0:a.length)>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Edit"}),Object(j.jsx)("th",{children:"Task Attachment"}),Object(j.jsx)("th",{children:"Payment Status"}),Object(j.jsx)("th",{children:"Submissions"})]}),null===a||void 0===a?void 0:a.map(((e,t)=>{var a,n;return Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)("td",{className:"dodgerblue bd button__sp",onClick:()=>(e=>{b(!0),h(e)})(e),children:"edit"}),Object(j.jsx)("td",{children:Object(j.jsx)(c.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"view"})}),Object(j.jsx)("td",{children:null===(null===e||void 0===e?void 0:e.payment_status)?Object(j.jsx)("a",{href:"/accounting/make-payment/".concat(null===e||void 0===e?void 0:e.id,"/").concat(null===e||void 0===e?void 0:e.amount,"/").concat(Math.floor(1e7*Math.random()),"/"),className:"red bd button",children:"Pay"}):"paid"===(null===e||void 0===e?void 0:e.payment_status)?Object(j.jsx)("span",{className:"green bd button",children:"Paid"}):(null===e||void 0===e?void 0:e.pesapal)&&Object(j.jsx)("a",{href:"/pesapal/transaction/completed/?pesapal_merchant_reference=".concat(null===e||void 0===e||null===(a=e.pesapal_transaction)||void 0===a?void 0:a.pesapal_merchant_reference,"&pesapal_transaction_tracking_id=").concat(null===e||void 0===e||null===(n=e.pesapal_transaction)||void 0===n?void 0:n.pesapal_transaction_tracking_id),className:"dodgerblue bd button__sp",children:"Confirm Payment"})}),Object(j.jsx)("td",{className:"button__sp dodgerblue bd",onClick:()=>(e=>{p(!0),h(e)})(e),children:"View"})]})}))]}):Object(j.jsx)("h4",{className:"not__available",children:"No tasks available"})})]}),o&&Object(j.jsx)(Qe,{openAddTask:o,setOpenAddTask:r}),d&&Object(j.jsx)(Ye,{openEditTask:d,setOpenEditTask:b,currentTask:u,setCurrentTask:h}),O&&Object(j.jsx)(at,{openTaskSubmissions:O,setOpenTaskSubmissions:p,currentTaskId:null===u||void 0===u?void 0:u.id})]})}));var it=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),editWorkerOrApplication:(t,a)=>e(qe(t,a))})))((e=>{const{openEditWorkerApplication:t,currentWorkerApplication:a,loading:n,userId:i}=e,{setOpenEditWorkerApplication:s,setCurrentWorkerApplication:l,startLoading:o,editWorkerOrApplication:r}=e,{id:c,full_name:d,occupation:b,mpesa_number:u,national_id:h,applied_on:O,status:p,about_worker:v,rejection_reason:x}=a,g=e=>{l({...a,[e.target.name]:e.target.value})};return Object(j.jsx)(pe,{isOpen:t,maxWidth:"800px",children:Object(j.jsxs)("form",{className:"dialog",onSubmit:e=>{if(e.preventDefault(),"rejected"===p&&(""===x||null===x))return window.alert("You must indicate the rejection reason");const t={applicationId:c,rejection_reason:x,status:p,worker_or_application:"application"};o(),r(i,t)},id:n?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Application details"}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Name"}),Object(j.jsx)("input",{type:"text",value:d,disabled:!0,readOnly:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(j.jsx)("input",{type:"text",value:b,disabled:!0,readOnly:!0})]})]}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(j.jsx)("input",{type:"text",value:u,disabled:!0,readOnly:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"National ID"}),Object(j.jsx)("input",{type:"text",value:h,disabled:!0,readOnly:!0})]})]}),Object(j.jsxs)("div",{className:"dialog__row",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Applied On"}),Object(j.jsx)("input",{type:"text",value:$e()(O).format("LLL"),disabled:!0,readOnly:!0})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("label",{htmlFor:"",children:"Status"}),Object(j.jsxs)("select",{name:"status",value:p,onChange:g,children:[Object(j.jsx)("option",{value:"approved",children:"Approved"}),Object(j.jsx)("option",{value:"pending",children:"Pending"}),Object(j.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"About User"}),Object(j.jsx)("textarea",{value:v,disabled:!0,readOnly:!0})]}),"rejected"===p&&Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Rejection Reason"}),Object(j.jsx)("textarea",{name:"rejection_reason",value:x,onChange:g})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>{s(!1)},children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Update"})]})]})})}));var st=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),editWorkerOrApplication:(t,a)=>e(qe(t,a))})))((e=>{const{openEditWorker:t,currentWorker:a,userId:n,loading:i}=e,{setOpenEditWorker:s,setCurrentWorker:l,startLoading:o,editWorkerOrApplication:r}=e,c=e=>{l({...a,[e.target.name]:e.target.value})};return Object(j.jsx)(x,{isOpen:t,maxWidth:"600px",children:Object(j.jsxs)("form",{className:"dialog",onSubmit:e=>{var t,i;if(e.preventDefault(),"disabled"===(null===a||void 0===a?void 0:a.profile_status)&&(""===(null===a||void 0===a||null===(t=a.disabled_notes)||void 0===t?void 0:t.trim())||null===(null===a||void 0===a?void 0:a.disabled_notes)))return window.alert("Please indicate reason for disabling worker account");if("suspended"===(null===a||void 0===a?void 0:a.profile_status)&&(""===(null===a||void 0===a||null===(i=a.suspension_notes)||void 0===i?void 0:i.trim())||null===(null===a||void 0===a?void 0:a.suspension_notes)))return window.alert("Please indicate reason for suspending worker account");const s={workerId:null===a||void 0===a?void 0:a.id,profile_status:null===a||void 0===a?void 0:a.profile_status,worker_or_application:"worker",suspension_notes:null===a||void 0===a?void 0:a.suspension_notes,disabled_notes:null===a||void 0===a?void 0:a.disabled_notes};o(),r(n,s)},id:i?"formSubmitting":"",children:[Object(j.jsx)("h3",{children:"Update Worker"}),i&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Worker Status"}),Object(j.jsxs)("select",{name:"profile_status",value:null===a||void 0===a?void 0:a.profile_status,onChange:c,children:[Object(j.jsx)("option",{value:"active",children:"Active"}),Object(j.jsx)("option",{value:"disabled",children:"Disabled"}),Object(j.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),"disabled"===(null===a||void 0===a?void 0:a.profile_status)&&Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Reason for disabling worker"}),Object(j.jsx)("textarea",{name:"disabled_notes",onChange:c,value:null===a||void 0===a?void 0:a.disabled_notes})]}),"suspended"===(null===a||void 0===a?void 0:a.profile_status)&&Object(j.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(j.jsx)("label",{htmlFor:"",children:"Reason for suspending worker"}),Object(j.jsx)("textarea",{name:"suspension_notes",onChange:c,value:null===a||void 0===a?void 0:a.suspension_notes})]}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>s(!1),children:"Close"}),Object(j.jsx)("button",{type:"submit",children:"Update"})]})]})})}));var lt=Object(r.b)((e=>{var t,a,n;return{workers:null===(t=e.work)||void 0===t?void 0:t.workers,workers_applications:null===(a=e.work)||void 0===a?void 0:a.workers_applications,loading:null===(n=e.shared)||void 0===n?void 0:n.loading,userId:e.auth.user.id}}),(e=>({startLoading:()=>e({type:W}),getWorkers:t=>e(He(t))})))((e=>{const{workers:t,workers_applications:a,userId:n,loading:s}=e,{startLoading:l,getWorkers:o}=e,[r,c]=Object(i.useState)(!1),[d,b]=Object(i.useState)({}),[u,h]=Object(i.useState)({}),[O,p]=Object(i.useState)(!1);Object(i.useEffect)((()=>{0===(null===a||void 0===a?void 0:a.length)&&n&&(l(),o(n))}),[o,l,n,null===a||void 0===a?void 0:a.length]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"table__parent",children:[Object(j.jsxs)("div",{className:"table__parentHeader",children:[Object(j.jsx)("h3",{children:"Workers"}),s&&Object(j.jsx)(m.a,{style:{position:"absolute"}})]}),Object(j.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Status"}),Object(j.jsx)("th",{children:"Update"})]}),null===t||void 0===t?void 0:t.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.profile_status}),Object(j.jsx)("td",{className:"dodgerblue bd button__sp",onClick:()=>(e=>{h(e),p(!0)})(e),children:"edit"})]})))]}):Object(j.jsx)("h4",{className:"not__available",children:"No workers yet"})}),Object(j.jsx)("div",{className:"table__parentHeader",children:Object(j.jsx)("h3",{children:"Workers applications"})}),Object(j.jsx)("table",{className:"table__listing",children:(null===a||void 0===a?void 0:a.length)>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Applied On"}),Object(j.jsx)("th",{children:"Action"})]}),null===a||void 0===a?void 0:a.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name}),Object(j.jsx)("td",{children:$e()(e.applied_on).format("LLL")}),"approved"!==(null===e||void 0===e?void 0:e.status)?Object(j.jsx)("td",{className:"button__sp dodgerblue bd",onClick:()=>(e=>{c(!0),b(e)})(e),children:"process"}):Object(j.jsx)("td",{children:"Approved"})]},null===e||void 0===e?void 0:e.id)))]}):Object(j.jsx)("h4",{className:"not__available",children:"No workers applications yet"})})]}),r&&Object(j.jsx)(it,{openEditWorkerApplication:r,setOpenEditWorkerApplication:c,currentWorkerApplication:d,setCurrentWorkerApplication:b}),O&&Object(j.jsx)(st,{openEditWorker:O,setOpenEditWorker:p,currentWorker:u,setCurrentWorker:h})]})})),ot=a(59);var rt=e=>{const{openInstructions:t,currentTask:a,setOpenInstructions:n}=e;return Object(j.jsx)(pe,{isOpen:t,maxWidth:"1000px",children:Object(j.jsxs)("div",{className:"dialog",children:[Object(j.jsx)("h3",{children:"Task Instructions"}),Object(j.jsx)("div",{children:Object(ot.a)("".concat(null===a||void 0===a?void 0:a.instructions))}),Object(j.jsx)("div",{className:"form__Buttons",children:Object(j.jsx)("button",{type:"button",onClick:()=>n(!1),children:"Close"})})]})})};var ct=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),stopLoading:()=>e({type:R})})))((e=>{const{openTasksAvailable:t,userId:a,loading:n}=e,{setOpenTasksAvailable:s,startLoading:l,stopLoading:o}=e,[r,d]=Object(i.useState)([]),[b,u]=Object(i.useState)(!1),[h,O]=Object(i.useState)({}),[p,v]=Object(i.useState)(!0);Object(i.useEffect)((()=>{if(a&&p){l();(async()=>{const e="/api/work/worker-tasks-available/".concat(a,"/");await ee.get(e).then((e=>{var t;d(null===(t=e.data)||void 0===t?void 0:t.available_tasks)}))})().catch((e=>ae(e))).finally((()=>{v(!1),o()}))}}),[l,o,a,p]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(et,{isOpen:t,maxWidth:"1200px",children:Object(j.jsxs)("div",{className:"dialog",id:n?"pageSubmitting":"",children:[Object(j.jsx)("h3",{children:"Tasks available"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===r||void 0===r?void 0:r.length)>0?Object(j.jsxs)("table",{className:"table__listing",children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Wage (KES)"}),Object(j.jsx)("th",{children:"Instructions"}),Object(j.jsx)("th",{children:"Attachment"}),Object(j.jsx)("th",{children:"Action"})]}),null===r||void 0===r?void 0:r.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>(e=>{O(e),u(!0)})(e),children:"view"}),Object(j.jsx)("td",{children:Object(j.jsx)(c.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})}),Object(j.jsx)("td",{className:"dodgerblue bd button",onClick:t=>((e,t)=>{e.preventDefault(),window.confirm("Accept this task and start working")&&(l(),(async()=>{const e="/api/work/worker-tasks-available/".concat(a,"/"),n={taskId:t};await ee.post(e,n).then((e=>{var t;return d(r.filter((t=>{var a;return t.id!==(null===(a=e.data)||void 0===a?void 0:a.taskId)}))),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail)}))})().catch((e=>ae(e))).finally((()=>o())))})(t,null===e||void 0===e?void 0:e.id),children:"Accept"})]},null===e||void 0===e?void 0:e.id)))]}):Object(j.jsx)("h4",{className:"not__available",children:"No tasks available"}),Object(j.jsxs)("div",{className:"form__Buttons",children:[Object(j.jsx)("button",{type:"button",onClick:()=>s(!1),children:"Close"}),Object(j.jsx)("button",{type:"button",onClick:()=>{v(!0)},children:"Refresh"})]})]})}),b&&Object(j.jsx)(rt,{openInstructions:b,setOpenInstructions:u,currentTask:h})]})}));a(115);var dt=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),stopLoading:()=>e({type:R})})))((e=>{const{openTasksOngoing:t,userId:a,loading:n}=e,{setOpenTasksOngoing:s,startLoading:l,stopLoading:o}=e,[r,d]=Object(i.useState)([]),[b,u]=Object(i.useState)("");Object(i.useEffect)((()=>{if(a){l();(async()=>{const e="/api/work/worker-tasks-ongoing/".concat(a,"/");await ee.get(e).then((e=>{var t;d(null===(t=e.data)||void 0===t?void 0:t.ongoing_tasks)}))})().catch((e=>ae(e))).finally((()=>o()))}}),[l,o,a]);const h=e=>{u(e.target.files[0])};return Object(j.jsx)(et,{isOpen:t,maxWidth:"1400px",children:Object(j.jsxs)("div",{className:"dialog",id:n?"pageSubmitting":"",children:[Object(j.jsx)("h3",{children:"Tasks Ongoing"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===r||void 0===r?void 0:r.length)>0?Object(j.jsxs)("table",{className:"table__listing",children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Taken On"}),Object(j.jsx)("th",{children:"Status"}),Object(j.jsx)("th",{children:"Requirements"}),Object(j.jsx)("th",{children:"Submit Work"}),Object(j.jsx)("th",{title:"return if unable to complete task",children:"Return Task ?"})]}),null===r||void 0===r?void 0:r.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.task}),Object(j.jsx)("td",{children:$e()(null===e||void 0===e?void 0:e.taken_on).format("LLL")}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.submission_status}),Object(j.jsx)("td",{children:Object(j.jsx)(c.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})}),Object(j.jsx)("td",{className:"task__submissionForm",children:Object(j.jsxs)("form",{onSubmit:t=>((e,t)=>{if(e.preventDefault(),""===b)return window.alert("Please attach a valid file");l(),(async()=>{const e="/api/work/worker-tasks-ongoing/".concat(a,"/");let n=new FormData;n.append("attachment",b,b.name),n.append("taskId",t),await ee.post(e,n).then((e=>{var t;return d(null===r||void 0===r?void 0:r.filter((t=>{var a;return t.id!==(null===(a=e.data)||void 0===a?void 0:a.taskId)}))),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail)}))})().catch((e=>ae(e))).finally((()=>o()))})(t,null===e||void 0===e?void 0:e.id),children:[Object(j.jsx)("input",{type:"file",name:"",onChange:h}),Object(j.jsx)("button",{type:"submit",className:"add__button",children:"Submit"})]})}),Object(j.jsx)("td",{className:"button__sp red bd",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to return this task?")){const t="/api/work/worker-tasks-ongoing/".concat(a,"/");l(),await ee.patch(t,{taskSubmissionId:e}).then((t=>{var a;d(null===r||void 0===r?void 0:r.filter((t=>(null===t||void 0===t?void 0:t.id)!==e))),window.alert(null===(a=t.data)||void 0===a?void 0:a.detail)})).catch((e=>ae(e))).finally((()=>o()))}})(null===e||void 0===e?void 0:e.id),children:"Return"})]})))]}):Object(j.jsx)("h4",{className:"not__available",children:"No ongoing tasks"}),Object(j.jsx)("div",{className:"form__Buttons",children:Object(j.jsx)("button",{type:"button",onClick:()=>s(!1),children:"Close"})})]})})}));var jt=e=>{const{openReviewNotes:t,setOpenReviewNotes:a,currentReviewNotes:n}=e;return Object(j.jsx)(x,{isOpen:t,children:Object(j.jsxs)("div",{className:"dialog",children:[Object(j.jsx)("h3",{children:"Review notes for this task"}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{name:"",value:n,disabled:!0,readOnly:!0}),Object(j.jsx)("div",{className:"form__Buttons",children:Object(j.jsx)("button",{type:"button",onClick:()=>a(!1),children:"Close"})})]})})};var bt=Object(r.b)((e=>{var t,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(e=>({startLoading:()=>e({type:W}),stopLoading:()=>e({type:R})})))((e=>{const{openTasksSubmitted:t,userId:a,loading:n}=e,{setOpenTasksSubmitted:s,startLoading:l,stopLoading:o}=e,[r,c]=Object(i.useState)([]),[d,b]=Object(i.useState)(!1),[u,h]=Object(i.useState)("");Object(i.useEffect)((()=>{if(a){l();(async()=>{const e="/api/work/worker-tasks-submitted/".concat(a,"/");await ee.get(e).then((e=>{var t;c(null===(t=e.data)||void 0===t?void 0:t.submitted_tasks)}))})().catch((e=>ae(e))).finally((()=>o()))}}),[l,o,a]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(et,{isOpen:t,maxWidth:"1300px",children:Object(j.jsxs)("div",{className:"dialog",children:[Object(j.jsx)("h3",{children:"Tasks Submitted"}),n&&Object(j.jsx)(m.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===r||void 0===r?void 0:r.length)>0?Object(j.jsxs)("table",{className:"table__listing",children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"No:"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Date Submitted"}),Object(j.jsx)("th",{children:"Status"}),Object(j.jsx)("th",{children:"Rating"}),Object(j.jsx)("th",{children:"Review Notes"})]}),null===r||void 0===r?void 0:r.map(((e,t)=>Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.task}),Object(j.jsx)("td",{children:$e()(null===e||void 0===e?void 0:e.submitted_on).format("LLL")}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.submission_status}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.submission_rating}),Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>{return t=null===e||void 0===e?void 0:e.review_notes,b(!0),void h(t);var t},children:"view"})]})))]}):Object(j.jsx)("h4",{className:"not__available",children:"No submitted tasks"}),Object(j.jsx)("div",{className:"form__Buttons",children:Object(j.jsx)("button",{type:"button",onClick:()=>s(!1),children:"Close"})})]})}),d&&Object(j.jsx)(jt,{openReviewNotes:d,setOpenReviewNotes:b,currentReviewNotes:u})]})}));a(116);var ut=()=>{const[e,t]=Object(i.useState)(!1),[a,n]=Object(i.useState)(!1),[s,l]=Object(i.useState)(!1);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"table__parent",children:[Object(j.jsx)("div",{className:"table__parentHeader",children:Object(j.jsx)("h3",{children:"Your Work Center"})}),Object(j.jsxs)("table",{className:"table__listing",children:[Object(j.jsxs)("tr",{className:"table__listingHeader",children:[Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Action"})]}),Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:"Tasks Available"}),Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>t(!0),children:"View"})]}),Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:"Ongoing Tasks"}),Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>n(!0),children:"View"})]}),Object(j.jsxs)("tr",{className:"table__listingItem",children:[Object(j.jsx)("td",{children:"Submitted Tasks"}),Object(j.jsx)("td",{className:"button dodgerblue bd",onClick:()=>l(!0),children:"View"})]})]})]}),e&&Object(j.jsx)(ct,{openTasksAvailable:e,setOpenTasksAvailable:t}),a&&Object(j.jsx)(dt,{openTasksOngoing:a,setOpenTasksOngoing:n}),s&&Object(j.jsx)(bt,{openTasksSubmitted:s,setOpenTasksSubmitted:l})]})};var ht=Object(r.b)((e=>{var t;return{profile_type:null===(t=e.auth.user)||void 0===t?void 0:t.profile_type}}),(e=>({getUser:()=>e(he())})))((function(e){const{profile_type:t}=e,{getUser:a}=e,n=localStorage.getItem("session_cookie");return Object(i.useEffect)((()=>{n&&a()}),[a,n]),Object(j.jsx)("div",{id:"body-pd",children:Object(j.jsxs)(c.a,{children:[Object(j.jsx)(_e,{}),Object(j.jsx)(Ne,{}),Object(j.jsxs)(d.e,{children:[Object(j.jsx)(d.c,{exact:!0,path:"/",element:Object(j.jsx)(fe,{})}),Object(j.jsx)(d.c,{exact:!0,path:"/user/password-reset/:password_token/",element:Object(j.jsx)(Ae,{})}),Object(j.jsx)(d.c,{exact:!0,path:"/user/activate/:activation_token/",element:Object(j.jsx)(Ce,{})}),Object(j.jsxs)(d.c,{exact:!0,path:"/",element:Object(j.jsx)(b,{}),children:["System Admin"===t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.c,{exact:!0,path:"/sys-admin/maintain-organizations/",element:Object(j.jsx)(Je,{})}),Object(j.jsx)(d.c,{exact:!0,path:"/sys-admin/maintain-workers/",element:Object(j.jsx)(lt,{})})]}),"Organization Admin"===t&&Object(j.jsx)(d.c,{exact:!0,path:"/organization-admin/maintain-tasks/",element:Object(j.jsx)(nt,{})}),"Worker"===t&&Object(j.jsx)(d.c,{exact:!0,path:"/worker/work-center/",element:Object(j.jsx)(ut,{})}),Object(j.jsx)(d.c,{exact:!0,path:"/profile",element:Object(j.jsx)(Ve,{})}),Object(j.jsx)(d.c,{exact:!0,path:"/dashboard/",element:Object(j.jsx)(Se,{})})]}),Object(j.jsx)(d.c,{element:Object(j.jsx)(Ie,{})})]})]})})}));var mt=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,144)).then((t=>{let{getCLS:a,getFID:n,getFCP:i,getLCP:s,getTTFB:l}=t;a(e),n(e),i(e),s(e),l(e)}))},Ot=a(21),pt=a(60),vt=a(61);const xt={signupForm:!1,loginForm:!1,loggedIn:!1,forgotPasswordForm:!1,resendActivationForm:!1,resetPasswordConfirmForm:!1,changePasswordForm:!1,user:{}};var gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case g:return{...e,signupForm:!0};case _:return{...e,signupForm:!1};case f:return{...e,loginForm:!0};case w:return{...e,loginForm:!1};case k:return{...e,user:n,loggedIn:!0};case N:return{...e,forgotPasswordForm:!0};case S:return{...e,forgotPasswordForm:!1};case C:return{...e,resendActivationForm:!0};case A:return{...e,resendActivationForm:!1};case I:return{...e,resetPasswordConfirmForm:!0};case L:return{...e,resetPasswordConfirmForm:!1};case T:return{...e,changePasswordForm:!0};case F:return{...e,changePasswordForm:!1};case y:return xt;default:return e}};const _t={alert:{status:!1,alertType:"",detail:""},loading:!1};var ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case E:case P:return{...e,alert:n};case W:return{...e,loading:!0};case R:return{...e,loading:!1};default:return e}};const wt=(e,t)=>({...e,...t}),kt={organizations:[],organization_tasks:[],workers:[],workers_applications:[]},yt=(e,t)=>wt(e,{organizations:[...e.organizations,t]}),Nt=(e,t)=>wt(e,{organizations:t}),St=(e,t)=>wt(e,{organizations:e.organizations.map((e=>e.organizationId===t.organizationId?t:e))}),Ct=(e,t)=>wt(e,{organization_tasks:[...e.organization_tasks,t]}),At=(e,t)=>wt(e,{organization_tasks:t}),It=(e,t)=>{var a;return wt(e,{organization_tasks:null===(a=e.organization_tasks)||void 0===a?void 0:a.map((e=>e.id===t.id?t:e))})},Lt=(e,t)=>wt(e,{workers:t.workers,workers_applications:t.workers_applications}),Tt=(e,t)=>{var a,n,i;return console.log(t.action_type),"worker"===t.action_type?wt(e,{workers:null===(a=e.workers)||void 0===a?void 0:a.map((e=>e.id===t.id?t:e))}):"worker_application"===t.action_type?wt(e,{workers_applications:null===(n=e.workers_applications)||void 0===n?void 0:n.map((e=>e.id===t.id?t:e))}):"worker_and_application"===t.action_type?wt(e,{workers_applications:null===(i=e.workers_applications)||void 0===i?void 0:i.map((e=>e.id===t.id?t:e)),workers:[...e.workers,t.worker_data]}):void 0};var Ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case z:return yt(e,n);case D:return Nt(e,n);case U:return St(e,n);case G:return Ct(e,n);case B:return At(e,n);case H:return It(e,n);case q:return Lt(e,n);case M:return Tt(e,n);default:return e}},Et=Object(Ot.combineReducers)({auth:gt,shared:ft,work:Ft});var Pt=Object(Ot.createStore)(Et,Object(pt.composeWithDevTools)(Object(Ot.applyMiddleware)(vt.a)));o.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(r.a,{store:Pt,children:Object(j.jsx)(ht,{})})}),document.getElementById("root")),mt()},47:function(e,t,a){},68:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.09641f1b.chunk.js.map