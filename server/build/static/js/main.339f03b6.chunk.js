(this["webpackJsonpmern-auth"]=this["webpackJsonpmern-auth"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"OPEN_SIGNUP",(function(){return y})),n.d(a,"CLOSE_SIGNUP",(function(){return N})),n.d(a,"OPEN_LOGIN",(function(){return C})),n.d(a,"CLOSE_LOGIN",(function(){return S})),n.d(a,"AUTH_SUCCESS",(function(){return A})),n.d(a,"LOGOUT",(function(){return I})),n.d(a,"OPEN_FORGOT_PASSWORD",(function(){return T})),n.d(a,"CLOSE_FORGOT_PASSWORD",(function(){return F})),n.d(a,"OPEN_RESEND_ACTIVATION",(function(){return E})),n.d(a,"CLOSE_RESEND_ACTIVATION",(function(){return L})),n.d(a,"OPEN_PASSWORD_RESET_CONFIRM",(function(){return P})),n.d(a,"CLOSE_PASSWORD_RESET_CONFIRM",(function(){return z})),n.d(a,"OPEN_CHANGE_PASSWORD",(function(){return W})),n.d(a,"CLOSE_CHANGE_PASSWORD",(function(){return R})),n.d(a,"SET_ALERT",(function(){return D})),n.d(a,"REMOVE_ALERT",(function(){return G})),n.d(a,"START_LOADING",(function(){return U})),n.d(a,"STOP_LOADING",(function(){return B})),n.d(a,"ADD_ORGANIZATION",(function(){return H})),n.d(a,"GET_ORGANIZATIONS",(function(){return q})),n.d(a,"UPDATE_ORGANIZATION",(function(){return M})),n.d(a,"NEW_ORGANIZATION_TASK",(function(){return Z})),n.d(a,"GET_TASKS",(function(){return V})),n.d(a,"EDIT_ORGANIZATION_TASK",(function(){return K})),n.d(a,"GET_WORKERS",(function(){return J})),n.d(a,"EDIT_WORKER",(function(){return Q}));var i=n(0),r=n(1),s=n.n(r),c=n(17),o=n.n(c),l=(n(80),n(4)),u=n(12),d=n(11),j=(n(85),n(3)),b=n(72),O=function(e){var t=e.component,n=Object(b.a)(e,["component"]);return Object(i.jsx)(d.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return localStorage.getItem("session_cookie")?Object(i.jsx)(t,Object(j.a)({},e)):Object(i.jsx)(d.a,{to:"/"})}}))},p=(n(87),n(156)),h=function(){var e=document.getElementById("nav-bar"),t=document.getElementById("body-pd");e.classList.toggle("show"),t.classList.toggle("body-pd")},m=n(9),f=n(5),v=n(154),x={success:"success",error:"error",fillFields:"Please fill all fields",unknown_error:"An unknown error occurred, please try again later",dev:!1,testProduction:!1,liveProduction:!1,devHome:"http://localhost:8000",testHome:"https://courzehub-work.herokuapp.com",productionHome:"https://work.courzehub.com"},g=function(e){for(var t in e)if(""==="".concat(e[t]))return!0;return!1},_=function(e){for(var t in e)e[t]=""},w=n(155),k=function(e){return Object(i.jsx)(w.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"sm",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},y="OPEN_SIGNUP",N="CLOSE_SIGNUP",C="OPEN_LOGIN",S="CLOSE_LOGIN",A="AUTH_SUCCESS",I="LOGOUT",T="OPEN_FORGOT_PASSWORD",F="CLOSE_FORGOT_PASSWORD",E="OPEN_RESEND_ACTIVATION",L="CLOSE_RESEND_ACTIVATION",P="OPEN_PASSWORD_RESET_CONFIRM",z="CLOSE_PASSWORD_RESET_CONFIRM",W="OPEN_CHANGE_PASSWORD",R="CLOSE_CHANGE_PASSWORD",D="SET_ALERT",G="REMOVE_ALERT",U="START_LOADING",B="STOP_LOADING",H="ADD_ORGANIZATION",q="GET_ORGANIZATIONS",M="UPDATE_ORGANIZATION",Z="NEW_ORGANIZATION_TASK",V="GET_TASKS",K="EDIT_ORGANIZATION_TASK",J="GET_WORKERS",Q="EDIT_WORKER",Y=n(6),X=n.n(Y),$=n(8),ee=x.unknown_error,te=function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:D,payload:{status:!0,alertType:e,detail:t}}),setTimeout((function(){a({type:G,payload:{status:!1,alertType:"",detail:""}})}),3e3);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ne=function(e){var t,n,a,i,r,s;400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?window.alert(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail):413===(null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status)?window.alert("Video file too large, a maximum of 95MB allowed."):window.alert(ee)},ae=function(e){e({type:B})},ie=n(67),re=n.n(ie).a.create({baseURL:"http://localhost:8000"});re.interceptors.request.use((function(e){return localStorage.getItem("session_cookie")&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("session_cookie")),e.headers.Accept="application/json"),e}));var se=re,ce=function(e){return se.post("/api/user/signup/",e)},oe=function(e){return se.post("/api/user/activate-user-account/",{activation_token:e})},le=function(e){return se.post("/api/user/resend-account-activation-link/",{email:e})},ue=function(e){return se.post("/api/user/login/",e)},de=function(e){return se.post("/api/user/user-request-password-reset/",{email:e})},je=function(e,t){return se.post("/api/user/user-set-new-password/",Object(j.a)(Object(j.a)({},e),{},{password_token:t}))},be=function(e,t){return se.post("/api/user/change-user-password/".concat(t,"/"),e)},Oe=function(e,t){return se.post("/api/work/maintain-organizations/".concat(e,"/"),t)},pe=function(e,t){return se.post("/api/work/maintain-organization-tasks/".concat(e,"/"),t)},he=function(e,t){return se.post("/api/work/worker-application/".concat(e,"/"),t)},me=function(e){return se.get("/api/work/maintain-organizations/".concat(e,"/"))},fe=function(e){return se.get("/api/work/maintain-organization-tasks/".concat(e,"/"))},ve=function(e){return se.get("/api/work/worker-application/".concat(e,"/"))},xe=function(e,t){return se.patch("/api/user/update-user-details/".concat(t,"/"),e)},ge=function(e,t){return se.patch("/api/work/maintain-organizations/".concat(e,"/"),t)},_e=function(e,t){return se.patch("/api/work/maintain-organization-tasks/".concat(e,"/"),t)},we=function(e,t){return se.patch("/api/work/worker-application/".concat(e,"/"),t)},ke=x.error,ye=x.success,Ne=x.unknown_error,Ce=function(){return function(){var e=Object($.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.get("/api/user/get-user-data/").then((function(e){var n;t({type:A,payload:null===(n=e.data)||void 0===n?void 0:n.user})})).catch((function(e){t({type:I}),localStorage.clear()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object($.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.clear(),n({type:I}),e.replace("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ae=Object(l.b)((function(e){var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,loginForm:e.auth.loginForm,alert:e.shared.alert}}),(function(e){return{startLoading:function(){return e({type:U})},newAlert:function(t,n){return e(te(t,n))},loginUser:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ue(e).then((function(e){var n;localStorage.setItem("session_cookie",null===(n=e.data)||void 0===n?void 0:n.access),t(),a({type:S}),a(Ce())})).catch((function(e){var t,n,i;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(te(ke,null===(i=e.response.data)||void 0===i?void 0:i.detail)):401===(null===(n=e.response)||void 0===n?void 0:n.status)?a(te(ke,"Invalid login, ensure your account is activated")):console.log(e)})).finally((function(){a({type:B})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},closeLogin:function(){return e({type:S})},openPasswordReset:function(){return e({type:T})},openSignup:function(){return e({type:y})},openResendActivation:function(){return e({type:E})}}}))((function(e){var t=e.loading,n=e.alert,a=e.loginForm,s=e.startLoading,c=e.newAlert,o=e.loginUser,l=e.closeLogin,u=e.openPasswordReset,d=e.openSignup,b=e.openResendActivation,O=Object(r.useState)({email:"",password:""}),p=Object(f.a)(O,2),h=p[0],w=p[1],y=x.error,N=h.email,C=h.password,S=function(){_(h)},A=function(e){w(Object(j.a)(Object(j.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(k,{isOpen:a,maxWidth:"500px",children:Object(i.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Login here"}),Object(i.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",name:"email",onChange:A,value:N})]}),t&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Password"}),Object(i.jsx)("input",{type:"password",name:"password",onChange:A,value:C})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){l(),S()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),g(h))return c(y,"Email and password required");s(),o(h,S)},children:"Login"})]}),Object(i.jsxs)("div",{className:"extra__formButtons",children:[Object(i.jsx)("label",{htmlFor:"",className:"button",onClick:function(){u(),l()},children:"Forgot Password"}),Object(i.jsx)("label",{htmlFor:"",className:"button",style:{justifySelf:"end"},onClick:function(){d(),l()},children:"Create Account"})]}),Object(i.jsx)("div",{className:"extra__formButtons",children:Object(i.jsx)("label",{htmlFor:"",className:"button",onClick:function(){b(),l()},children:"Resend Activation"})})]})})})})),Ie=function(e){return Object(i.jsx)(w.a,{open:null===e||void 0===e?void 0:e.isOpen,maxWidth:"md",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},Te=Object(l.b)((function(e){var t,n;return{signupForm:e.auth.signupForm,alert:null===(t=e.shared)||void 0===t?void 0:t.alert,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:U})},closeSignup:function(){return e({type:N})},newAlert:function(t,n){return e(te(t,n))},signupUser:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce(e).then((function(e){var n;a(te(ye,null===(n=e.data)||void 0===n?void 0:n.detail)),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(te(ke,null===(n=e.response.data)||void 0===n?void 0:n.detail)):alert(Ne)})).finally((function(){a({type:B})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.loading,n=e.signupForm,a=e.alert,s=e.startLoading,c=e.closeSignup,o=e.newAlert,l=e.signupUser,u=Object(r.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),d=Object(f.a)(u,2),b=d[0],O=d[1],p=b.first_name,h=b.last_name,w=b.username,k=b.email,y=b.password,N=b.confirm_password,C=x.error,S=x.fillFields,A=function(){_(b)},I=function(e){O(Object(j.a)(Object(j.a)({},b),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsx)(Ie,{isOpen:n,maxWidth:"800px",children:Object(i.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Create new account"}),Object(i.jsx)("p",{className:"response__message ".concat(a.alertType),children:a.status&&a.detail}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"First Name"}),Object(i.jsx)("input",{type:"text",name:"first_name",value:p,onChange:I,required:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(i.jsx)("input",{type:"text",name:"last_name",value:h,onChange:I,required:!0})]})]}),t&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Username"}),Object(i.jsx)("input",{type:"text",name:"username",value:w,onChange:I,required:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",name:"email",username:k,onChange:I,required:!0})]})]}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",className:"label__left",children:"Password"}),Object(i.jsx)("input",{type:"password",name:"password",value:y,onChange:I,required:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Confirm Password"}),Object(i.jsx)("input",{type:"password",name:"confirm_password",value:N,onChange:I,required:!0})]})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){c(),A()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){return e.preventDefault(),g(b)?o(C,S):y!==N?o(C,"Passwords should match"):(s(),void l(b,A))},children:"Sign Up"})]}),Object(i.jsx)("div",{className:"extra__formButtons"})]})})})),Fe=Object(l.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,forgotPasswordForm:null===(a=e.auth)||void 0===a?void 0:a.forgotPasswordForm}}),(function(e){return{startLoading:function(){return e({type:U})},newAlert:function(t,n){return e(te(t,n))},resetPassword:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,de(e).then((function(e){var n;a(te(ye,null===(n=e.data)||void 0===n?void 0:n.detail)),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(te(ke,null===(n=e.response.data)||void 0===n?void 0:n.detail)):a(te(ke,Ne))})).finally((function(){a({type:B})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},closeForgotPassword:function(){return e({type:F})}}}))((function(e){var t=e.loading,n=e.alert,a=e.forgotPasswordForm,s=e.startLoading,c=e.newAlert,o=e.resetPassword,l=e.closeForgotPassword,u=Object(r.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=x.error,p=function(){b("")};return Object(i.jsx)(k,{isOpen:a,maxWidth:"500px",children:Object(i.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Enter your email to reset password"}),Object(i.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),t&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){l(),p()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),""===j.trim())return c(O,"Email required");s(),o(j,p)},children:"Reset"})]})]})})})),Ee=Object(l.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,resendActivationForm:null===(a=e.auth)||void 0===a?void 0:a.resendActivationForm}}),(function(e){return{startLoading:function(){return e({type:U})},newAlert:function(t,n){return e(te(t,n))},closeResendActivation:function(){return e({type:L})},resendActivation:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le(e).then((function(e){a(te(ye,"Activation link sent to email.")),t()})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?a(te(ke,null===(n=e.response.data)||void 0===n?void 0:n.detail)):a(te(ke,"An error occurred, please try again later"))})).finally((function(){a({type:B})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.loading,n=e.alert,a=e.resendActivationForm,s=e.startLoading,c=e.newAlert,o=e.closeResendActivation,l=e.resendActivation,u=Object(r.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=x.error,p=function(){b("")};return Object(i.jsx)(k,{isOpen:a,maxWidth:"500px",children:Object(i.jsxs)("form",{className:"dialog",id:t?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Enter email to resend confirmation link"}),Object(i.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),t&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j,required:!0})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){o(),p()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),""===j.trim())return c(O,"Email required");s(),l(j,p)},children:"Send"})]})]})})})),Le=function(){var e=Object(l.c)(),t=(Object(d.h)(),Object(d.g)()),n=localStorage.getItem("session_cookie"),a=Object(l.d)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.username})),r=Object(l.d)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.userImage}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("header",{className:"header",id:"header",children:[Object(i.jsxs)("div",{className:"header__toggle",children:[Object(i.jsx)("i",{className:"bx bx-menu",id:"header-toggle",onClick:h}),Object(i.jsx)("h1",{children:"CourZe Hub Work"})]}),n?Object(i.jsx)("div",{className:"header__right authenticated",children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(p.a,{alt:a,src:r,className:"user__image",children:null===a||void 0===a?void 0:a.charAt(0)}),Object(i.jsx)("h6",{children:a}),Object(i.jsx)("i",{className:"bx bx-caret-down"})]}),Object(i.jsxs)("ul",{className:"dropdown",children:[Object(i.jsx)("li",{children:Object(i.jsx)(u.b,{to:"/dashboard/",children:"Dashboard"})}),Object(i.jsx)("li",{onClick:function(){return e(Se(t))},children:"Logout"})]})]})}):Object(i.jsxs)("div",{className:"header__right",children:[Object(i.jsx)("span",{className:"button",onClick:function(){return e({type:C})},children:"Login"}),Object(i.jsx)("span",{className:"button",onClick:function(){return e({type:y})},children:"Signup"})]})]}),Object(i.jsx)(Ae,{}),Object(i.jsx)(Te,{}),Object(i.jsx)(Fe,{}),Object(i.jsx)(Ee,{})]})},Pe=(n(107),Object(l.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,profile_type:null===(n=e.auth.user)||void 0===n?void 0:n.profile_type}}),(function(e){return{}}))((function(e){var t=e.userId,n=e.profile_type,a=Object(d.g)(),r=Object(l.c)();return Object(i.jsxs)("div",{className:"home",children:[Object(i.jsx)("div",{className:"home__left",children:("Worker"===n||!n)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Earn by using your skills."}),Object(i.jsx)("button",{type:"button",className:"add__button",onClick:function(){t?"Worker"===n?a.push("/worker/work-center/"):a.push("/profile"):r({type:C})},children:"Start Now"})]})}),Object(i.jsx)("div",{className:"home__right",children:("Organization Admin"===n||!n)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Tap into remote talent."}),Object(i.jsx)("button",{type:"button",className:"add__button",onClick:function(){t?"Organization Admin"===n?a.push("/organization-admin/maintain-tasks/"):a.push("/profile"):r({type:C})},children:"Get Started"})]})})]})}))),ze=(n(108),function(e){var t=e.Link,n=e.pathname;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(t,{to:"/sys-admin/maintain-organizations/",className:"/sys-admin/maintain-organizations/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{className:"bx bxs-school"}),Object(i.jsx)("span",{className:"nav__name",children:"Organizations"})]}),Object(i.jsxs)(t,{to:"/sys-admin/maintain-workers/",className:"/sys-admin/maintain-workers/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(i.jsx)("span",{className:"nav__name",children:"Workers"})]})]})}),We=function(e){var t=e.Link,n=e.pathname;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(t,{to:"/organization-admin/maintain-tasks/",className:"/organization-admin/maintain-tasks/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(i.jsx)("span",{className:"nav__name",children:"Tasks"})]})})},Re=function(e){var t=e.Link,n=e.pathname;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(t,{to:"/worker/work-center/",className:"/worker/work-center/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(i.jsx)("span",{className:"nav__name",children:"Work Center"})]})})},De=Object(l.b)((function(e){var t,n,a;return{loggedIn:null===(t=e.auth)||void 0===t?void 0:t.loggedIn,profile_type:null===(n=e.auth)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.profile_type}}),(function(e){return{logoutUser:function(t){return e(Se(t))}}}))((function(e){var t=Object(d.g)(),n=Object(d.h)().pathname,a=e.loggedIn,r=e.profile_type,s=e.logoutUser;return Object(i.jsx)("div",{className:"left-navbar",id:"nav-bar",children:Object(i.jsxs)("nav",{className:"nav",children:[Object(i.jsxs)(u.b,{to:"",className:"nav__logo",children:[Object(i.jsx)("i",{className:"bx bx-layer nav__logo-icon"}),Object(i.jsx)("span",{className:"nav__logo-name",children:"AZW"})]}),Object(i.jsxs)("div",{className:"nav__list",children:[Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(u.b,{to:"/",className:"/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{class:"bx bx-home"}),Object(i.jsx)("span",{className:"nav__name",children:"Home"})]})}),a&&Object(i.jsxs)(i.Fragment,{children:["System Admin"===r&&Object(i.jsx)(ze,{Link:u.b,pathname:n}),"Organization Admin"===r&&Object(i.jsx)(We,{Link:u.b,pathname:n}),"Worker"===r&&Object(i.jsx)(Re,{Link:u.b,pathname:n}),Object(i.jsxs)(u.b,{to:"/dashboard/",className:"/dashboard/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{className:"bx bx-grid-alt nav__icon"}),Object(i.jsx)("span",{className:"nav__name",children:"Dashboard"})]}),Object(i.jsxs)(u.b,{to:"/profile/",className:"/profile/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(i.jsx)("i",{class:"bx bx-user nav__icon"}),Object(i.jsx)("span",{className:"nav__name",children:"Profile"})]}),Object(i.jsxs)(u.b,{to:"",className:"nav__link",onClick:function(){return s(t)},children:[Object(i.jsx)("i",{className:"bx bx-log-out-circle"}),Object(i.jsx)("span",{className:"nav__name",children:"Logout"})]})]})]})]})})})),Ge=(n(109),function(){return Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Dashboard"})})}),Ue=(n(59),Object(l.b)((function(e){var t;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading}}),(function(e){return{startLoading:function(){return e({type:U})},activateUser:function(t,n){return e((a={activation_token:t,history:n},function(){var e=Object($.a)(X.a.mark((function e(t){var n,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.activation_token,i=a.history,e.next=3,oe(n).then((function(e){var n;alert(null===(n=e.data)||void 0===n?void 0:n.detail),t({type:C})})).catch((function(e){var n;400===e.response.status?(alert(null===(n=e.response.data)||void 0===n?void 0:n.detail),t({type:E})):alert(Ne)})).finally((function(){t({type:B}),i.replace("/")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=Object(d.i)().activation_token,n=Object(d.g)(),a=e.loading,r=e.startLoading,s=e.activateUser;return Object(i.jsxs)("div",{className:"activate__account",id:a?"formSubmitting":"",children:[Object(i.jsx)("h1",{children:"Click on the button below to verify your account"}),a&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"1%"}}),Object(i.jsx)("button",{type:"button",onClick:function(){r(),s(t,n)},children:"Verify"})]})}))),Be=Object(l.b)((function(e){var t,n,a;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,resetPasswordConfirmForm:null===(n=e.auth)||void 0===n?void 0:n.resetPasswordConfirmForm,alert:null===(a=e.shared)||void 0===a?void 0:a.alert}}),(function(e){return{startLoading:function(){return e({type:U})},setNewPassword:function(t,n,a){return e(function(e,t,n){return function(){var a=Object($.a)(X.a.mark((function a(i){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,je(e,t).then((function(e){var t;alert(null===(t=e.data)||void 0===t?void 0:t.detail),i({type:z}),n.replace("/"),i({type:C})})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?i(te(ke,null===(n=e.response.data)||void 0===n?void 0:n.detail)):i(te(ke,Ne))})).finally((function(){i({type:B})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},openNewPassword:function(){return e({type:P})},closeNewPassword:function(){return e({type:z})},newAlert:function(t,n){return e(te(t,n))}}}))((function(e){var t=Object(d.g)(),n=Object(d.i)().password_token,a=e.loading,s=e.alert,c=e.resetPasswordConfirmForm,o=e.startLoading,l=e.setNewPassword,u=e.newAlert,b=e.openNewPassword,O=e.closeNewPassword,p=Object(r.useState)({new_password:"",confirm_password:""}),h=Object(f.a)(p,2),w=h[0],y=h[1],N=w.new_password,C=w.confirm_password,S=x.error,A=function(e){return y(Object(j.a)(Object(j.a)({},w),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"activate__account",children:[Object(i.jsx)("h1",{children:"Click the button to set new password"}),Object(i.jsx)("button",{type:"button",onClick:b,children:"Set New password"})]}),Object(i.jsx)(k,{isOpen:c,children:Object(i.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Enter new password"}),Object(i.jsx)("p",{className:"response__message ".concat(s.alertType),children:s.status&&s.detail}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"New Password"}),Object(i.jsx)("input",{type:"password",name:"new_password",onChange:A,value:N})]}),a&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(i.jsx)("input",{type:"password",name:"confirm_password",onChange:A,value:C})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){_(w),O()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),g(w))return u(S,"Both fields are required");o(),l(w,n,t)},children:"Submit"})]})]})})]})}));n(110);var He=function(){return Object(i.jsxs)("div",{className:"not__found",children:[Object(i.jsx)("h1",{className:"not__foundHeading",children:"404 resource not found"}),Object(i.jsx)("p",{children:"Please try again."})]})},qe=(n(111),Object(l.b)((function(e){var t,n,a,i;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,alert:null===(n=e.shared)||void 0===n?void 0:n.alert,changePasswordForm:null===(a=e.auth)||void 0===a?void 0:a.changePasswordForm,userId:null===(i=e.auth.user)||void 0===i?void 0:i.id}}),(function(e){return{startLoading:function(){return e({type:U})},changeUserPassword:function(t,n,a,i){return e(function(e,t,n){return function(){var a=Object($.a)(X.a.mark((function a(i){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,be(e,t).then((function(e){var t;alert(ye,null===(t=e.data)||void 0===t?void 0:t.detail),i({type:R}),i(Se(n)),i({type:C})})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?i(te(ke,null===(n=e.response.data)||void 0===n?void 0:n.detail)):i(te(ke,Ne))})).finally((function(){i({type:B})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},closeChangePassword:function(){return e({type:R})},newAlert:function(t,n){return e(te(t,n))}}}))((function(e){var t=Object(d.g)(),n=e.loading,a=e.alert,s=e.changePasswordForm,c=e.userId,o=e.startLoading,l=e.newAlert,u=e.changeUserPassword,b=e.closeChangePassword,O=Object(r.useState)({current_password:"",new_password:"",confirm_new_password:""}),p=Object(f.a)(O,2),h=p[0],w=p[1],y=h.current_password,N=h.new_password,C=h.confirm_new_password,S=x.error,A=function(){_(h)},I=function(e){w(Object(j.a)(Object(j.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsx)(k,{isOpen:s,children:Object(i.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Change your password here"}),Object(i.jsx)("p",{className:"response__message ".concat(null===a||void 0===a?void 0:a.alertType),children:(null===a||void 0===a?void 0:a.status)&&(null===a||void 0===a?void 0:a.detail)}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Old Password"}),Object(i.jsx)("input",{type:"password",name:"current_password",value:y,onChange:I})]}),n&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"New Password"}),Object(i.jsx)("input",{type:"password",name:"new_password",value:N,onChange:I})]}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(i.jsx)("input",{type:"password",name:"confirm_new_password",value:C,onChange:I})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){A(),b()},children:"Close"}),Object(i.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),g(h))return l(S,"All fields are required");o(),u(h,c,t,A)},children:"Submit"})]})]})})}))),Me=n(68),Ze=n.n(Me),Ve=(n(113),function(){function e(e,t){document.execCommand(e,!1,t)}return Object(i.jsxs)("div",{id:"toolbar",children:[Object(i.jsx)("button",{onClick:function(t){return e("bold")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-bold"})}),Object(i.jsx)("button",{onClick:function(t){return e("italic")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-italic"})}),Object(i.jsx)("button",{onClick:function(t){return e("insertUnorderedList")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-list-ul"})}),Object(i.jsx)("button",{onClick:function(t){return e("insertOrderedList")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-list-ol"})}),Object(i.jsx)("button",{onClick:function(t){return e("underline")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-underline"})}),Object(i.jsx)("button",{onClick:function(t){return e("subscript")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-subscript"})}),Object(i.jsx)("button",{onClick:function(t){return e("superscript")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-superscript"})}),Object(i.jsx)("button",{onClick:function(t){return e("outdent")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-outdent"})}),Object(i.jsx)("button",{onClick:function(t){return e("indent")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-indent"})}),Object(i.jsx)("button",{onClick:function(t){return e("justifyFull")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-align-justify"})}),Object(i.jsx)("button",{onClick:function(t){return e("justifyLeft")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-align-left"})}),Object(i.jsx)("button",{onClick:function(t){return e("justifyCenter")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-align-center"})}),Object(i.jsx)("button",{onClick:function(t){return e("justifyRight")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-align-right"})}),Object(i.jsx)("button",{onClick:function(t){return e("undo")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-undo"})}),Object(i.jsx)("button",{onClick:function(t){return e("redo")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-repeat"})}),Object(i.jsx)("button",{onClick:function(t){return e("strikethrough")},type:"button",children:Object(i.jsx)("i",{class:"fa fa-strikethrough"})}),Object(i.jsx)("button",{onClick:function(){return e("selectAll")},type:"button",children:"All"})]})}),Ke=(n(114),function(e){var t=e.content,n=e.setContent;return Object(i.jsxs)("div",{className:"editor",children:[Object(i.jsx)("div",{className:"editor__buttons",children:Object(i.jsx)(Ve,{})}),Object(i.jsx)("div",{className:"editor__edit",children:Object(i.jsx)(Ze.a,{id:"editorContent",onChange:function(e){return n(e.target.value)},html:t})})]})}),Je=function(e,t,n){return function(){var a=Object($.a)(X.a.mark((function a(i){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ge(e,t).then((function(e){var t,a;n(),i({type:M,payload:null===(t=e.data)||void 0===t?void 0:t.updated_organization}),window.alert(null===(a=e.data)||void 0===a?void 0:a.detail)})).catch((function(e){return ne(e)})).finally((function(){return ae(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Qe=Object(l.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:U})},workerApplication:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,he(e,t).then((function(e){var t;window.alert(null===(t=e.data)||void 0===t?void 0:t.detail)})).catch((function(e){return ne(e)})).finally((function(){return ae(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openWorkerApplication,n=e.loading,a=e.userId,s=e.setOpenWorkerApplication,c=e.startLoading,o=e.workerApplication,l=Object(r.useState)(""),u=Object(f.a)(l,2),d=u[0],b=u[1],O=Object(r.useState)({mpesa_number:"",national_id:"",occupation:""}),p=Object(f.a)(O,2),h=p[0],x=p[1],_=function(e){x(Object(j.a)(Object(j.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))},w=h.mpesa_number,k=h.national_id,y=h.occupation;return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"800px",children:Object(i.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),g(h)||""===d.trim())return window.alert("Please fill all fields");c();var t=Object(j.a)(Object(j.a)({},h),{},{about_worker:d});o(a,t)},id:n?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Enter your details"}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"National ID"}),Object(i.jsx)("input",{type:"number",name:"national_id",value:k,onChange:_})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(i.jsx)("input",{type:"number",name:"mpesa_number",value:w,onChange:_})]})]}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(i.jsx)("input",{type:"text",name:"occupation",onChange:_,value:y})]}),n&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"About yourself"}),Object(i.jsx)(Ke,{content:d,setContent:b})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){s(!1)},children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),Ye=Object(l.b)((function(e){var t,n,a,i,r,s,c;return{first_name:null===(t=e.auth.user)||void 0===t?void 0:t.first_name,last_name:null===(n=e.auth.user)||void 0===n?void 0:n.last_name,username:null===(a=e.auth.user)||void 0===a?void 0:a.username,email:null===(i=e.auth.user)||void 0===i?void 0:i.email,bio:null===(r=e.auth.user)||void 0===r?void 0:r.bio,userId:null===(s=e.auth.user)||void 0===s?void 0:s.id,loading:null===(c=e.shared)||void 0===c?void 0:c.loading}}),(function(e){return{startLoading:function(){return e({type:U})},updateUser:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xe(e,t).then((function(e){var t,n;a({type:A,payload:null===(t=e.data)||void 0===t?void 0:t.user}),alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){var t,n;400===(null===(t=e.response)||void 0===t?void 0:t.status)?alert(null===(n=e.response.data)||void 0===n?void 0:n.detail):alert(Ne)})).finally((function(){a({type:B})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},openChangePassword:function(){return e({type:W})}}}))((function(e){var t=e.first_name,n=e.last_name,a=e.username,s=e.email,c=e.bio,o=e.userId,l=e.loading,u=e.startLoading,d=e.updateUser,b=e.openChangePassword,O=Object(r.useState)({}),p=Object(f.a)(O,2),h=p[0],x=p[1],_=Object(r.useState)(!1),w=Object(f.a)(_,2),k=w[0],y=w[1];Object(r.useEffect)((function(){x({first_name:t,last_name:n,username:a,email:s,bio:c})}),[t,n,s,a,c]);var N=function(e){x(Object(j.a)(Object(j.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsxs)("div",{className:"profile",id:l?"formSubmitting":"",children:[Object(i.jsx)("h2",{children:"Profile Details"}),Object(i.jsxs)("div",{className:"profile__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"First Name"}),Object(i.jsx)("input",{type:"text",name:"first_name",value:h.first_name,onChange:N})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(i.jsx)("input",{type:"text",name:"last_name",value:h.last_name,onChange:N})]})]}),l&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"30%"}}),Object(i.jsxs)("div",{className:"profile__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Username"}),Object(i.jsx)("input",{type:"text",name:"username",value:h.username,onChange:N})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",name:"email",value:h.email,onChange:N})]})]}),Object(i.jsxs)("div",{className:"profile__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Bio"}),Object(i.jsx)("textarea",{name:"bio",value:h.bio,onChange:N})]}),Object(i.jsxs)("div",{className:"profile__Buttons",children:[Object(i.jsx)("button",{type:"button",className:"add__button",onClick:function(){y(!0)},children:"Worker Application"}),Object(i.jsx)("button",{type:"button",className:"change__password",onClick:b,children:"Change Password"}),Object(i.jsx)("button",{type:"submit",className:"update",onClick:function(e){e.preventDefault(),g(h)&&alert("Fill all fields are to update your profile"),u(),d(h,o)},children:"Update Profile"})]}),W&&Object(i.jsx)(qe,{}),k&&Object(i.jsx)(Qe,{openWorkerApplication:k,setOpenWorkerApplication:y})]})})),Xe=Object(l.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:U})},addOrganization:function(t,n,a){return e(function(e,t,n){return function(){var a=Object($.a)(X.a.mark((function a(i){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe(e,t).then((function(e){var t,a;n(),window.alert(null===(t=e.data)||void 0===t?void 0:t.detail),i({type:H,payload:null===(a=e.data)||void 0===a?void 0:a.organization_data})})).catch((function(e){return ne(e)})).finally((function(){return ae(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=e.openAddOrganization,n=e.loading,a=e.userId,s=e.setOpenAddOrganization,c=e.startLoading,o=e.addOrganization,l=Object(r.useState)({name:"",initials:""}),u=Object(f.a)(l,2),d=u[0],b=u[1],O=d.name,p=d.initials,h=function(e){b(Object(j.a)(Object(j.a)({},d),{},Object(m.a)({},e.target.name,e.target.value)))},x=function(){_(d)};return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"800px",children:Object(i.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Organization details"}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Name"}),Object(i.jsx)("input",{type:"text",name:"name",onChange:h,value:O})]}),n&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"42%"}}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Initials"}),Object(i.jsx)("input",{type:"text",name:"initials",onChange:h,value:p})]})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){x(),s(!1)},children:"Close"}),Object(i.jsx)("button",{type:"button",onClick:function(e){if(e.preventDefault(),g(d))return window.alert("All fields are required");c(),o(a,d,x)},children:"Submit"})]})]})})})),$e=Object(l.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:U})},addOrganizationAdmin:function(t,n,a){return e(Je(t,n,a))}}}))((function(e){var t=e.openAddOrganizationAdmin,n=e.userId,a=e.loading,s=e.organizationId,c=e.setOpenAddOrganizationAdmin,o=e.addOrganizationAdmin,l=e.startLoading,u=Object(r.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=function(){b("")};return Object(i.jsx)(k,{isOpen:t,maxWidth:"500px",children:Object(i.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",onSubmit:function(e){if(e.preventDefault(),""===j.trim())return window.alert("Please enter a valid email");var t={userEmail:j,actionType:"add_organization_admin",organizationId:s};l(),o(n,t,O)},children:[Object(i.jsx)("h3",{children:"Enter user email"}),a&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Email"}),Object(i.jsx)("input",{type:"email",onChange:function(e){return b(e.target.value)},value:j})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){c(!1),O()},children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),et=Object(l.b)((function(e){var t,n,a;return{organizations:null===(t=e.work)||void 0===t?void 0:t.organizations,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id,loading:null===(a=e.shared)||void 0===a?void 0:a.loading}}),(function(e){return{startLoading:function(){return e({type:U})},getOrganizations:function(t){return e(function(e){return function(){var t=Object($.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e).then((function(e){var t;n({type:null===a||void 0===a?void 0:q,payload:null===(t=e.data)||void 0===t?void 0:t.organizations_data})})).catch((function(e){return ne(e)})).finally((function(){return ae(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeOrganizationAdmin:function(t,n,a){return e(Je(t,n,a))}}}))((function(e){var t=e.organizations,n=e.userId,a=e.loading,s=e.getOrganizations,c=e.startLoading,o=e.removeOrganizationAdmin,l=Object(r.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(!1),O=Object(f.a)(b,2),p=O[0],h=O[1],m=Object(r.useState)({}),x=Object(f.a)(m,2),g=x[0],_=x[1];Object(r.useEffect)((function(){n&&0===(null===t||void 0===t?void 0:t.length)&&(c(),s(n))}),[c,s,null===t||void 0===t?void 0:t.length,n]);var w=function(){};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"table__parent",id:a?"pageSubmitting":"",children:[Object(i.jsxs)("div",{className:"table__parentHeader",children:[Object(i.jsx)("button",{type:"button",className:"add__button",onClick:function(){return j(!0)},children:"Add"}),Object(i.jsx)("h3",{children:" Maintain organizations here"}),a&&Object(i.jsx)(v.a,{style:{position:"absolute"}})]}),Object(i.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"No:"}),Object(i.jsx)("th",{children:"Name"}),Object(i.jsx)("th",{children:"Initials"}),Object(i.jsx)("th",{children:"Admin"})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.initials}),(null===e||void 0===e?void 0:e.organization_admin_email)?Object(i.jsx)("td",{className:"remove__item",title:"Click to remove admin",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void(window.confirm("Are you sure you want to remove this organization admin?")&&(c(),o(n,{actionType:"remove_organization_admin",organizationId:t},w)));var t},children:null===e||void 0===e?void 0:e.organization_admin_email}):Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return t=null===e||void 0===e?void 0:e.id,h(!0),void _(t);var t},children:"add"})]},null===e||void 0===e?void 0:e.id)}))]}):Object(i.jsx)("h4",{className:"not__available",children:"No organizations available"})})]}),d&&Object(i.jsx)(Xe,{openAddOrganization:d,setOpenAddOrganization:j}),p&&Object(i.jsx)($e,{openAddOrganizationAdmin:p,setOpenAddOrganizationAdmin:h,organizationId:g})]})})),tt=Object(l.b)((function(e){var t,n;return{loading:null===(t=e.shared)||void 0===t?void 0:t.loading,userId:null===(n=e.auth.user)||void 0===n?void 0:n.id}}),(function(e){return{startLoading:function(){return e({type:U})},newOrganizationTask:function(t,n,a){return e(function(e,t,n){return function(){var a=Object($.a)(X.a.mark((function a(i){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe(e,t).then((function(e){var t,a;n(),i({type:Z,payload:null===(t=e.data)||void 0===t?void 0:t.new_task}),window.alert(null===(a=e.data)||void 0===a?void 0:a.detail)})).catch((function(e){return ne(e)})).finally((function(){return ae(i)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=e.openAddTask,n=e.loading,a=e.userId,s=e.setOpenAddTask,c=e.startLoading,o=e.newOrganizationTask,l=Object(r.useState)({title:"",user_minimum_rating:"",status:"",attachment:""}),u=Object(f.a)(l,2),d=u[0],b=u[1],O=Object(r.useState)(""),p=Object(f.a)(O,2),h=p[0],x=p[1],w=d.title,k=d.user_minimum_rating,y=d.status,N=d.attachment,C=function(e){b(Object(j.a)(Object(j.a)({},d),{},Object(m.a)({},e.target.name,e.target.value)))},S=function(){_(d),x("")};return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"850px",children:Object(i.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),g(d)||""===h.trim())return window.alert("Please fill all fields");if(k>5||k<1)return window.alert("User qualification rating should be between 1 and 5");c();var t=new FormData;t.append("attachment",N,N.name),t.append("user_minimum_rating",k),t.append("status",y),t.append("title",w),t.append("instructions",h),o(a,t,S)},id:n?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Task details"}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Title"}),Object(i.jsx)("input",{type:"text",name:"title",onChange:C,value:w})]}),Object(i.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(i.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(i.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:C,value:k,min:"1",max:"5"})]})]}),n&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(i.jsxs)("select",{name:"status",onChange:C,value:y,children:[Object(i.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(i.jsx)("option",{value:"draft",children:"Draft"}),Object(i.jsx)("option",{value:"available",children:"Published"})]})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(i.jsx)("input",{type:"file",name:"attachment",onChange:function(e){b(Object(j.a)(Object(j.a)({},d),{},Object(m.a)({},e.target.name,e.target.files[0])))}})]})]}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(i.jsx)(Ke,{content:h,setContent:x})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){S(),s(!1)},children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),nt=Object(l.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:U})},editOrganization:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_e(e,t).then((function(e){var t,n;a({type:K,payload:null===(t=e.data)||void 0===t?void 0:t.updated_task}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){return ne(e)})).finally((function(){return ae(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openEditTask,n=e.currentTask,a=e.userId,s=e.loading,c=e.setCurrentTask,o=e.setOpenEditTask,l=e.startLoading,u=e.editOrganization,d=Object(r.useState)(""),b=Object(f.a)(d,2),O=b[0],p=b[1],h=n.title,x=n.user_minimum_rating,g=n.status,_=n.attachment;Object(r.useEffect)((function(){p(null===n||void 0===n?void 0:n.instructions)}),[null===n||void 0===n?void 0:n.instructions]);var w=function(e){c(Object(j.a)(Object(j.a)({},n),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"800px",children:Object(i.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),""===h.trim()||""===x||""===g.trim())return window.alert("Please fill all fields");if(x>5||x<1)return window.alert("User qualification rating should be between 1 and 5");l();var t=new FormData;_?t.append("attachment",_,_.name):t.append("attachment",""),t.append("user_minimum_rating",x),t.append("status",g),t.append("title",h),t.append("taskId",null===n||void 0===n?void 0:n.id),t.append("instructions",O),u(a,t)},id:s?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Edit task details"}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Title"}),Object(i.jsx)("input",{type:"text",name:"title",onChange:w,value:h})]}),Object(i.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(i.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(i.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:w,value:x,min:"1",max:"5"})]})]}),s&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(i.jsxs)("select",{name:"status",onChange:w,value:g,children:[Object(i.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(i.jsx)("option",{value:"draft",children:"Draft"}),Object(i.jsx)("option",{value:"available",children:"Published"})]})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(i.jsx)("input",{type:"file",name:"attachment",onChange:function(e){c(Object(j.a)(Object(j.a)({},n),{},Object(m.a)({},e.target.name,e.target.files[0])))}})]})]}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(i.jsx)(Ke,{content:O,setContent:p})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){o(!1)},children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),at=Object(l.b)((function(e){var t,n,a;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading,organizationTasks:null===(a=e.work)||void 0===a?void 0:a.organization_tasks}}),(function(e){return{startLoading:function(){return e({type:U})},getAllTasks:function(t){return e(function(e){return function(){var t=Object($.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e).then((function(e){var t;n({type:V,payload:null===(t=e.data)||void 0===t?void 0:t.tasks_data})})).catch((function(e){return ne(e)})).finally((function(){return ae(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loading,n=e.organizationTasks,a=e.userId,s=e.startLoading,c=e.getAllTasks,o=Object(r.useState)(!1),l=Object(f.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(!1),b=Object(f.a)(j,2),O=b[0],p=b[1],h=Object(r.useState)({}),m=Object(f.a)(h,2),x=m[0],g=m[1];Object(r.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&a&&(s(),c(a))}),[a,s,null===n||void 0===n?void 0:n.length,c]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"table__parent",children:[Object(i.jsxs)("div",{className:"table__parentHeader",children:[Object(i.jsx)("button",{type:"button",className:"add__button",onClick:function(){return d(!0)},children:"Add"}),Object(i.jsx)("h3",{children:" Maintain Tasks here"}),t&&Object(i.jsx)(v.a,{style:{position:"absolute"}})]}),Object(i.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"No:"}),Object(i.jsx)("th",{children:"Title"}),Object(i.jsx)("th",{children:"Edit"})]}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(i.jsx)("td",{className:"dodgerblue bd button",onClick:function(){return function(e){p(!0),g(e)}(e)},children:"edit"})]})}))]}):Object(i.jsx)("h4",{className:"not__available",children:"No tasks available"})})]}),u&&Object(i.jsx)(tt,{openAddTask:u,setOpenAddTask:d}),O&&Object(i.jsx)(nt,{openEditTask:O,setOpenEditTask:p,currentTask:x,setCurrentTask:g})]})})),it=n(39),rt=n.n(it),st=Object(l.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:U})},editWorkerOrApplication:function(t,n){return e(function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,we(e,t).then((function(e){var t,n;a({type:Q,payload:null===(t=e.data)||void 0===t?void 0:t.updated_application}),window.alert(null===(n=e.data)||void 0===n?void 0:n.detail)})).catch((function(e){return ne(e)})).finally((function(){return ae(a)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.openEditWorkerApplication,n=e.currentWorkerApplication,a=e.loading,r=e.userId,s=e.setOpenEditWorkerApplication,c=e.setCurrentWorkerApplication,o=e.startLoading,l=e.editWorkerOrApplication,u=n.id,d=n.full_name,b=n.occupation,O=n.mpesa_number,p=n.national_id,h=n.applied_on,f=n.status,x=n.about_worker,g=n.rejection_reason,_=function(e){c(Object(j.a)(Object(j.a)({},n),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"800px",children:Object(i.jsxs)("form",{className:"dialog",onSubmit:function(e){if(e.preventDefault(),"rejected"===f&&(""===g||null===g))return window.alert("You must indicate the rejection reason");var t={applicationId:u,rejection_reason:g,status:f,worker_or_application:"application"};o(),l(r,t)},id:a?"formSubmitting":"",children:[Object(i.jsx)("h3",{children:"Application details"}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Name"}),Object(i.jsx)("input",{type:"text",value:d,disabled:!0,readOnly:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(i.jsx)("input",{type:"text",value:b,disabled:!0,readOnly:!0})]})]}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(i.jsx)("input",{type:"text",value:O,disabled:!0,readOnly:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"National ID"}),Object(i.jsx)("input",{type:"text",value:p,disabled:!0,readOnly:!0})]})]}),Object(i.jsxs)("div",{className:"dialog__row",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Applied On"}),Object(i.jsx)("input",{type:"text",value:rt()(h).format("LLL"),disabled:!0,readOnly:!0})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Status"}),Object(i.jsxs)("select",{name:"status",value:f,onChange:_,children:[Object(i.jsx)("option",{value:"approved",children:"Approved"}),Object(i.jsx)("option",{value:"pending",children:"Pending"}),Object(i.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),a&&Object(i.jsx)(v.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"About User"}),Object(i.jsx)("textarea",{value:x,disabled:!0,readOnly:!0})]}),"rejected"===f&&Object(i.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(i.jsx)("label",{htmlFor:"",children:"Rejection Reason"}),Object(i.jsx)("textarea",{name:"rejection_reason",value:g,onChange:_})]}),Object(i.jsxs)("div",{className:"form__Buttons",children:[Object(i.jsx)("button",{type:"button",onClick:function(){s(!1)},children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Update"})]})]})})})),ct=Object(l.b)((function(e){var t,n,a;return{workers:null===(t=e.work)||void 0===t?void 0:t.workers,workers_applications:null===(n=e.work)||void 0===n?void 0:n.workers_applications,loading:null===(a=e.shared)||void 0===a?void 0:a.loading,userId:e.auth.user.id}}),(function(e){return{startLoading:function(){return e({type:U})},getWorkers:function(t){return e(function(e){return function(){var t=Object($.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(e).then((function(e){n({type:J,payload:e.data})})).catch((function(e){return ne(e)})).finally((function(){return ae(n)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.workers,n=e.workers_applications,a=e.userId,s=e.loading,c=e.startLoading,o=e.getWorkers,l=Object(r.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)({}),O=Object(f.a)(b,2),p=O[0],h=O[1];Object(r.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&a&&(c(),o(a))}),[o,c,a,null===n||void 0===n?void 0:n.length]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"table__parent",children:[Object(i.jsxs)("div",{className:"table__parentHeader",children:[Object(i.jsx)("h3",{children:"Workers"}),s&&Object(i.jsx)(v.a,{style:{position:"absolute"}})]}),Object(i.jsx)("table",{className:"table__listing",children:(null===t||void 0===t?void 0:t.length)>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"No:"}),Object(i.jsx)("th",{children:"Name"})]}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name})]})}))]}):Object(i.jsx)("h4",{className:"not__available",children:"No workers yet"})}),Object(i.jsx)("div",{className:"table__parentHeader",children:Object(i.jsx)("h3",{children:"Workers applications"})}),Object(i.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"No:"}),Object(i.jsx)("th",{children:"Name"}),Object(i.jsx)("th",{children:"Applied On"}),Object(i.jsx)("th",{children:"Action"})]}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsx)("td",{children:null===e||void 0===e?void 0:e.full_name}),Object(i.jsx)("td",{children:rt()(e.applied_on).format("LLL")}),"approved"!==(null===e||void 0===e?void 0:e.status)?Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return function(e){j(!0),h(e)}(e)},children:"process"}):Object(i.jsx)("td",{children:"Approved"})]},null===e||void 0===e?void 0:e.id)}))]}):Object(i.jsx)("h4",{className:"not__available",children:"No workers applications yet"})})]}),d&&Object(i.jsx)(st,{openEditWorkerApplication:d,setOpenEditWorkerApplication:j,currentWorkerApplication:p,setCurrentWorkerApplication:h})]})})),ot=function(e){return Object(i.jsx)(w.a,{open:e.isOpen,maxWidth:"lg",style:{maxWidth:null===e||void 0===e?void 0:e.maxWidth,margin:"auto"},fullWidth:!0,children:e.children})},lt=n(69),ut=function(e){var t=e.openInstructions,n=e.currentTask,a=e.setOpenInstructions;return Object(i.jsx)(Ie,{isOpen:t,maxWidth:"1000px",children:Object(i.jsxs)("div",{className:"dialog",children:[Object(i.jsx)("h3",{children:"Task Instructions"}),Object(i.jsx)("div",{children:Object(lt.a)("".concat(null===n||void 0===n?void 0:n.instructions))}),Object(i.jsx)("div",{className:"form__Buttons",children:Object(i.jsx)("button",{type:"button",onClick:function(){return a(!1)},children:"Close"})})]})})},dt=Object(l.b)((function(e){var t,n;return{userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,loading:null===(n=e.shared)||void 0===n?void 0:n.loading}}),(function(e){return{startLoading:function(){return e({type:U})},stopLoading:function(){return e({type:B})}}}))((function(e){var t=e.openTasksAvailable,n=e.userId,a=e.loading,s=e.setOpenTasksAvailable,c=e.startLoading,o=e.stopLoading,l=Object(r.useState)([]),d=Object(f.a)(l,2),j=d[0],b=d[1],O=Object(r.useState)(!1),p=Object(f.a)(O,2),h=p[0],m=p[1],v=Object(r.useState)({}),x=Object(f.a)(v,2),g=x[0],_=x[1];Object(r.useEffect)((function(){n&&(c(),function(){var e=Object($.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/work/worker-get-tasks-available/".concat(n,"/"),e.next=3,se.get(t).then((function(e){var t;b(null===(t=e.data)||void 0===t?void 0:t.available_tasks)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch((function(e){return ne(e)})).finally((function(){return o()})))}),[c,o,n]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ot,{isOpen:t,maxWidth:"1200px",children:Object(i.jsxs)("div",{className:"dialog",id:a?"pageSubmitting":"",children:[Object(i.jsx)("h3",{children:"Tasks available"}),(null===j||void 0===j?void 0:j.length)>0?Object(i.jsxs)("table",{className:"table__listing",children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"No:"}),Object(i.jsx)("th",{children:"Title"}),Object(i.jsx)("th",{children:"Instructions"}),Object(i.jsx)("th",{children:"Attachment"})]}),null===j||void 0===j?void 0:j.map((function(e,t){return Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return function(e){_(e),m(!0)}(e)},children:"view"}),Object(i.jsx)("td",{children:Object(i.jsx)(u.b,{to:"".concat(null===e||void 0===e?void 0:e.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})})]},null===e||void 0===e?void 0:e.id)}))]}):Object(i.jsx)("h4",{className:"not__available",children:"No tasks available"}),Object(i.jsx)("div",{className:"form__Buttons",children:Object(i.jsx)("button",{type:"button",onClick:function(){return s(!1)},children:"Close"})})]})}),h&&Object(i.jsx)(ut,{openInstructions:h,setOpenInstructions:m,currentTask:g})]})})),jt=function(e){var t=e.openTasksOngoing,n=e.setOpenTasksOngoing;return Object(i.jsx)(ot,{isOpen:t,maxWidth:"1200px",children:Object(i.jsxs)("div",{className:"dialog",children:[Object(i.jsx)("h3",{children:"Tasks Ongoing"}),Object(i.jsx)("div",{className:"form__Buttons",children:Object(i.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Close"})})]})})},bt=function(e){var t=e.openTasksSubmitted,n=e.setOpenTasksSubmitted;return Object(i.jsx)(ot,{isOpen:t,maxWidth:"1200px",children:Object(i.jsxs)("div",{className:"dialog",children:[Object(i.jsx)("h3",{children:"Tasks Submitted"}),Object(i.jsx)("div",{className:"form__Buttons",children:Object(i.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Close"})})]})})},Ot=(n(130),function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(f.a)(s,2),o=c[0],l=c[1],u=Object(r.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"table__parent",children:[Object(i.jsx)("div",{className:"table__parentHeader",children:Object(i.jsx)("h3",{children:"Your Work Center"})}),Object(i.jsxs)("table",{className:"table__listing",children:[Object(i.jsxs)("tr",{className:"table__listingHeader",children:[Object(i.jsx)("th",{children:"Type"}),Object(i.jsx)("th",{children:"Action"})]}),Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:"Tasks Available"}),Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return a(!0)},children:"View"})]}),Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:"Ongoing Tasks"}),Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return l(!0)},children:"View"})]}),Object(i.jsxs)("tr",{className:"table__listingItem",children:[Object(i.jsx)("td",{children:"Submitted Tasks"}),Object(i.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return b(!0)},children:"View"})]})]})]}),n&&Object(i.jsx)(dt,{openTasksAvailable:n,setOpenTasksAvailable:a}),o&&Object(i.jsx)(jt,{openTasksOngoing:o,setOpenTasksOngoing:l}),j&&Object(i.jsx)(bt,{openTasksSubmitted:j,setOpenTasksSubmitted:b})]})});var pt=Object(l.b)((function(e){var t;return{profile_type:null===(t=e.auth.user)||void 0===t?void 0:t.profile_type}}),(function(e){return{getUser:function(){return e(Ce())}}}))((function(e){var t=e.profile_type,n=e.getUser,a=localStorage.getItem("session_cookie");return Object(r.useEffect)((function(){a&&n()}),[n,a]),Object(i.jsx)("div",{id:"body-pd",children:Object(i.jsxs)(u.a,{children:[Object(i.jsx)(Le,{}),Object(i.jsx)(De,{}),Object(i.jsxs)(d.d,{children:[Object(i.jsx)(d.b,{exact:!0,path:"/",component:Pe}),Object(i.jsx)(d.b,{exact:!0,path:"/user/password-reset/:password_token/",component:Be}),Object(i.jsx)(d.b,{exact:!0,path:"/user/activate/:activation_token/",component:Ue}),"System Admin"===t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(O,{exact:!0,path:"/sys-admin/maintain-organizations/",component:et}),Object(i.jsx)(O,{exact:!0,path:"/sys-admin/maintain-workers/",component:ct})]}),"Organization Admin"===t&&Object(i.jsx)(O,{exact:!0,path:"/organization-admin/maintain-tasks/",component:at}),"Worker"===t&&Object(i.jsx)(O,{exact:!0,path:"/worker/work-center/",component:Ot}),Object(i.jsx)(O,{exact:!0,path:"/profile",component:Ye}),Object(i.jsx)(O,{exact:!0,path:"/dashboard/",component:Ge}),Object(i.jsx)(d.b,{component:He})]})]})})})),ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))},mt=n(26),ft=n(70),vt=n(71),xt={signupForm:!1,loginForm:!1,loggedIn:!1,forgotPasswordForm:!1,resendActivationForm:!1,resetPasswordConfirmForm:!1,changePasswordForm:!1,user:{}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case y:return Object(j.a)(Object(j.a)({},e),{},{signupForm:!0});case N:return Object(j.a)(Object(j.a)({},e),{},{signupForm:!1});case C:return Object(j.a)(Object(j.a)({},e),{},{loginForm:!0});case S:return Object(j.a)(Object(j.a)({},e),{},{loginForm:!1});case A:return Object(j.a)(Object(j.a)({},e),{},{user:a,loggedIn:!0});case T:return Object(j.a)(Object(j.a)({},e),{},{forgotPasswordForm:!0});case F:return Object(j.a)(Object(j.a)({},e),{},{forgotPasswordForm:!1});case E:return Object(j.a)(Object(j.a)({},e),{},{resendActivationForm:!0});case L:return Object(j.a)(Object(j.a)({},e),{},{resendActivationForm:!1});case P:return Object(j.a)(Object(j.a)({},e),{},{resetPasswordConfirmForm:!0});case z:return Object(j.a)(Object(j.a)({},e),{},{resetPasswordConfirmForm:!1});case W:return Object(j.a)(Object(j.a)({},e),{},{changePasswordForm:!0});case R:return Object(j.a)(Object(j.a)({},e),{},{changePasswordForm:!1});case I:return xt;default:return e}},_t={alert:{status:!1,alertType:"",detail:""},loading:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case D:case G:return Object(j.a)(Object(j.a)({},e),{},{alert:a});case U:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case B:return Object(j.a)(Object(j.a)({},e),{},{loading:!1});default:return e}},kt=n(42),yt=function(e,t){return Object(j.a)(Object(j.a)({},e),t)},Nt={organizations:[],organization_tasks:[],workers:[],workers_applications:[]},Ct=function(e,t){return yt(e,{organizations:[].concat(Object(kt.a)(e.organizations),[t])})},St=function(e,t){return yt(e,{organizations:t})},At=function(e,t){return yt(e,{organizations:e.organizations.map((function(e){return e.organizationId===t.organizationId?t:e}))})},It=function(e,t){return yt(e,{organization_tasks:[].concat(Object(kt.a)(e.organization_tasks),[t])})},Tt=function(e,t){return yt(e,{organization_tasks:t})},Ft=function(e,t){var n;return yt(e,{organization_tasks:null===(n=e.organization_tasks)||void 0===n?void 0:n.map((function(e){return e.id===t.id?t:e}))})},Et=function(e,t){return yt(e,{workers:t.workers,workers_applications:t.workers_applications})},Lt=function(e,t){var n,a,i;return console.log(t.action_type),"worker"===t.action_type?yt(e,{workers:null===(n=e.workers)||void 0===n?void 0:n.map((function(e){return e.id===t.id?t:e}))}):"worker_application"===t.action_type?yt(e,{workers_applications:null===(a=e.workers_applications)||void 0===a?void 0:a.map((function(e){return e.id===t.id?t:e}))}):"worker_and_application"===t.action_type?yt(e,{workers_applications:null===(i=e.workers_applications)||void 0===i?void 0:i.map((function(e){return e.id===t.id?t:e})),workers:[].concat(Object(kt.a)(e.workers),[t.worker_data])}):void 0},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case H:return Ct(e,a);case q:return St(e,a);case M:return At(e,a);case Z:return It(e,a);case V:return Tt(e,a);case K:return Ft(e,a);case J:return Et(e,a);case Q:return Lt(e,a);default:return e}},zt=Object(mt.combineReducers)({auth:gt,shared:wt,work:Pt}),Wt=Object(mt.createStore)(zt,Object(ft.composeWithDevTools)(Object(mt.applyMiddleware)(vt.a)));o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(l.a,{store:Wt,children:Object(i.jsx)(pt,{})})}),document.getElementById("root")),ht()},59:function(e,t,n){},80:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.339f03b6.chunk.js.map