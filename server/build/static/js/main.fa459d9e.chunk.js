(this["webpackJsonpmern-auth"]=this["webpackJsonpmern-auth"]||[]).push([[0],{107:function(t,e,n){},108:function(t,e,n){},109:function(t,e,n){},110:function(t,e,n){},111:function(t,e,n){},113:function(t,e,n){},114:function(t,e,n){},130:function(t,e,n){},131:function(t,e,n){},132:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"OPEN_SIGNUP",(function(){return N})),n.d(i,"CLOSE_SIGNUP",(function(){return S})),n.d(i,"OPEN_LOGIN",(function(){return C})),n.d(i,"CLOSE_LOGIN",(function(){return A})),n.d(i,"AUTH_SUCCESS",(function(){return I})),n.d(i,"LOGOUT",(function(){return T})),n.d(i,"OPEN_FORGOT_PASSWORD",(function(){return L})),n.d(i,"CLOSE_FORGOT_PASSWORD",(function(){return F})),n.d(i,"OPEN_RESEND_ACTIVATION",(function(){return E})),n.d(i,"CLOSE_RESEND_ACTIVATION",(function(){return P})),n.d(i,"OPEN_PASSWORD_RESET_CONFIRM",(function(){return W})),n.d(i,"CLOSE_PASSWORD_RESET_CONFIRM",(function(){return R})),n.d(i,"OPEN_CHANGE_PASSWORD",(function(){return z})),n.d(i,"CLOSE_CHANGE_PASSWORD",(function(){return D})),n.d(i,"SET_ALERT",(function(){return U})),n.d(i,"REMOVE_ALERT",(function(){return G})),n.d(i,"START_LOADING",(function(){return B})),n.d(i,"STOP_LOADING",(function(){return H})),n.d(i,"ADD_ORGANIZATION",(function(){return q})),n.d(i,"GET_ORGANIZATIONS",(function(){return M})),n.d(i,"UPDATE_ORGANIZATION",(function(){return V})),n.d(i,"NEW_ORGANIZATION_TASK",(function(){return Z})),n.d(i,"GET_TASKS",(function(){return K})),n.d(i,"EDIT_ORGANIZATION_TASK",(function(){return J})),n.d(i,"GET_WORKERS",(function(){return Q})),n.d(i,"EDIT_WORKER",(function(){return Y}));var a,r=n(0),s=n(1),o=n.n(s),c=n(17),l=n.n(c),u=(n(80),n(6)),d=n(10),j=n(13),b=(n(85),n(3)),O=n(72),h=function(t){var e=t.component,n=Object(O.a)(t,["component"]);return Object(r.jsx)(j.b,Object(b.a)(Object(b.a)({},n),{},{render:function(t){return localStorage.getItem("session_cookie")?Object(r.jsx)(e,Object(b.a)({},t)):Object(r.jsx)(j.a,{to:"/"})}}))},p=(n(87),n(157)),m=function(){var t=document.getElementById("nav-bar"),e=document.getElementById("body-pd");t.classList.toggle("show"),e.classList.toggle("body-pd")},v=n(9),f=n(5),x=n(155),g={success:"success",error:"error",fillFields:"Please fill all fields",unknown_error:"An unknown error occurred, please try again later",dev:!1,testProduction:!1,liveProduction:!0,devHome:"http://localhost:8000",testHome:"https://courzehub-work.herokuapp.com",productionHome:"https://work.courzehub.com"},_=function(t){for(var e in t)if(""==="".concat(t[e]))return!0;return!1},k=function(t){for(var e in t)t[e]=""},w=n(156),y=function(t){return Object(r.jsx)(w.a,{open:null===t||void 0===t?void 0:t.isOpen,maxWidth:"sm",style:{maxWidth:null===t||void 0===t?void 0:t.maxWidth,margin:"auto"},fullWidth:!0,children:t.children})},N="OPEN_SIGNUP",S="CLOSE_SIGNUP",C="OPEN_LOGIN",A="CLOSE_LOGIN",I="AUTH_SUCCESS",T="LOGOUT",L="OPEN_FORGOT_PASSWORD",F="CLOSE_FORGOT_PASSWORD",E="OPEN_RESEND_ACTIVATION",P="CLOSE_RESEND_ACTIVATION",W="OPEN_PASSWORD_RESET_CONFIRM",R="CLOSE_PASSWORD_RESET_CONFIRM",z="OPEN_CHANGE_PASSWORD",D="CLOSE_CHANGE_PASSWORD",U="SET_ALERT",G="REMOVE_ALERT",B="START_LOADING",H="STOP_LOADING",q="ADD_ORGANIZATION",M="GET_ORGANIZATIONS",V="UPDATE_ORGANIZATION",Z="NEW_ORGANIZATION_TASK",K="GET_TASKS",J="EDIT_ORGANIZATION_TASK",Q="GET_WORKERS",Y="EDIT_WORKER",X=n(4),$=n.n(X),tt=n(7),et=g.unknown_error,nt=function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i({type:U,payload:{status:!0,alertType:t,detail:e}}),setTimeout((function(){i({type:G,payload:{status:!1,alertType:"",detail:""}})}),3e3);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},it=function(t){var e,n,i,a,r,s;400===(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status)||401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)||403===(null===t||void 0===t||null===(i=t.response)||void 0===i?void 0:i.status)?window.alert(null===t||void 0===t||null===(r=t.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.detail):413===(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.status)?window.alert("Video file too large, a maximum of 95MB allowed."):window.alert(et)},at=function(t){t({type:H})},rt=n(67);a=g.testProduction?g.testHome:g.liveProduction?g.productionHome:g.devHome;var st=n.n(rt).a.create({baseURL:a});st.interceptors.request.use((function(t){return localStorage.getItem("session_cookie")&&(t.headers.Authorization="Bearer ".concat(localStorage.getItem("session_cookie")),t.headers.Accept="application/json"),t}));var ot=st,ct=function(t){return ot.post("/api/user/signup/",t)},lt=function(t){return ot.post("/api/user/activate-user-account/",{activation_token:t})},ut=function(t){return ot.post("/api/user/resend-account-activation-link/",{email:t})},dt=function(t){return ot.post("/api/user/login/",t)},jt=function(t){return ot.post("/api/user/user-request-password-reset/",{email:t})},bt=function(t,e){return ot.post("/api/user/user-set-new-password/",Object(b.a)(Object(b.a)({},t),{},{password_token:e}))},Ot=function(t,e){return ot.post("/api/user/change-user-password/".concat(e,"/"),t)},ht=function(t,e){return ot.post("/api/work/maintain-organizations/".concat(t,"/"),e)},pt=function(t,e){return ot.post("/api/work/maintain-organization-tasks/".concat(t,"/"),e)},mt=function(t,e){return ot.post("/api/work/worker-application/".concat(t,"/"),e)},vt=function(t){return ot.get("/api/work/maintain-organizations/".concat(t,"/"))},ft=function(t){return ot.get("/api/work/maintain-organization-tasks/".concat(t,"/"))},xt=function(t){return ot.get("/api/work/worker-application/".concat(t,"/"))},gt=function(t,e){return ot.patch("/api/user/update-user-details/".concat(e,"/"),t)},_t=function(t,e){return ot.patch("/api/work/maintain-organizations/".concat(t,"/"),e)},kt=function(t,e){return ot.patch("/api/work/maintain-organization-tasks/".concat(t,"/"),e)},wt=function(t,e){return ot.patch("/api/work/worker-application/".concat(t,"/"),e)},yt=g.error,Nt=g.success,St=g.unknown_error,Ct=function(){return function(){var t=Object(tt.a)($.a.mark((function t(e){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot.get("/api/user/get-user-data/").then((function(t){var n;e({type:I,payload:null===(n=t.data)||void 0===n?void 0:n.user})})).catch((function(t){e({type:T}),localStorage.clear()}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},At=function(t){return function(){var e=Object(tt.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),n({type:T}),t.replace("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},It=Object(u.b)((function(t){var e;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,loginForm:t.auth.loginForm,alert:t.shared.alert}}),(function(t){return{startLoading:function(){return t({type:B})},newAlert:function(e,n){return t(nt(e,n))},loginUser:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dt(t).then((function(t){var n;localStorage.setItem("session_cookie",null===(n=t.data)||void 0===n?void 0:n.access),e(),i({type:A}),i(Ct())})).catch((function(t){var e,n,a;400===(null===(e=t.response)||void 0===e?void 0:e.status)?i(nt(yt,null===(a=t.response.data)||void 0===a?void 0:a.detail)):401===(null===(n=t.response)||void 0===n?void 0:n.status)?i(nt(yt,"Invalid login, ensure your account is activated")):console.log(t)})).finally((function(){i({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},closeLogin:function(){return t({type:A})},openPasswordReset:function(){return t({type:L})},openSignup:function(){return t({type:N})},openResendActivation:function(){return t({type:E})}}}))((function(t){var e=t.loading,n=t.alert,i=t.loginForm,a=t.startLoading,o=t.newAlert,c=t.loginUser,l=t.closeLogin,u=t.openPasswordReset,d=t.openSignup,j=t.openResendActivation,O=Object(s.useState)({email:"",password:""}),h=Object(f.a)(O,2),p=h[0],m=h[1],w=g.error,N=p.email,S=p.password,C=function(){k(p)},A=function(t){m(Object(b.a)(Object(b.a)({},p),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(y,{isOpen:i,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:e?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Login here"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",onChange:A,value:N})]}),e&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",onChange:A,value:S})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){l(),C()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){if(t.preventDefault(),_(p))return o(w,"Email and password required");a(),c(p,C)},children:"Login"})]}),Object(r.jsxs)("div",{className:"extra__formButtons",children:[Object(r.jsx)("label",{htmlFor:"",className:"button",onClick:function(){u(),l()},children:"Forgot Password"}),Object(r.jsx)("label",{htmlFor:"",className:"button",style:{justifySelf:"end"},onClick:function(){d(),l()},children:"Create Account"})]}),Object(r.jsx)("div",{className:"extra__formButtons",children:Object(r.jsx)("label",{htmlFor:"",className:"button",onClick:function(){j(),l()},children:"Resend Activation"})})]})})})})),Tt=function(t){return Object(r.jsx)(w.a,{open:null===t||void 0===t?void 0:t.isOpen,maxWidth:"md",style:{maxWidth:null===t||void 0===t?void 0:t.maxWidth,margin:"auto"},fullWidth:!0,children:t.children})},Lt=Object(u.b)((function(t){var e,n;return{signupForm:t.auth.signupForm,alert:null===(e=t.shared)||void 0===e?void 0:e.alert,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},closeSignup:function(){return t({type:S})},newAlert:function(e,n){return t(nt(e,n))},signupUser:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ct(t).then((function(t){var n;i(nt(Nt,null===(n=t.data)||void 0===n?void 0:n.detail)),e()})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?i(nt(yt,null===(n=t.response.data)||void 0===n?void 0:n.detail)):alert(St)})).finally((function(){i({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))((function(t){var e=t.loading,n=t.signupForm,i=t.alert,a=t.startLoading,o=t.closeSignup,c=t.newAlert,l=t.signupUser,u=Object(s.useState)({first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:""}),d=Object(f.a)(u,2),j=d[0],O=d[1],h=j.first_name,p=j.last_name,m=j.username,w=j.email,y=j.password,N=j.confirm_password,S=g.error,C=g.fillFields,A=function(){k(j)},I=function(t){O(Object(b.a)(Object(b.a)({},j),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(Tt,{isOpen:n,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",id:e?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Create new account"}),Object(r.jsx)("p",{className:"response__message ".concat(i.alertType),children:i.status&&i.detail}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"First Name"}),Object(r.jsx)("input",{type:"text",name:"first_name",value:h,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(r.jsx)("input",{type:"text",name:"last_name",value:p,onChange:I,required:!0})]})]}),e&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Username"}),Object(r.jsx)("input",{type:"text",name:"username",value:m,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",username:w,onChange:I,required:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",className:"label__left",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",value:y,onChange:I,required:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_password",value:N,onChange:I,required:!0})]})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){o(),A()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){return t.preventDefault(),_(j)?c(S,C):y!==N?c(S,"Passwords should match"):(a(),void l(j,A))},children:"Sign Up"})]}),Object(r.jsx)("div",{className:"extra__formButtons"})]})})})),Ft=Object(u.b)((function(t){var e,n,i;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,alert:null===(n=t.shared)||void 0===n?void 0:n.alert,forgotPasswordForm:null===(i=t.auth)||void 0===i?void 0:i.forgotPasswordForm}}),(function(t){return{startLoading:function(){return t({type:B})},newAlert:function(e,n){return t(nt(e,n))},resetPassword:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jt(t).then((function(t){var n;i(nt(Nt,null===(n=t.data)||void 0===n?void 0:n.detail)),e()})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?i(nt(yt,null===(n=t.response.data)||void 0===n?void 0:n.detail)):i(nt(yt,St))})).finally((function(){i({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},closeForgotPassword:function(){return t({type:F})}}}))((function(t){var e=t.loading,n=t.alert,i=t.forgotPasswordForm,a=t.startLoading,o=t.newAlert,c=t.resetPassword,l=t.closeForgotPassword,u=Object(s.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=g.error,h=function(){b("")};return Object(r.jsx)(y,{isOpen:i,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:e?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter your email to reset password"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),e&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(t){return b(t.target.value)},value:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){l(),h()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){if(t.preventDefault(),""===j.trim())return o(O,"Email required");a(),c(j,h)},children:"Reset"})]})]})})})),Et=Object(u.b)((function(t){var e,n,i;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,alert:null===(n=t.shared)||void 0===n?void 0:n.alert,resendActivationForm:null===(i=t.auth)||void 0===i?void 0:i.resendActivationForm}}),(function(t){return{startLoading:function(){return t({type:B})},newAlert:function(e,n){return t(nt(e,n))},closeResendActivation:function(){return t({type:P})},resendActivation:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ut(t).then((function(t){i(nt(Nt,"Activation link sent to email.")),e()})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?i(nt(yt,null===(n=t.response.data)||void 0===n?void 0:n.detail)):i(nt(yt,"An error occurred, please try again later"))})).finally((function(){i({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))((function(t){var e=t.loading,n=t.alert,i=t.resendActivationForm,a=t.startLoading,o=t.newAlert,c=t.closeResendActivation,l=t.resendActivation,u=Object(s.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=g.error,h=function(){b("")};return Object(r.jsx)(y,{isOpen:i,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:e?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter email to resend confirmation link"}),Object(r.jsx)("p",{className:"response__message ".concat(n.alertType),children:n.status&&n.detail}),e&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(t){return b(t.target.value)},value:j,required:!0})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){c(),h()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){if(t.preventDefault(),""===j.trim())return o(O,"Email required");a(),l(j,h)},children:"Send"})]})]})})})),Pt=function(){var t=Object(u.c)(),e=(Object(j.h)(),Object(j.g)()),n=localStorage.getItem("session_cookie"),i=Object(u.d)((function(t){var e;return null===(e=t.auth.user)||void 0===e?void 0:e.username})),a=Object(u.d)((function(t){var e;return null===(e=t.auth)||void 0===e?void 0:e.userImage}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{className:"header",id:"header",children:[Object(r.jsxs)("div",{className:"header__toggle",children:[Object(r.jsx)("i",{className:"bx bx-menu",id:"header-toggle",onClick:m}),Object(r.jsx)("h1",{children:Object(r.jsx)(d.b,{to:"/",children:"CourZe Hub Work"})})]}),n?Object(r.jsx)("div",{className:"header__right authenticated",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(p.a,{alt:i,src:a,className:"user__image",children:null===i||void 0===i?void 0:i.charAt(0)}),Object(r.jsx)("h6",{children:i}),Object(r.jsx)("i",{className:"bx bx-caret-down"})]}),Object(r.jsxs)("ul",{className:"dropdown",children:[Object(r.jsx)("li",{children:Object(r.jsx)(d.b,{to:"/dashboard/",children:"Dashboard"})}),Object(r.jsx)("li",{onClick:function(){return t(At(e))},children:"Logout"})]})]})}):Object(r.jsxs)("div",{className:"header__right",children:[Object(r.jsx)("span",{className:"button",onClick:function(){return t({type:C})},children:"Login"}),Object(r.jsx)("span",{className:"button",onClick:function(){return t({type:N})},children:"Signup"})]})]}),Object(r.jsx)(It,{}),Object(r.jsx)(Lt,{}),Object(r.jsx)(Ft,{}),Object(r.jsx)(Et,{})]})},Wt=(n(107),Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,profile_type:null===(n=t.auth.user)||void 0===n?void 0:n.profile_type}}),(function(t){return{}}))((function(t){var e=t.userId,n=t.profile_type,i=Object(j.g)(),a=Object(u.c)();return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)("div",{className:"home__left",children:("Worker"===n||!n)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Earn by using your skills."}),Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){e?"Worker"===n?i.push("/worker/work-center/"):i.push("/profile"):a({type:C})},children:"Start Now"})]})}),Object(r.jsx)("div",{className:"home__right",children:("Organization Admin"===n||!n)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Tap into remote talent."}),Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){e?"Organization Admin"===n?i.push("/organization-admin/maintain-tasks/"):i.push("/profile"):a({type:C})},children:"Get Started"})]})})]})}))),Rt=(n(108),function(t){var e=t.Link,n=t.pathname;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(e,{to:"/sys-admin/maintain-organizations/",className:"/sys-admin/maintain-organizations/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"bx bxs-school"}),Object(r.jsx)("span",{className:"nav__name",children:"Organizations"})]}),Object(r.jsxs)(e,{to:"/sys-admin/maintain-workers/",className:"/sys-admin/maintain-workers/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Workers"})]})]})}),zt=function(t){var e=t.Link,n=t.pathname;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(e,{to:"/organization-admin/maintain-tasks/",className:"/organization-admin/maintain-tasks/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Tasks"})]})})},Dt=function(t){var e=t.Link,n=t.pathname;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(e,{to:"/worker/work-center/",className:"/worker/work-center/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"fa fa-briefcase","aria-hidden":"true"}),Object(r.jsx)("span",{className:"nav__name",children:"Work Center"})]})})},Ut=Object(u.b)((function(t){var e,n,i;return{loggedIn:null===(e=t.auth)||void 0===e?void 0:e.loggedIn,profile_type:null===(n=t.auth)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.profile_type}}),(function(t){return{logoutUser:function(e){return t(At(e))}}}))((function(t){var e=Object(j.g)(),n=Object(j.h)().pathname,i=t.loggedIn,a=t.profile_type,s=t.logoutUser;return Object(r.jsx)("div",{className:"left-navbar",id:"nav-bar",children:Object(r.jsxs)("nav",{className:"nav",children:[Object(r.jsxs)(d.b,{to:"",className:"nav__logo",children:[Object(r.jsx)("i",{className:"bx bx-layer nav__logo-icon"}),Object(r.jsx)("span",{className:"nav__logo-name",children:"AZW"})]}),Object(r.jsxs)("div",{className:"nav__list",children:[Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(d.b,{to:"/",className:"/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{class:"bx bx-home"}),Object(r.jsx)("span",{className:"nav__name",children:"Home"})]})}),i&&Object(r.jsxs)(r.Fragment,{children:["System Admin"===a&&Object(r.jsx)(Rt,{Link:d.b,pathname:n}),"Organization Admin"===a&&Object(r.jsx)(zt,{Link:d.b,pathname:n}),"Worker"===a&&Object(r.jsx)(Dt,{Link:d.b,pathname:n}),Object(r.jsxs)(d.b,{to:"/dashboard/",className:"/dashboard/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{className:"bx bx-grid-alt nav__icon"}),Object(r.jsx)("span",{className:"nav__name",children:"Dashboard"})]}),Object(r.jsxs)(d.b,{to:"/profile/",className:"/profile/"==="".concat(n)?"nav__link active":"nav__link",children:[Object(r.jsx)("i",{class:"bx bx-user nav__icon"}),Object(r.jsx)("span",{className:"nav__name",children:"Profile"})]}),Object(r.jsxs)(d.b,{to:"",className:"nav__link",onClick:function(){return s(e)},children:[Object(r.jsx)("i",{className:"bx bx-log-out-circle"}),Object(r.jsx)("span",{className:"nav__name",children:"Logout"})]})]})]})]})})})),Gt=(n(109),function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Dashboard"})})}),Bt=(n(59),Object(u.b)((function(t){var e;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading}}),(function(t){return{startLoading:function(){return t({type:B})},activateUser:function(e,n){return t((i={activation_token:e,history:n},function(){var t=Object(tt.a)($.a.mark((function t(e){var n,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.activation_token,a=i.history,t.next=3,lt(n).then((function(t){var n;alert(null===(n=t.data)||void 0===n?void 0:n.detail),e({type:C})})).catch((function(t){var n;400===t.response.status?(alert(null===(n=t.response.data)||void 0===n?void 0:n.detail),e({type:E})):alert(St)})).finally((function(){e({type:H}),a.replace("/")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var i}}}))((function(t){var e=Object(j.i)().activation_token,n=Object(j.g)(),i=t.loading,a=t.startLoading,s=t.activateUser;return Object(r.jsxs)("div",{className:"activate__account",id:i?"formSubmitting":"",children:[Object(r.jsx)("h1",{children:"Click on the button below to verify your account"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"1%"}}),Object(r.jsx)("button",{type:"button",onClick:function(){a(),s(e,n)},children:"Verify"})]})}))),Ht=Object(u.b)((function(t){var e,n,i;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,resetPasswordConfirmForm:null===(n=t.auth)||void 0===n?void 0:n.resetPasswordConfirmForm,alert:null===(i=t.shared)||void 0===i?void 0:i.alert}}),(function(t){return{startLoading:function(){return t({type:B})},setNewPassword:function(e,n,i){return t(function(t,e,n){return function(){var i=Object(tt.a)($.a.mark((function i(a){return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,bt(t,e).then((function(t){var e;alert(null===(e=t.data)||void 0===e?void 0:e.detail),a({type:R}),n.replace("/"),a({type:C})})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?a(nt(yt,null===(n=t.response.data)||void 0===n?void 0:n.detail)):a(nt(yt,St))})).finally((function(){a({type:H})}));case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}(e,n,i))},openNewPassword:function(){return t({type:W})},closeNewPassword:function(){return t({type:R})},newAlert:function(e,n){return t(nt(e,n))}}}))((function(t){var e=Object(j.g)(),n=Object(j.i)().password_token,i=t.loading,a=t.alert,o=t.resetPasswordConfirmForm,c=t.startLoading,l=t.setNewPassword,u=t.newAlert,d=t.openNewPassword,O=t.closeNewPassword,h=Object(s.useState)({new_password:"",confirm_password:""}),p=Object(f.a)(h,2),m=p[0],w=p[1],N=m.new_password,S=m.confirm_password,C=g.error,A=function(t){return w(Object(b.a)(Object(b.a)({},m),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"activate__account",children:[Object(r.jsx)("h1",{children:"Click the button to set new password"}),Object(r.jsx)("button",{type:"button",onClick:d,children:"Set New password"})]}),Object(r.jsx)(y,{isOpen:o,children:Object(r.jsxs)("form",{className:"dialog",id:i?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter new password"}),Object(r.jsx)("p",{className:"response__message ".concat(a.alertType),children:a.status&&a.detail}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"New Password"}),Object(r.jsx)("input",{type:"password",name:"new_password",onChange:A,value:N})]}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_password",onChange:A,value:S})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){k(m),O()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){if(t.preventDefault(),_(m))return u(C,"Both fields are required");c(),l(m,n,e)},children:"Submit"})]})]})})]})}));n(110);var qt=function(){return Object(r.jsxs)("div",{className:"not__found",children:[Object(r.jsx)("h1",{className:"not__foundHeading",children:"404 resource not found"}),Object(r.jsx)("p",{children:"Please try again."})]})},Mt=(n(111),Object(u.b)((function(t){var e,n,i,a;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,alert:null===(n=t.shared)||void 0===n?void 0:n.alert,changePasswordForm:null===(i=t.auth)||void 0===i?void 0:i.changePasswordForm,userId:null===(a=t.auth.user)||void 0===a?void 0:a.id}}),(function(t){return{startLoading:function(){return t({type:B})},changeUserPassword:function(e,n,i,a){return t(function(t,e,n){return function(){var i=Object(tt.a)($.a.mark((function i(a){return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ot(t,e).then((function(t){var e;alert(Nt,null===(e=t.data)||void 0===e?void 0:e.detail),a({type:D}),a(At(n)),a({type:C})})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?a(nt(yt,null===(n=t.response.data)||void 0===n?void 0:n.detail)):a(nt(yt,St))})).finally((function(){a({type:H})}));case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}(e,n,i))},closeChangePassword:function(){return t({type:D})},newAlert:function(e,n){return t(nt(e,n))}}}))((function(t){var e=Object(j.g)(),n=t.loading,i=t.alert,a=t.changePasswordForm,o=t.userId,c=t.startLoading,l=t.newAlert,u=t.changeUserPassword,d=t.closeChangePassword,O=Object(s.useState)({current_password:"",new_password:"",confirm_new_password:""}),h=Object(f.a)(O,2),p=h[0],m=h[1],w=p.current_password,N=p.new_password,S=p.confirm_new_password,C=g.error,A=function(){k(p)},I=function(t){m(Object(b.a)(Object(b.a)({},p),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(y,{isOpen:a,children:Object(r.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Change your password here"}),Object(r.jsx)("p",{className:"response__message ".concat(null===i||void 0===i?void 0:i.alertType),children:(null===i||void 0===i?void 0:i.status)&&(null===i||void 0===i?void 0:i.detail)}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Old Password"}),Object(r.jsx)("input",{type:"password",name:"current_password",value:w,onChange:I})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"New Password"}),Object(r.jsx)("input",{type:"password",name:"new_password",value:N,onChange:I})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Confirm New Password"}),Object(r.jsx)("input",{type:"password",name:"confirm_new_password",value:S,onChange:I})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){A(),d()},children:"Close"}),Object(r.jsx)("button",{type:"submit",onClick:function(t){if(t.preventDefault(),_(p))return l(C,"All fields are required");c(),u(p,o,e,A)},children:"Submit"})]})]})})}))),Vt=n(68),Zt=n.n(Vt),Kt=(n(113),function(){function t(t,e){document.execCommand(t,!1,e)}return Object(r.jsxs)("div",{id:"toolbar",children:[Object(r.jsx)("button",{onClick:function(e){return t("bold")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-bold"})}),Object(r.jsx)("button",{onClick:function(e){return t("italic")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-italic"})}),Object(r.jsx)("button",{onClick:function(e){return t("insertUnorderedList")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-list-ul"})}),Object(r.jsx)("button",{onClick:function(e){return t("insertOrderedList")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-list-ol"})}),Object(r.jsx)("button",{onClick:function(e){return t("underline")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-underline"})}),Object(r.jsx)("button",{onClick:function(e){return t("subscript")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-subscript"})}),Object(r.jsx)("button",{onClick:function(e){return t("superscript")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-superscript"})}),Object(r.jsx)("button",{onClick:function(e){return t("outdent")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-outdent"})}),Object(r.jsx)("button",{onClick:function(e){return t("indent")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-indent"})}),Object(r.jsx)("button",{onClick:function(e){return t("justifyFull")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-justify"})}),Object(r.jsx)("button",{onClick:function(e){return t("justifyLeft")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-left"})}),Object(r.jsx)("button",{onClick:function(e){return t("justifyCenter")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-center"})}),Object(r.jsx)("button",{onClick:function(e){return t("justifyRight")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-align-right"})}),Object(r.jsx)("button",{onClick:function(e){return t("undo")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-undo"})}),Object(r.jsx)("button",{onClick:function(e){return t("redo")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-repeat"})}),Object(r.jsx)("button",{onClick:function(e){return t("strikethrough")},type:"button",children:Object(r.jsx)("i",{class:"fa fa-strikethrough"})}),Object(r.jsx)("button",{onClick:function(){return t("selectAll")},type:"button",children:"All"})]})}),Jt=(n(114),function(t){var e=t.content,n=t.setContent;return Object(r.jsxs)("div",{className:"editor",children:[Object(r.jsx)("div",{className:"editor__buttons",children:Object(r.jsx)(Kt,{})}),Object(r.jsx)("div",{className:"editor__edit",children:Object(r.jsx)(Zt.a,{id:"editorContent",onChange:function(t){return n(t.target.value)},html:e})})]})}),Qt=function(t,e,n){return function(){var i=Object(tt.a)($.a.mark((function i(a){return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_t(t,e).then((function(t){var e,i;n(),a({type:V,payload:null===(e=t.data)||void 0===e?void 0:e.updated_organization}),window.alert(null===(i=t.data)||void 0===i?void 0:i.detail)})).catch((function(t){return it(t)})).finally((function(){return at(a)}));case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()},Yt=function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wt(t,e).then((function(t){var e,n;i({type:Y,payload:null===(e=t.data)||void 0===e?void 0:e.updated_application}),window.alert(null===(n=t.data)||void 0===n?void 0:n.detail)})).catch((function(t){return it(t)})).finally((function(){return at(i)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},Xt=Object(u.b)((function(t){var e,n;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,userId:null===(n=t.auth.user)||void 0===n?void 0:n.id}}),(function(t){return{startLoading:function(){return t({type:B})},workerApplication:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mt(t,e).then((function(t){var e;window.alert(null===(e=t.data)||void 0===e?void 0:e.detail)})).catch((function(t){return it(t)})).finally((function(){return at(i)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))((function(t){var e=t.openWorkerApplication,n=t.loading,i=t.userId,a=t.setOpenWorkerApplication,o=t.startLoading,c=t.workerApplication,l=Object(s.useState)(""),u=Object(f.a)(l,2),d=u[0],j=u[1],O=Object(s.useState)({mpesa_number:"",national_id:"",occupation:""}),h=Object(f.a)(O,2),p=h[0],m=h[1],g=function(t){m(Object(b.a)(Object(b.a)({},p),{},Object(v.a)({},t.target.name,t.target.value)))},k=p.mpesa_number,w=p.national_id,y=p.occupation;return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(t){if(t.preventDefault(),_(p)||""===d.trim())return window.alert("Please fill all fields");o();var e=Object(b.a)(Object(b.a)({},p),{},{about_worker:d});c(i,e)},id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Enter your details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"National ID"}),Object(r.jsx)("input",{type:"number",name:"national_id",value:w,onChange:g})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(r.jsx)("input",{type:"number",name:"mpesa_number",value:k,onChange:g})]})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(r.jsx)("input",{type:"text",name:"occupation",onChange:g,value:y})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"About yourself"}),Object(r.jsx)(Jt,{content:d,setContent:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){a(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),$t=Object(u.b)((function(t){var e,n,i,a,r,s,o,c;return{first_name:null===(e=t.auth.user)||void 0===e?void 0:e.first_name,last_name:null===(n=t.auth.user)||void 0===n?void 0:n.last_name,username:null===(i=t.auth.user)||void 0===i?void 0:i.username,email:null===(a=t.auth.user)||void 0===a?void 0:a.email,bio:null===(r=t.auth.user)||void 0===r?void 0:r.bio,userId:null===(s=t.auth.user)||void 0===s?void 0:s.id,has_applied_as_worker:null===(o=t.auth.user)||void 0===o?void 0:o.has_applied_as_worker,loading:null===(c=t.shared)||void 0===c?void 0:c.loading}}),(function(t){return{startLoading:function(){return t({type:B})},updateUser:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gt(t,e).then((function(t){var e,n;i({type:I,payload:null===(e=t.data)||void 0===e?void 0:e.user}),alert(null===(n=t.data)||void 0===n?void 0:n.detail)})).catch((function(t){var e,n;400===(null===(e=t.response)||void 0===e?void 0:e.status)?alert(null===(n=t.response.data)||void 0===n?void 0:n.detail):alert(St)})).finally((function(){i({type:H})}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},openChangePassword:function(){return t({type:z})}}}))((function(t){var e=t.first_name,n=t.last_name,i=t.username,a=t.email,o=t.bio,c=t.userId,l=t.loading,u=t.has_applied_as_worker,d=t.startLoading,j=t.updateUser,O=t.openChangePassword,h=Object(s.useState)({}),p=Object(f.a)(h,2),m=p[0],g=p[1],k=Object(s.useState)(!1),w=Object(f.a)(k,2),y=w[0],N=w[1];Object(s.useEffect)((function(){g({first_name:e,last_name:n,username:i,email:a,bio:o})}),[e,n,a,i,o]);var S=function(t){g(Object(b.a)(Object(b.a)({},m),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsxs)("div",{className:"profile",id:l?"formSubmitting":"",children:[Object(r.jsx)("h2",{children:"Profile Details"}),Object(r.jsxs)("div",{className:"profile__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"First Name"}),Object(r.jsx)("input",{type:"text",name:"first_name",value:m.first_name,onChange:S})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(r.jsx)("input",{type:"text",name:"last_name",value:m.last_name,onChange:S})]})]}),l&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"30%"}}),Object(r.jsxs)("div",{className:"profile__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Username"}),Object(r.jsx)("input",{type:"text",name:"username",value:m.username,onChange:S})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",name:"email",value:m.email,onChange:S})]})]}),Object(r.jsxs)("div",{className:"profile__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Bio"}),Object(r.jsx)("textarea",{name:"bio",value:m.bio,onChange:S})]}),Object(r.jsxs)("div",{className:"profile__Buttons",children:[!u&&Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){N(!0)},children:"Worker Application"}),Object(r.jsx)("button",{type:"button",className:"change__password",onClick:O,children:"Change Password"}),Object(r.jsx)("button",{type:"submit",className:"update",onClick:function(t){t.preventDefault(),_(m)&&alert("Fill all fields are to update your profile"),d(),j(m,c)},children:"Update Profile"})]}),z&&Object(r.jsx)(Mt,{}),y&&Object(r.jsx)(Xt,{openWorkerApplication:y,setOpenWorkerApplication:N})]})})),te=Object(u.b)((function(t){var e,n;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,userId:null===(n=t.auth.user)||void 0===n?void 0:n.id}}),(function(t){return{startLoading:function(){return t({type:B})},addOrganization:function(e,n,i){return t(function(t,e,n){return function(){var i=Object(tt.a)($.a.mark((function i(a){return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ht(t,e).then((function(t){var e,i;n(),window.alert(null===(e=t.data)||void 0===e?void 0:e.detail),a({type:q,payload:null===(i=t.data)||void 0===i?void 0:i.organization_data})})).catch((function(t){return it(t)})).finally((function(){return at(a)}));case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}(e,n,i))}}}))((function(t){var e=t.openAddOrganization,n=t.loading,i=t.userId,a=t.setOpenAddOrganization,o=t.startLoading,c=t.addOrganization,l=Object(s.useState)({name:"",initials:""}),u=Object(f.a)(l,2),d=u[0],j=u[1],O=d.name,h=d.initials,p=function(t){j(Object(b.a)(Object(b.a)({},d),{},Object(v.a)({},t.target.name,t.target.value)))},m=function(){k(d)};return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Organization details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Name"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:p,value:O})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"42%"}}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Initials"}),Object(r.jsx)("input",{type:"text",name:"initials",onChange:p,value:h})]})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){m(),a(!1)},children:"Close"}),Object(r.jsx)("button",{type:"button",onClick:function(t){if(t.preventDefault(),_(d))return window.alert("All fields are required");o(),c(i,d,m)},children:"Submit"})]})]})})})),ee=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},addOrganizationAdmin:function(e,n,i){return t(Qt(e,n,i))}}}))((function(t){var e=t.openAddOrganizationAdmin,n=t.userId,i=t.loading,a=t.organizationId,o=t.setOpenAddOrganizationAdmin,c=t.addOrganizationAdmin,l=t.startLoading,u=Object(s.useState)(""),d=Object(f.a)(u,2),j=d[0],b=d[1],O=function(){b("")};return Object(r.jsx)(y,{isOpen:e,maxWidth:"500px",children:Object(r.jsxs)("form",{className:"dialog",id:i?"formSubmitting":"",onSubmit:function(t){if(t.preventDefault(),""===j.trim())return window.alert("Please enter a valid email");var e={userEmail:j,actionType:"add_organization_admin",organizationId:a};l(),c(n,e,O)},children:[Object(r.jsx)("h3",{children:"Enter user email"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"40%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Email"}),Object(r.jsx)("input",{type:"email",onChange:function(t){return b(t.target.value)},value:j})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){o(!1),O()},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),ne=Object(u.b)((function(t){var e,n,i;return{organizations:null===(e=t.work)||void 0===e?void 0:e.organizations,userId:null===(n=t.auth.user)||void 0===n?void 0:n.id,loading:null===(i=t.shared)||void 0===i?void 0:i.loading}}),(function(t){return{startLoading:function(){return t({type:B})},getOrganizations:function(e){return t(function(t){return function(){var e=Object(tt.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(t).then((function(t){var e;n({type:null===i||void 0===i?void 0:M,payload:null===(e=t.data)||void 0===e?void 0:e.organizations_data})})).catch((function(t){return it(t)})).finally((function(){return at(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},removeOrganizationAdmin:function(e,n,i){return t(Qt(e,n,i))}}}))((function(t){var e=t.organizations,n=t.userId,i=t.loading,a=t.getOrganizations,o=t.startLoading,c=t.removeOrganizationAdmin,l=Object(s.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(!1),O=Object(f.a)(b,2),h=O[0],p=O[1],m=Object(s.useState)({}),v=Object(f.a)(m,2),g=v[0],_=v[1];Object(s.useEffect)((function(){n&&0===(null===e||void 0===e?void 0:e.length)&&(o(),a(n))}),[o,a,null===e||void 0===e?void 0:e.length,n]);var k=function(){};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",id:i?"pageSubmitting":"",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){return j(!0)},children:"Add"}),Object(r.jsx)("h3",{children:" Maintain organizations here"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===e||void 0===e?void 0:e.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Initials"}),Object(r.jsx)("th",{children:"Admin"})]}),null===e||void 0===e?void 0:e.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:t.name}),Object(r.jsx)("td",{children:t.initials}),(null===t||void 0===t?void 0:t.organization_admin_email)?Object(r.jsx)("td",{className:"remove__item",title:"Click to remove admin",onClick:function(){return e=null===t||void 0===t?void 0:t.id,void(window.confirm("Are you sure you want to remove this organization admin?")&&(o(),c(n,{actionType:"remove_organization_admin",organizationId:e},k)));var e},children:null===t||void 0===t?void 0:t.organization_admin_email}):Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return e=null===t||void 0===t?void 0:t.id,p(!0),void _(e);var e},children:"add"})]},null===t||void 0===t?void 0:t.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No organizations available"})})]}),d&&Object(r.jsx)(te,{openAddOrganization:d,setOpenAddOrganization:j}),h&&Object(r.jsx)(ee,{openAddOrganizationAdmin:h,setOpenAddOrganizationAdmin:p,organizationId:g})]})})),ie=Object(u.b)((function(t){var e,n;return{loading:null===(e=t.shared)||void 0===e?void 0:e.loading,userId:null===(n=t.auth.user)||void 0===n?void 0:n.id}}),(function(t){return{startLoading:function(){return t({type:B})},newOrganizationTask:function(e,n,i){return t(function(t,e,n){return function(){var i=Object(tt.a)($.a.mark((function i(a){return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,pt(t,e).then((function(t){var e,i,r,s,o;n(),a({type:Z,payload:null===(e=t.data)||void 0===e?void 0:e.new_task}),window.alert(null===(i=t.data)||void 0===i?void 0:i.detail),window.location.replace("/accounting/make-payment/".concat(null===(r=t.data)||void 0===r?void 0:r.taskId,"/").concat(null===(s=t.data)||void 0===s?void 0:s.taskAmount,"/").concat(null===(o=t.data)||void 0===o?void 0:o.merchant_ref,"/"))})).catch((function(t){return it(t)})).finally((function(){return at(a)}));case 2:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}(e,n,i))}}}))((function(t){var e=t.openAddTask,n=t.loading,i=t.userId,a=t.setOpenAddTask,o=t.startLoading,c=t.newOrganizationTask,l=Object(s.useState)({title:"",user_minimum_rating:"",status:"",attachment:"",amount:""}),u=Object(f.a)(l,2),d=u[0],j=u[1],O=Object(s.useState)(""),h=Object(f.a)(O,2),p=h[0],m=h[1],g=d.title,w=d.user_minimum_rating,y=d.status,N=d.attachment,S=d.amount,C=function(t){j(Object(b.a)(Object(b.a)({},d),{},Object(v.a)({},t.target.name,t.target.value)))},A=function(){k(d),m("")};return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"850px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(t){if(t.preventDefault(),_(d)||""===p.trim())return window.alert("Please fill all fields");if(w>5||w<1)return window.alert("User qualification rating should be between 1 and 5");o();var e=new FormData;e.append("attachment",N,N.name),e.append("user_minimum_rating",w),e.append("status",y),e.append("title",g),e.append("instructions",p),e.append("amount",S),c(i,e,A)},id:n?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Task details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Title"}),Object(r.jsx)("input",{type:"text",name:"title",onChange:C,value:g})]}),Object(r.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(r.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(r.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:C,value:w,min:"1",step:"0.1",max:"5"})]})]}),n&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(r.jsxs)("select",{name:"status",onChange:C,value:y,children:[Object(r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(r.jsx)("option",{value:"draft",children:"Draft"}),Object(r.jsx)("option",{value:"available",children:"Published"})]})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(r.jsx)("input",{type:"file",name:"attachment",onChange:function(t){j(Object(b.a)(Object(b.a)({},d),{},Object(v.a)({},t.target.name,t.target.files[0])))}})]})]}),Object(r.jsx)("div",{className:"dialog__row",children:Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Amount Payable"}),Object(r.jsx)("input",{type:"number",name:"amount",min:"1",step:"0.1",onChange:C,value:S})]})}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(r.jsx)(Jt,{content:p,setContent:m})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){A(),a(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),ae=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},editOrganization:function(e,n){return t(function(t,e){return function(){var n=Object(tt.a)($.a.mark((function n(i){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kt(t,e).then((function(t){var e,n;i({type:J,payload:null===(e=t.data)||void 0===e?void 0:e.updated_task}),window.alert(null===(n=t.data)||void 0===n?void 0:n.detail)})).catch((function(t){return it(t)})).finally((function(){return at(i)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))((function(t){var e=t.openEditTask,n=t.currentTask,i=t.userId,a=t.loading,o=t.setCurrentTask,c=t.setOpenEditTask,l=t.startLoading,u=t.editOrganization,d=Object(s.useState)(""),j=Object(f.a)(d,2),O=j[0],h=j[1],p=n.title,m=n.user_minimum_rating,g=n.status,_=n.attachment;Object(s.useEffect)((function(){h(null===n||void 0===n?void 0:n.instructions)}),[null===n||void 0===n?void 0:n.instructions]);var k=function(t){o(Object(b.a)(Object(b.a)({},n),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(t){if(t.preventDefault(),""===p.trim()||""===m||""===g.trim())return window.alert("Please fill all fields");if(m>5||m<1)return window.alert("User qualification rating should be between 1 and 5");l();var e=new FormData;_?e.append("attachment",_,_.name):e.append("attachment",""),e.append("user_minimum_rating",m),e.append("status",g),e.append("title",p),e.append("taskId",null===n||void 0===n?void 0:n.id),e.append("instructions",O),u(i,e)},id:a?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Edit task details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Title"}),Object(r.jsx)("input",{type:"text",name:"title",onChange:k,value:p})]}),Object(r.jsxs)("span",{title:"The minimum qualification required for workers to work on this task",children:[Object(r.jsx)("label",{htmlFor:"",children:"User Qualification Rating (1 - 5)"}),Object(r.jsx)("input",{type:"number",name:"user_minimum_rating",onChange:k,value:m,min:"1",max:"5",step:"0.1"})]})]}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Status"}),Object(r.jsxs)("select",{name:"status",onChange:k,value:g,children:[Object(r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"---select---"}),Object(r.jsx)("option",{value:"draft",children:"Draft"}),Object(r.jsx)("option",{value:"available",children:"Published"})]})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Attachment"}),Object(r.jsx)("input",{type:"file",name:"attachment",onChange:function(t){o(Object(b.a)(Object(b.a)({},n),{},Object(v.a)({},t.target.name,t.target.files[0])))}})]})]}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Task Instructions"}),Object(r.jsx)(Jt,{content:O,setContent:h})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){c(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})})),re=n(24),se=n.n(re),oe=function(t){return Object(r.jsx)(w.a,{open:t.isOpen,maxWidth:"lg",style:{maxWidth:null===t||void 0===t?void 0:t.maxWidth,margin:"auto"},fullWidth:!0,children:t.children})},ce=function(t){var e=t.openWorkRating,n=t.currentTaskSubmissionId,i=t.userId,a=t.loading,o=t.taskSubmissions,c=t.setOpenWorkRating,l=t.setTaskSubmissions,u=t.startLoading,d=t.stopLoading,j=Object(s.useState)({submission_rating:"",review_notes:"",submission_status:""}),O=Object(f.a)(j,2),h=O[0],p=O[1],m=h.submission_rating,g=h.review_notes,w=h.submission_status,y=function(t){p(Object(b.a)(Object(b.a)({},h),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"650px",children:Object(r.jsxs)("form",{className:"dialog",id:a?"formSubmitting":"",onSubmit:function(t){if(t.preventDefault(),_(h))return window.alert("Please fill all fields");u(),function(){var t=Object(tt.a)($.a.mark((function t(){var e,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/api/work/organization-admin-maintain-task-submissions/".concat(i,"/").concat(n,"/"),a=Object(b.a)({},h),t.next=4,ot.post(e,a).then((function(t){var e;"rejected"===w?l(o.filter((function(t){return t.id!==n}))):"approved"===w&&l(o.map((function(e){var n,i,a;return e.id===(null===(n=t.data)||void 0===n||null===(i=n.rated_submission)||void 0===i?void 0:i.id)?null===(a=t.data)||void 0===a?void 0:a.rated_submission:e}))),window.alert(null===(e=t.data)||void 0===e?void 0:e.detail),c(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return d()}))},children:[Object(r.jsx)("h3",{children:"Rate the work submitted"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Rating (1 - 5)"}),Object(r.jsx)("input",{type:"number",name:"submission_rating",onChange:y,value:m,step:"0.1",min:"1",max:"5"})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Action"}),Object(r.jsxs)("select",{name:"submission_status",onChange:y,value:w,children:[Object(r.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select action"}),Object(r.jsx)("option",{value:"approved",children:"Accept Work"}),Object(r.jsx)("option",{value:"rejected",children:"Reject Work"})]})]})]}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"45%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Comments"}),Object(r.jsx)("textarea",{name:"review_notes",onChange:y,value:g})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){c(!1),k(h)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})})},le=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},stopLoading:function(){return t({type:H})}}}))((function(t){var e=t.openTaskSubmissions,n=t.userId,i=t.currentTaskId,a=t.loading,o=t.setOpenTaskSubmissions,c=t.startLoading,l=t.stopLoading,u=Object(s.useState)([]),j=Object(f.a)(u,2),b=j[0],O=j[1],h=Object(s.useState)(!1),p=Object(f.a)(h,2),m=p[0],v=p[1],g=Object(s.useState)({}),_=Object(f.a)(g,2),k=_[0],w=_[1];Object(s.useEffect)((function(){c(),function(){var t=Object(tt.a)($.a.mark((function t(){var e;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/api/work/organization-admin-maintain-task-submissions/".concat(n,"/").concat(i,"/"),t.next=3,ot.get(e).then((function(t){var e;O(null===(e=t.data)||void 0===e?void 0:e.task_submissions)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return l()}))}),[c,l,n,i]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe,{isOpen:e,maxWidth:"1300px",children:Object(r.jsxs)("div",{className:"dialog",id:a?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Task submissions"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===b||void 0===b?void 0:b.length)>0?Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Date Submitted"}),Object(r.jsx)("th",{children:"Work Submitted"}),Object(r.jsx)("th",{children:"Rating"})]}),null===b||void 0===b?void 0:b.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.task}),Object(r.jsx)("td",{children:se()(null===t||void 0===t?void 0:t.submitted_on).format("LLL")}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"".concat(null===t||void 0===t?void 0:t.attachment),className:"button dodgerblue bd",target:"_blank",children:"View"})}),(null===t||void 0===t?void 0:t.submission_rating)?Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.submission_rating}):Object(r.jsx)("td",{className:"button__sp dodgerblue bd",onClick:function(){return e=t,v(!0),void w(e);var e},children:"Rate Work"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No task submissions yet"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return o(!1)},children:"Close"})})]})}),e&&Object(r.jsx)(ce,{setOpenWorkRating:v,openWorkRating:m,currentTaskSubmissionId:null===k||void 0===k?void 0:k.id,setTaskSubmissions:O,taskSubmissions:b,stopLoading:l,startLoading:c,userId:n,loading:a})]})})),ue=Object(u.b)((function(t){var e,n,i;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading,organizationTasks:null===(i=t.work)||void 0===i?void 0:i.organization_tasks}}),(function(t){return{startLoading:function(){return t({type:B})},getAllTasks:function(e){return t(function(t){return function(){var e=Object(tt.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(t).then((function(t){var e;n({type:K,payload:null===(e=t.data)||void 0===e?void 0:e.tasks_data})})).catch((function(t){return it(t)})).finally((function(){return at(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.loading,n=t.organizationTasks,i=t.userId,a=t.startLoading,o=t.getAllTasks,c=Object(s.useState)(!1),l=Object(f.a)(c,2),u=l[0],j=l[1],b=Object(s.useState)(!1),O=Object(f.a)(b,2),h=O[0],p=O[1],m=Object(s.useState)({}),v=Object(f.a)(m,2),g=v[0],_=v[1],k=Object(s.useState)(!1),w=Object(f.a)(k,2),y=w[0],N=w[1];Object(s.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&i&&(a(),o(i))}),[i,a,null===n||void 0===n?void 0:n.length,o]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("button",{type:"button",className:"add__button",onClick:function(){return j(!0)},children:"Add"}),Object(r.jsx)("h3",{children:" Maintain Tasks here"}),e&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Edit"}),Object(r.jsx)("th",{children:"Task Attachment"}),Object(r.jsx)("th",{children:"Payment Status"}),Object(r.jsx)("th",{children:"Submissions"})]}),null===n||void 0===n?void 0:n.map((function(t,e){var n,i;return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.title}),Object(r.jsx)("td",{className:"dodgerblue bd button__sp",onClick:function(){return function(t){p(!0),_(t)}(t)},children:"edit"}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"".concat(null===t||void 0===t?void 0:t.attachment),className:"button dodgerblue bd",target:"_blank",children:"view"})}),Object(r.jsx)("td",{children:null===(null===t||void 0===t?void 0:t.payment_status)?Object(r.jsx)("a",{href:"/accounting/make-payment/".concat(null===t||void 0===t?void 0:t.id,"/").concat(null===t||void 0===t?void 0:t.amount,"/").concat(Math.floor(1e7*Math.random()),"/"),className:"red bd button",children:"Pay"}):"paid"===(null===t||void 0===t?void 0:t.payment_status)?Object(r.jsx)("span",{className:"green bd button",children:"Paid"}):(null===t||void 0===t?void 0:t.pesapal)&&Object(r.jsx)("a",{href:"/pesapal/transaction/completed/?pesapal_merchant_reference=".concat(null===t||void 0===t||null===(n=t.pesapal_transaction)||void 0===n?void 0:n.pesapal_merchant_reference,"&pesapal_transaction_tracking_id=").concat(null===t||void 0===t||null===(i=t.pesapal_transaction)||void 0===i?void 0:i.pesapal_transaction_tracking_id),className:"dodgerblue bd button__sp",children:"Confirm Payment"})}),Object(r.jsx)("td",{className:"button__sp dodgerblue bd",onClick:function(){return function(t){N(!0),_(t)}(t)},children:"View"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No tasks available"})})]}),u&&Object(r.jsx)(ie,{openAddTask:u,setOpenAddTask:j}),h&&Object(r.jsx)(ae,{openEditTask:h,setOpenEditTask:p,currentTask:g,setCurrentTask:_}),y&&Object(r.jsx)(le,{openTaskSubmissions:y,setOpenTaskSubmissions:N,currentTaskId:null===g||void 0===g?void 0:g.id})]})})),de=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},editWorkerOrApplication:function(e,n){return t(Yt(e,n))}}}))((function(t){var e=t.openEditWorkerApplication,n=t.currentWorkerApplication,i=t.loading,a=t.userId,s=t.setOpenEditWorkerApplication,o=t.setCurrentWorkerApplication,c=t.startLoading,l=t.editWorkerOrApplication,u=n.id,d=n.full_name,j=n.occupation,O=n.mpesa_number,h=n.national_id,p=n.applied_on,m=n.status,f=n.about_worker,g=n.rejection_reason,_=function(t){o(Object(b.a)(Object(b.a)({},n),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"800px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(t){if(t.preventDefault(),"rejected"===m&&(""===g||null===g))return window.alert("You must indicate the rejection reason");var e={applicationId:u,rejection_reason:g,status:m,worker_or_application:"application"};c(),l(a,e)},id:i?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Application details"}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Name"}),Object(r.jsx)("input",{type:"text",value:d,disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Occupation"}),Object(r.jsx)("input",{type:"text",value:j,disabled:!0,readOnly:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Mpesa Number"}),Object(r.jsx)("input",{type:"text",value:O,disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"National ID"}),Object(r.jsx)("input",{type:"text",value:h,disabled:!0,readOnly:!0})]})]}),Object(r.jsxs)("div",{className:"dialog__row",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Applied On"}),Object(r.jsx)("input",{type:"text",value:se()(p).format("LLL"),disabled:!0,readOnly:!0})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("label",{htmlFor:"",children:"Status"}),Object(r.jsxs)("select",{name:"status",value:m,onChange:_,children:[Object(r.jsx)("option",{value:"approved",children:"Approved"}),Object(r.jsx)("option",{value:"pending",children:"Pending"}),Object(r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"About User"}),Object(r.jsx)("textarea",{value:f,disabled:!0,readOnly:!0})]}),"rejected"===m&&Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Rejection Reason"}),Object(r.jsx)("textarea",{name:"rejection_reason",value:g,onChange:_})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){s(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Update"})]})]})})})),je=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},editWorkerOrApplication:function(e,n){return t(Yt(e,n))}}}))((function(t){var e=t.openEditWorker,n=t.currentWorker,i=t.userId,a=t.loading,s=t.setOpenEditWorker,o=t.setCurrentWorker,c=t.startLoading,l=t.editWorkerOrApplication,u=function(t){o(Object(b.a)(Object(b.a)({},n),{},Object(v.a)({},t.target.name,t.target.value)))};return Object(r.jsx)(y,{isOpen:e,maxWidth:"600px",children:Object(r.jsxs)("form",{className:"dialog",onSubmit:function(t){var e,a;if(t.preventDefault(),"disabled"===(null===n||void 0===n?void 0:n.profile_status)&&(""===(null===n||void 0===n||null===(e=n.disabled_notes)||void 0===e?void 0:e.trim())||null===(null===n||void 0===n?void 0:n.disabled_notes)))return window.alert("Please indicate reason for disabling worker account");if("suspended"===(null===n||void 0===n?void 0:n.profile_status)&&(""===(null===n||void 0===n||null===(a=n.suspension_notes)||void 0===a?void 0:a.trim())||null===(null===n||void 0===n?void 0:n.suspension_notes)))return window.alert("Please indicate reason for suspending worker account");var r={workerId:null===n||void 0===n?void 0:n.id,profile_status:null===n||void 0===n?void 0:n.profile_status,worker_or_application:"worker",suspension_notes:null===n||void 0===n?void 0:n.suspension_notes,disabled_notes:null===n||void 0===n?void 0:n.disabled_notes};c(),l(i,r)},id:a?"formSubmitting":"",children:[Object(r.jsx)("h3",{children:"Update Worker"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"43%"}}),Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Worker Status"}),Object(r.jsxs)("select",{name:"profile_status",value:null===n||void 0===n?void 0:n.profile_status,onChange:u,children:[Object(r.jsx)("option",{value:"active",children:"Active"}),Object(r.jsx)("option",{value:"disabled",children:"Disabled"}),Object(r.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),"disabled"===(null===n||void 0===n?void 0:n.profile_status)&&Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Reason for disabling worker"}),Object(r.jsx)("textarea",{name:"disabled_notes",onChange:u,value:null===n||void 0===n?void 0:n.disabled_notes})]}),"suspended"===(null===n||void 0===n?void 0:n.profile_status)&&Object(r.jsxs)("div",{className:"dialog__rowSingleItem",children:[Object(r.jsx)("label",{htmlFor:"",children:"Reason for suspending worker"}),Object(r.jsx)("textarea",{name:"suspension_notes",onChange:u,value:null===n||void 0===n?void 0:n.suspension_notes})]}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){return s(!1)},children:"Close"}),Object(r.jsx)("button",{type:"submit",children:"Update"})]})]})})})),be=Object(u.b)((function(t){var e,n,i;return{workers:null===(e=t.work)||void 0===e?void 0:e.workers,workers_applications:null===(n=t.work)||void 0===n?void 0:n.workers_applications,loading:null===(i=t.shared)||void 0===i?void 0:i.loading,userId:t.auth.user.id}}),(function(t){return{startLoading:function(){return t({type:B})},getWorkers:function(e){return t(function(t){return function(){var e=Object(tt.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt(t).then((function(t){n({type:Q,payload:t.data})})).catch((function(t){return it(t)})).finally((function(){return at(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.workers,n=t.workers_applications,i=t.userId,a=t.loading,o=t.startLoading,c=t.getWorkers,l=Object(s.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)({}),O=Object(f.a)(b,2),h=O[0],p=O[1],m=Object(s.useState)({}),v=Object(f.a)(m,2),g=v[0],_=v[1],k=Object(s.useState)(!1),w=Object(f.a)(k,2),y=w[0],N=w[1];Object(s.useEffect)((function(){0===(null===n||void 0===n?void 0:n.length)&&i&&(o(),c(i))}),[c,o,i,null===n||void 0===n?void 0:n.length]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsxs)("div",{className:"table__parentHeader",children:[Object(r.jsx)("h3",{children:"Workers"}),a&&Object(r.jsx)(x.a,{style:{position:"absolute"}})]}),Object(r.jsx)("table",{className:"table__listing",children:(null===e||void 0===e?void 0:e.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:"Update"})]}),null===e||void 0===e?void 0:e.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.full_name}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.profile_status}),Object(r.jsx)("td",{className:"dodgerblue bd button__sp",onClick:function(){return function(t){_(t),N(!0)}(t)},children:"edit"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No workers yet"})}),Object(r.jsx)("div",{className:"table__parentHeader",children:Object(r.jsx)("h3",{children:"Workers applications"})}),Object(r.jsx)("table",{className:"table__listing",children:(null===n||void 0===n?void 0:n.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Applied On"}),Object(r.jsx)("th",{children:"Action"})]}),null===n||void 0===n?void 0:n.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.full_name}),Object(r.jsx)("td",{children:se()(t.applied_on).format("LLL")}),"approved"!==(null===t||void 0===t?void 0:t.status)?Object(r.jsx)("td",{className:"button__sp dodgerblue bd",onClick:function(){return function(t){j(!0),p(t)}(t)},children:"process"}):Object(r.jsx)("td",{children:"Approved"})]},null===t||void 0===t?void 0:t.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No workers applications yet"})})]}),d&&Object(r.jsx)(de,{openEditWorkerApplication:d,setOpenEditWorkerApplication:j,currentWorkerApplication:h,setCurrentWorkerApplication:p}),y&&Object(r.jsx)(je,{openEditWorker:y,setOpenEditWorker:N,currentWorker:g,setCurrentWorker:_})]})})),Oe=n(69),he=function(t){var e=t.openInstructions,n=t.currentTask,i=t.setOpenInstructions;return Object(r.jsx)(Tt,{isOpen:e,maxWidth:"1000px",children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Task Instructions"}),Object(r.jsx)("div",{children:Object(Oe.a)("".concat(null===n||void 0===n?void 0:n.instructions))}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return i(!1)},children:"Close"})})]})})},pe=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},stopLoading:function(){return t({type:H})}}}))((function(t){var e=t.openTasksAvailable,n=t.userId,i=t.loading,a=t.setOpenTasksAvailable,o=t.startLoading,c=t.stopLoading,l=Object(s.useState)([]),u=Object(f.a)(l,2),j=u[0],b=u[1],O=Object(s.useState)(!1),h=Object(f.a)(O,2),p=h[0],m=h[1],v=Object(s.useState)({}),g=Object(f.a)(v,2),_=g[0],k=g[1],w=Object(s.useState)(!0),y=Object(f.a)(w,2),N=y[0],S=y[1];Object(s.useEffect)((function(){n&&N&&(o(),function(){var t=Object(tt.a)($.a.mark((function t(){var e;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/api/work/worker-tasks-available/".concat(n,"/"),t.next=3,ot.get(e).then((function(t){var e;b(null===(e=t.data)||void 0===e?void 0:e.available_tasks)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){S(!1),c()})))}),[o,c,n,N]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe,{isOpen:e,maxWidth:"1200px",children:Object(r.jsxs)("div",{className:"dialog",id:i?"pageSubmitting":"",children:[Object(r.jsx)("h3",{children:"Tasks available"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===j||void 0===j?void 0:j.length)>0?Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Wage (KES)"}),Object(r.jsx)("th",{children:"Instructions"}),Object(r.jsx)("th",{children:"Attachment"}),Object(r.jsx)("th",{children:"Action"})]}),null===j||void 0===j?void 0:j.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.title}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.amount}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return function(t){k(t),m(!0)}(t)},children:"view"}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"".concat(null===t||void 0===t?void 0:t.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})}),Object(r.jsx)("td",{className:"dodgerblue bd button",onClick:function(e){return function(t,e){t.preventDefault(),window.confirm("Accept this task and start working")&&(o(),function(){var t=Object(tt.a)($.a.mark((function t(){var i,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/work/worker-tasks-available/".concat(n,"/"),a={taskId:e},t.next=4,ot.post(i,a).then((function(t){var e;return b(j.filter((function(e){var n;return e.id!==(null===(n=t.data)||void 0===n?void 0:n.taskId)}))),window.alert(null===(e=t.data)||void 0===e?void 0:e.detail)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return c()})))}(e,null===t||void 0===t?void 0:t.id)},children:"Accept"})]},null===t||void 0===t?void 0:t.id)}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No tasks available"}),Object(r.jsxs)("div",{className:"form__Buttons",children:[Object(r.jsx)("button",{type:"button",onClick:function(){return a(!1)},children:"Close"}),Object(r.jsx)("button",{type:"button",onClick:function(){S(!0)},children:"Refresh"})]})]})}),p&&Object(r.jsx)(he,{openInstructions:p,setOpenInstructions:m,currentTask:_})]})})),me=(n(130),Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},stopLoading:function(){return t({type:H})}}}))((function(t){var e=t.openTasksOngoing,n=t.userId,i=t.loading,a=t.setOpenTasksOngoing,o=t.startLoading,c=t.stopLoading,l=Object(s.useState)([]),u=Object(f.a)(l,2),j=u[0],b=u[1],O=Object(s.useState)(""),h=Object(f.a)(O,2),p=h[0],m=h[1];Object(s.useEffect)((function(){n&&(o(),function(){var t=Object(tt.a)($.a.mark((function t(){var e;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/api/work/worker-tasks-ongoing/".concat(n,"/"),t.next=3,ot.get(e).then((function(t){var e;b(null===(e=t.data)||void 0===e?void 0:e.ongoing_tasks)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return c()})))}),[o,c,n]);var v=function(t){m(t.target.files[0])},g=function(){var t=Object(tt.a)($.a.mark((function t(e){var i;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to return this task?")){t.next=5;break}return i="/api/work/worker-tasks-ongoing/".concat(n,"/"),o(),t.next=5,ot.patch(i,{taskSubmissionId:e}).then((function(t){var n;b(null===j||void 0===j?void 0:j.filter((function(t){return(null===t||void 0===t?void 0:t.id)!==e}))),window.alert(null===(n=t.data)||void 0===n?void 0:n.detail)})).catch((function(t){return it(t)})).finally((function(){return c()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(oe,{isOpen:e,maxWidth:"1400px",children:Object(r.jsxs)("div",{className:"dialog",id:i?"pageSubmitting":"",children:[Object(r.jsx)("h3",{children:"Tasks Ongoing"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===j||void 0===j?void 0:j.length)>0?Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Taken On"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:"Requirements"}),Object(r.jsx)("th",{children:"Submit Work"}),Object(r.jsx)("th",{title:"return if unable to complete task",children:"Return Task ?"})]}),null===j||void 0===j?void 0:j.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.task}),Object(r.jsx)("td",{children:se()(null===t||void 0===t?void 0:t.taken_on).format("LLL")}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.submission_status}),Object(r.jsx)("td",{children:Object(r.jsx)(d.b,{to:"".concat(null===t||void 0===t?void 0:t.attachment),className:"button dodgerblue bd",target:"_blank",children:"Open"})}),Object(r.jsx)("td",{className:"task__submissionForm",children:Object(r.jsxs)("form",{onSubmit:function(e){return function(t,e){if(t.preventDefault(),""===p)return window.alert("Please attach a valid file");o(),function(){var t=Object(tt.a)($.a.mark((function t(){var i,a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/work/worker-tasks-ongoing/".concat(n,"/"),(a=new FormData).append("attachment",p,p.name),a.append("taskId",e),t.next=6,ot.post(i,a).then((function(t){var e;return b(null===j||void 0===j?void 0:j.filter((function(e){var n;return e.id!==(null===(n=t.data)||void 0===n?void 0:n.taskId)}))),window.alert(null===(e=t.data)||void 0===e?void 0:e.detail)}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return c()}))}(e,null===t||void 0===t?void 0:t.id)},children:[Object(r.jsx)("input",{type:"file",name:"",onChange:v}),Object(r.jsx)("button",{type:"submit",className:"add__button",children:"Submit"})]})}),Object(r.jsx)("td",{className:"button__sp red bd",onClick:function(){return g(null===t||void 0===t?void 0:t.id)},children:"Return"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No ongoing tasks"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return a(!1)},children:"Close"})})]})})}))),ve=function(t){var e=t.openReviewNotes,n=t.setOpenReviewNotes,i=t.currentReviewNotes;return Object(r.jsx)(y,{isOpen:e,children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Review notes for this task"}),Object(r.jsx)("br",{}),Object(r.jsx)("textarea",{name:"",value:i,disabled:!0,readOnly:!0}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:"Close"})})]})})},fe=Object(u.b)((function(t){var e,n;return{userId:null===(e=t.auth.user)||void 0===e?void 0:e.id,loading:null===(n=t.shared)||void 0===n?void 0:n.loading}}),(function(t){return{startLoading:function(){return t({type:B})},stopLoading:function(){return t({type:H})}}}))((function(t){var e=t.openTasksSubmitted,n=t.userId,i=t.loading,a=t.setOpenTasksSubmitted,o=t.startLoading,c=t.stopLoading,l=Object(s.useState)([]),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(s.useState)(!1),O=Object(f.a)(b,2),h=O[0],p=O[1],m=Object(s.useState)(""),v=Object(f.a)(m,2),g=v[0],_=v[1];Object(s.useEffect)((function(){n&&(o(),function(){var t=Object(tt.a)($.a.mark((function t(){var e;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="/api/work/worker-tasks-submitted/".concat(n,"/"),t.next=3,ot.get(e).then((function(t){var e;j(null===(e=t.data)||void 0===e?void 0:e.submitted_tasks)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().catch((function(t){return it(t)})).finally((function(){return c()})))}),[o,c,n]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe,{isOpen:e,maxWidth:"1300px",children:Object(r.jsxs)("div",{className:"dialog",children:[Object(r.jsx)("h3",{children:"Tasks Submitted"}),i&&Object(r.jsx)(x.a,{style:{position:"absolute",marginLeft:"45%"}}),(null===d||void 0===d?void 0:d.length)>0?Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"No:"}),Object(r.jsx)("th",{children:"Title"}),Object(r.jsx)("th",{children:"Date Submitted"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:"Rating"}),Object(r.jsx)("th",{children:"Review Notes"})]}),null===d||void 0===d?void 0:d.map((function(t,e){return Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:e+1}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.task}),Object(r.jsx)("td",{children:se()(null===t||void 0===t?void 0:t.submitted_on).format("LLL")}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.submission_status}),Object(r.jsx)("td",{children:null===t||void 0===t?void 0:t.submission_rating}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return e=null===t||void 0===t?void 0:t.review_notes,p(!0),void _(e);var e},children:"view"})]})}))]}):Object(r.jsx)("h4",{className:"not__available",children:"No submitted tasks"}),Object(r.jsx)("div",{className:"form__Buttons",children:Object(r.jsx)("button",{type:"button",onClick:function(){return a(!1)},children:"Close"})})]})}),h&&Object(r.jsx)(ve,{openReviewNotes:h,setOpenReviewNotes:p,currentReviewNotes:g})]})})),xe=(n(131),function(){var t=Object(s.useState)(!1),e=Object(f.a)(t,2),n=e[0],i=e[1],a=Object(s.useState)(!1),o=Object(f.a)(a,2),c=o[0],l=o[1],u=Object(s.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"table__parent",children:[Object(r.jsx)("div",{className:"table__parentHeader",children:Object(r.jsx)("h3",{children:"Your Work Center"})}),Object(r.jsxs)("table",{className:"table__listing",children:[Object(r.jsxs)("tr",{className:"table__listingHeader",children:[Object(r.jsx)("th",{children:"Type"}),Object(r.jsx)("th",{children:"Action"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Tasks Available"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return i(!0)},children:"View"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Ongoing Tasks"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return l(!0)},children:"View"})]}),Object(r.jsxs)("tr",{className:"table__listingItem",children:[Object(r.jsx)("td",{children:"Submitted Tasks"}),Object(r.jsx)("td",{className:"button dodgerblue bd",onClick:function(){return b(!0)},children:"View"})]})]})]}),n&&Object(r.jsx)(pe,{openTasksAvailable:n,setOpenTasksAvailable:i}),c&&Object(r.jsx)(me,{openTasksOngoing:c,setOpenTasksOngoing:l}),j&&Object(r.jsx)(fe,{openTasksSubmitted:j,setOpenTasksSubmitted:b})]})});var ge=Object(u.b)((function(t){var e;return{profile_type:null===(e=t.auth.user)||void 0===e?void 0:e.profile_type}}),(function(t){return{getUser:function(){return t(Ct())}}}))((function(t){var e=t.profile_type,n=t.getUser,i=localStorage.getItem("session_cookie");return Object(s.useEffect)((function(){i&&n()}),[n,i]),Object(r.jsx)("div",{id:"body-pd",children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(Pt,{}),Object(r.jsx)(Ut,{}),Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",component:Wt}),Object(r.jsx)(j.b,{exact:!0,path:"/user/password-reset/:password_token/",component:Ht}),Object(r.jsx)(j.b,{exact:!0,path:"/user/activate/:activation_token/",component:Bt}),"System Admin"===e&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{exact:!0,path:"/sys-admin/maintain-organizations/",component:ne}),Object(r.jsx)(h,{exact:!0,path:"/sys-admin/maintain-workers/",component:be})]}),"Organization Admin"===e&&Object(r.jsx)(h,{exact:!0,path:"/organization-admin/maintain-tasks/",component:ue}),"Worker"===e&&Object(r.jsx)(h,{exact:!0,path:"/worker/work-center/",component:xe}),Object(r.jsx)(h,{exact:!0,path:"/profile",component:$t}),Object(r.jsx)(h,{exact:!0,path:"/dashboard/",component:Gt}),Object(r.jsx)(j.b,{component:qt})]})]})})})),_e=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),r(t),s(t)}))},ke=n(27),we=n(70),ye=n(71),Ne={signupForm:!1,loginForm:!1,loggedIn:!1,forgotPasswordForm:!1,resendActivationForm:!1,resetPasswordConfirmForm:!1,changePasswordForm:!1,user:{}},Se=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,e=arguments.length>1?arguments[1]:void 0,n=e.type,i=e.payload;switch(n){case N:return Object(b.a)(Object(b.a)({},t),{},{signupForm:!0});case S:return Object(b.a)(Object(b.a)({},t),{},{signupForm:!1});case C:return Object(b.a)(Object(b.a)({},t),{},{loginForm:!0});case A:return Object(b.a)(Object(b.a)({},t),{},{loginForm:!1});case I:return Object(b.a)(Object(b.a)({},t),{},{user:i,loggedIn:!0});case L:return Object(b.a)(Object(b.a)({},t),{},{forgotPasswordForm:!0});case F:return Object(b.a)(Object(b.a)({},t),{},{forgotPasswordForm:!1});case E:return Object(b.a)(Object(b.a)({},t),{},{resendActivationForm:!0});case P:return Object(b.a)(Object(b.a)({},t),{},{resendActivationForm:!1});case W:return Object(b.a)(Object(b.a)({},t),{},{resetPasswordConfirmForm:!0});case R:return Object(b.a)(Object(b.a)({},t),{},{resetPasswordConfirmForm:!1});case z:return Object(b.a)(Object(b.a)({},t),{},{changePasswordForm:!0});case D:return Object(b.a)(Object(b.a)({},t),{},{changePasswordForm:!1});case T:return Ne;default:return t}},Ce={alert:{status:!1,alertType:"",detail:""},loading:!1},Ae=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,e=arguments.length>1?arguments[1]:void 0,n=e.type,i=e.payload;switch(n){case U:case G:return Object(b.a)(Object(b.a)({},t),{},{alert:i});case B:return Object(b.a)(Object(b.a)({},t),{},{loading:!0});case H:return Object(b.a)(Object(b.a)({},t),{},{loading:!1});default:return t}},Ie=n(42),Te=function(t,e){return Object(b.a)(Object(b.a)({},t),e)},Le={organizations:[],organization_tasks:[],workers:[],workers_applications:[]},Fe=function(t,e){return Te(t,{organizations:[].concat(Object(Ie.a)(t.organizations),[e])})},Ee=function(t,e){return Te(t,{organizations:e})},Pe=function(t,e){return Te(t,{organizations:t.organizations.map((function(t){return t.organizationId===e.organizationId?e:t}))})},We=function(t,e){return Te(t,{organization_tasks:[].concat(Object(Ie.a)(t.organization_tasks),[e])})},Re=function(t,e){return Te(t,{organization_tasks:e})},ze=function(t,e){var n;return Te(t,{organization_tasks:null===(n=t.organization_tasks)||void 0===n?void 0:n.map((function(t){return t.id===e.id?e:t}))})},De=function(t,e){return Te(t,{workers:e.workers,workers_applications:e.workers_applications})},Ue=function(t,e){var n,i,a;return console.log(e.action_type),"worker"===e.action_type?Te(t,{workers:null===(n=t.workers)||void 0===n?void 0:n.map((function(t){return t.id===e.id?e:t}))}):"worker_application"===e.action_type?Te(t,{workers_applications:null===(i=t.workers_applications)||void 0===i?void 0:i.map((function(t){return t.id===e.id?e:t}))}):"worker_and_application"===e.action_type?Te(t,{workers_applications:null===(a=t.workers_applications)||void 0===a?void 0:a.map((function(t){return t.id===e.id?e:t})),workers:[].concat(Object(Ie.a)(t.workers),[e.worker_data])}):void 0},Ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,e=arguments.length>1?arguments[1]:void 0,n=e.type,i=e.payload;switch(n){case q:return Fe(t,i);case M:return Ee(t,i);case V:return Pe(t,i);case Z:return We(t,i);case K:return Re(t,i);case J:return ze(t,i);case Q:return De(t,i);case Y:return Ue(t,i);default:return t}},Be=Object(ke.combineReducers)({auth:Se,shared:Ae,work:Ge}),He=Object(ke.createStore)(Be,Object(we.composeWithDevTools)(Object(ke.applyMiddleware)(ye.a)));l.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(u.a,{store:He,children:Object(r.jsx)(ge,{})})}),document.getElementById("root")),_e()},59:function(t,e,n){},80:function(t,e,n){},85:function(t,e,n){},87:function(t,e,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.fa459d9e.chunk.js.map